{"version":3,"file":"3sfsUUIq.js","sources":["../../../../app/components/Billing/Form/Skeleton.vue","../../../../app/pages/auth/sign-up/subscription/buy/[id].vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst { t } = useI18n();\n</script>\n\n<template>\n  <div class=\"billingFormSkeleton\">\n    <div class=\"flex mb-6\">\n      <IconCreditCardVisa />\n      <IconCreditCardMasterCard class=\"mx-3\" />\n      <IconCreditCardAxp />\n    </div>\n\n    <BaseInput disabled :label=\"t('pages.account_billing.card_holder_name')\" root-class=\"mb-6\" name=\"cardName\" />\n\n    <BaseInput\n      disabled :label=\"t('pages.account_billing.card_number')\" root-class=\"mb-6\" name=\"cardNumber\"\n      autocomplete=\"cc-number\" placeholder=\"0000 0000 0000 0000\" pattern=\"([0-9]{4}( )){3}[0-9]{4}\" maxlength=\"19\"\n    />\n\n    <div class=\"flex gap-6 mb-8\">\n      <BaseInput\n        outline disabled :label=\"t('pages.account_billing.card_expiry_date')\" root-class=\"w-full\"\n        name=\"cardExpiry\" placeholder=\"MM / YY\"\n      />\n\n      <BaseInput\n        disabled :label=\"t('pages.account_billing.card_cvv')\" root-class=\"w-full\" name=\"cardCVV\"\n        autocomplete=\"cc-csc\" placeholder=\"3 or 4 digits\"\n      />\n    </div>\n\n    <div class=\"hr my-6\" />\n\n    <div class=\"flex items-center justify-between mb-4\">\n      <div class=\"text-secondary text-body-medium\">\n        {{ t('pages.account_subscription.label_plan_amount') }}\n      </div>\n      <div class=\"text-secondary text-base\">\n        ...\n      </div>\n    </div>\n\n    <div class=\"flex items-center justify-between\">\n      <div class=\"text-main text-base font-bold\">\n        {{ t('pages.account_subscription.label_total_billed') }}\n      </div>\n      <div class=\"text-main text-base\">\n        ...\n      </div>\n    </div>\n    <div class=\"hr my-6\" />\n\n    <div class=\"mb-6 text-xs text-secondary\">\n      {{\n        t('pages.account_subscription.subscription_expires', { date: '...' })\n      }}\n    </div>\n\n    <BaseButton class=\"font-bold\" name=\"submit\" disabled full-width>\n      {{ t('labels.submit') }}\n    </BaseButton>\n\n    <div class=\"mt-5 flex items-center justify-center w-full\">\n      <BaseButton link name=\"change-product\" disabled>\n        {{ t('labels.change_product') }}\n      </BaseButton>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.billingFormSkeleton {\n  @apply w-full h-[30rem];\n}\n</style>\n","<script setup lang=\"ts\">\nimport { breakpointsTailwind, useBreakpoints, useStepper } from \"@vueuse/core\";\nimport useAsync from \"~/composables/use-async\";\nimport SubscriptionAPI from \"~/services/subscription\";\n\nconst { t } = useI18n();\nconst route = useRoute();\nconst creditCard = ref<IModelCreditCard | null>(null);\nconst stepper = useStepper([\"buy-commerce\", \"success-purchased\", \"error-purchased\"], \"buy-commerce\");\nconst onError = () => stepper.goTo(\"error-purchased\");\nconst onPaySuccess = () => stepper.goTo(\"success-purchased\");\n\nconst {\n  data: subscription,\n  loading: loadingSubscription,\n  run: loadSubscription,\n} = useAsync(() => SubscriptionAPI.loadById(route.params.id as string));\n\nconst onPaySubmit = (card: any) => {\n  creditCard.value = card;\n};\n\nconst breakpoints = useBreakpoints(breakpointsTailwind);\nconst lg = breakpoints.greaterOrEqual(\"lg\");\nconst { canShownHeader } = inject(\"authLayoutData\") as { canShownHeader: boolean };\n\nonMounted(() => loadSubscription());\ndefinePageMeta({ layout: \"auth\" });\n</script>\n\n<template>\n  <div>\n    <AuthHeader :class=\"{ '!my-0': canShownHeader && !lg }\" :transparent=\"!canShownHeader || lg\" fixed with-locale />\n\n    <BaseMain class=\"min-h-screen\">\n      <div v-if=\"stepper.isCurrent('buy-commerce')\" class=\"pt-32 pb-12 form-column\">\n        <div class=\"w-[20rem] sm:w-[25rem] lg:w-[30rem]\">\n          <h1 class=\"text-center text-xl sm:text-2xl lg:text-3xl font-bold mb-10 truncate\">\n            {{ loadingSubscription ? t('labels.loading') : subscription?.title }}\n          </h1>\n\n          <BillingFormSkeleton v-if=\"loadingSubscription\" />\n          <BillingForm\n            v-else-if=\"subscription\"\n            :subscription=\"subscription\"\n            @submit=\"onPaySubmit\"\n            @success=\"onPaySuccess\"\n            @error=\"onError\"\n          >\n            <template #cancel=\"{ disabled }\">\n              <div class=\"mt-5 flex items-center justify-center w-full\">\n                <BaseButton\n                  link\n                  name=\"change-product\"\n                  tag=\"nuxt-link\"\n                  to=\"/auth/sign-up/subscription/\"\n                  :disabled=\"disabled\"\n                >\n                  {{ t('labels.change_product') }}\n                </BaseButton>\n              </div>\n            </template>\n          </BillingForm>\n        </div>\n      </div>\n\n      <div v-if=\"stepper.isCurrent('success-purchased')\" class=\"flex flex-col h-screen justify-center items-center\">\n        <BillingSuccess\n          :title=\"subscription?.title\"\n        >\n          <template #action>\n            <div class=\"flex gap-4\">\n              <BaseButton\n                type=\"secondary\" tag=\"nuxt-link\" :to=\"{ path: '/account/general/' }\" name=\"redirect-to-account\"\n                class=\"font-bold text-white text-xs sm:text-base\"\n              >\n                {{ t(\"labels.go_to_account\") }}\n              </BaseButton>\n              <BaseButton\n                type=\"primary\" tag=\"nuxt-link\" :to=\"{ path: '/' }\" name=\"redirect-to-main\"\n                class=\"font-bold text-white text-xs sm:text-base\"\n              >\n                {{ t(\"labels.go_to_main_page\") }}\n              </BaseButton>\n            </div>\n          </template>\n        </BillingSuccess>\n      </div>\n    </BaseMain>\n  </div>\n</template>\n"],"names":["t","useI18n","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_IconCreditCardVisa","_component_IconCreditCardMasterCard","_component_IconCreditCardAxp","_component_BaseInput","_unref","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_cache","_hoisted_6","_hoisted_7","_hoisted_8","_component_BaseButton","_hoisted_9","route","useRoute","creditCard","ref","stepper","useStepper","onError","onPaySuccess","subscription","loadingSubscription","loadSubscription","useAsync","SubscriptionAPI","onPaySubmit","card","lg","useBreakpoints","breakpointsTailwind","canShownHeader","inject","onMounted","_component_AuthHeader","_normalizeClass","_component_BaseMain","_createBlock","_component_BillingFormSkeleton","_component_BillingForm","_withCtx","disabled","_component_BillingSuccess"],"mappings":"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"}