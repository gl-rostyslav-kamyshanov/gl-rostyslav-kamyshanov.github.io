{"version":3,"file":"lHJPped0.js","sources":["../../../../app/pages/following/category/[mainId]/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { MaybeRef } from \"@vueuse/core\";\nimport { useRouteQuery } from \"@vueuse/router\";\nimport useAsync from \"~/composables/use-async\";\nimport CategoriesAPI from \"~/services/categories\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst { t } = useI18n();\nconst { y: windowY } = useWindowScroll();\nconst search = useRouteQuery<string>(\"q\", \"\", { route, router });\n\nconst componentKey = ref(0); // the component update dynamically if user enter new search value.\nconst isHeaderSearchShown = computed(() => windowY.value > 160);\n\nconst onError = () => showError({ statusCode: 404 });\nconst onSearchClear = () => (search.value = \"\");\n\nconst forceUpdate = () => componentKey.value++;\nconst { data: category, loading: loadingCategory, run: loadCategory } = useAsync(CategoriesAPI.loadById, { onError });\n\nonMounted(() => loadCategory(route.params.mainId as string));\n\nuseHead({ title: computed(() => category.value?.title) as MaybeRef<string> });\ndefinePageMeta({ middleware: \"auth\" });\n</script>\n\n<template>\n  <AuthHeader\n    :class=\"{ '!my-0': isHeaderSearchShown }\"\n    :transparent=\"!isHeaderSearchShown\"\n    fixed\n    with-locale\n  >\n    <template #left>\n      <div class=\"items-center hidden gap-2 px-6 lg:flex text-secondary\">\n        <IconChevronLeft :height=\"12\" :width=\"12\" />\n        <BaseButton\n          tag=\"nuxt-link\"\n          type=\"secondary\"\n          class=\"truncate\"\n          link\n          :to=\"{ path: '/following/category/' }\"\n          name=\"back to all categories\"\n        >\n          {{ t(\"pages.auth_sign_up.back_to_all_categories\") }}\n        </BaseButton>\n      </div>\n    </template>\n    <template v-if=\"isHeaderSearchShown\" #append-center>\n      <div class=\"min-w-[5rem] sm:w-[25rem] md:w-[30rem] lg:w-[40rem] lg:mr-[13rem] rtl:lg:ml-[7rem]\">\n        <BaseInput\n          v-model=\"search\"\n          name=\"search\"\n          :placeholder=\"t('labels.search_input_placeholder')\"\n          search\n          @clear=\"onSearchClear()\"\n        />\n      </div>\n    </template>\n  </AuthHeader>\n\n  <BaseMain class=\"min-h-screen\">\n    <div class=\"pt-32 pb-12 form-column\">\n      <div class=\"w-[20rem] sm:w-[30rem] md:w-[35rem] lg:w-[40rem]\">\n        <h1 class=\"mb-10 text-3xl font-bold text-center\">\n          {{ category?.title ? category.title : t(\"labels.loading\") }}\n        </h1>\n\n        <div class=\"sticky mb-10 top-8 z-22\">\n          <BaseInput\n            v-model=\"search\"\n            name=\"search\"\n            :placeholder=\"t('labels.search_input_placeholder')\"\n            search\n            :disabled=\"loadingCategory\"\n            @clear=\"onSearchClear()\"\n            @keyup.enter=\"forceUpdate\"\n          />\n        </div>\n\n        <template v-if=\"loadingCategory\">\n          <ListIdentityItems loading grid-class=\"clubs-grid\" :limit=\"8\" />\n        </template>\n\n        <template v-if=\"category?.id\">\n          <ListIdentityItems\n            :key=\"componentKey\"\n            grid-class=\"clubs-grid\"\n            :limit=\"8\"\n            :identity-id=\"category.id\"\n            has-load-more-button\n            link-list\n            :search-value=\"search\"\n          />\n        </template>\n      </div>\n    </div>\n  </BaseMain>\n</template>\n"],"names":["route","useRoute","router","useRouter","t","useI18n","windowY","useWindowScroll","search","useRouteQuery","componentKey","ref","isHeaderSearchShown","computed","onError","showError","onSearchClear","forceUpdate","category","loadingCategory","loadCategory","useAsync","CategoriesAPI","onMounted","useHead","_createVNode","_component_AuthHeader","_unref","_createElementVNode","_hoisted_1","_component_IconChevronLeft","_component_BaseButton","_hoisted_2","_component_BaseInput","$event","_component_BaseMain","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_createBlock","_component_ListIdentityItems"],"mappings":"+4CAMA,MAAMA,EAAQC,EAAA,EACRC,EAASC,EAAA,EACT,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACR,CAAE,EAAGC,CAAA,EAAYC,EAAA,EACjBC,EAASC,GAAsB,IAAK,GAAI,CAAE,MAAAT,EAAO,OAAAE,EAAQ,EAEzDQ,EAAeC,EAAI,CAAC,EACpBC,EAAsBC,EAAS,IAAMP,EAAQ,MAAQ,GAAG,EAExDQ,EAAU,IAAMC,EAAU,CAAE,WAAY,IAAK,EAC7CC,EAAgB,IAAOR,EAAO,MAAQ,GAEtCS,EAAc,IAAMP,EAAa,QACjC,CAAE,KAAMQ,EAAU,QAASC,EAAiB,IAAKC,CAAA,EAAiBC,EAASC,EAAc,SAAU,CAAE,QAAAR,EAAS,EAEpH,OAAAS,EAAU,IAAMH,EAAapB,EAAM,OAAO,MAAgB,CAAC,EAE3DwB,EAAQ,CAAE,MAAOX,EAAS,IAAMK,EAAS,OAAO,KAAK,EAAuB,8DAK1EO,EAgCaC,EAAA,CA/BV,iBAAkBC,EAAAf,CAAA,EAAmB,EACrC,aAAce,EAAAf,CAAA,EACf,MAAA,GACA,cAAA,EAAA,KAEW,OACT,IAYM,CAZNgB,EAYM,MAZNC,GAYM,CAXJJ,EAA4CK,EAAA,CAA1B,OAAQ,GAAK,MAAO,EAAA,GACtCL,EASaM,EAAA,CARX,IAAI,YACJ,KAAK,YACL,MAAM,WACN,KAAA,GACC,GAAI,CAAA,KAAA,sBAAA,EACL,KAAK,wBAAA,aAEL,IAAoD,KAAjDJ,EAAAvB,CAAA,EAAC,2CAAA,CAAA,EAAA,CAAA,CAAA,mBAIMuB,EAAAf,CAAA,QAAsB,qBACpC,IAQM,CARNgB,EAQM,MARNI,GAQM,CAPJP,EAMEQ,EAAA,YALSN,EAAAnB,CAAA,4CAAAA,EAAM,MAAA0B,EAAA,MACf,KAAK,SACJ,YAAaP,EAAAvB,CAAA,EAAC,iCAAA,EACf,OAAA,GACC,uBAAOY,EAAA,EAAa,2FAM7BS,EAoCWU,EAAA,CApCD,MAAM,gBAAc,WAC5B,IAkCM,CAlCNP,EAkCM,MAlCNQ,GAkCM,CAjCJR,EAgCM,MAhCNS,GAgCM,CA/BJT,EAEK,KAFLU,GAEKC,EADAZ,EAAAT,CAAA,GAAU,MAAQS,EAAAT,CAAA,EAAS,MAAQS,EAAAvB,CAAA,EAAC,gBAAA,CAAA,EAAA,CAAA,EAGzCwB,EAUM,MAVNY,GAUM,CATJf,EAQEQ,EAAA,YAPSN,EAAAnB,CAAA,4CAAAA,EAAM,MAAA0B,EAAA,MACf,KAAK,SACJ,YAAaP,EAAAvB,CAAA,EAAC,iCAAA,EACf,OAAA,GACC,SAAUuB,EAAAR,CAAA,EACV,uBAAOH,KACP,UAAaC,EAAW,CAAA,OAAA,CAAA,CAAA,oDAIbU,EAAAR,CAAA,OACdsB,EAAgEC,EAAA,OAA7C,QAAA,GAAQ,aAAW,aAAc,MAAO,CAAA,aAG7Cf,EAAAT,CAAA,GAAU,QACxBuB,EAQEC,EAAA,CAPC,IAAKf,EAAAjB,CAAA,EACN,aAAW,aACV,MAAO,EACP,cAAaiB,EAAAT,CAAA,EAAS,GACvB,uBAAA,GACA,YAAA,GACC,eAAcS,EAAAnB,CAAA,CAAA"}