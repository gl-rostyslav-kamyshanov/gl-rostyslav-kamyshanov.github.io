{"version":3,"file":"Cr3h1pCf.js","sources":["../../../../app/pages/auth/sign-up/following/category/[mainId]/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { MaybeRef } from \"@vueuse/core\";\nimport { useRouteQuery } from \"@vueuse/router\";\nimport useAsync from \"~/composables/use-async\";\nimport CategoriesAPI from \"~/services/categories\";\nimport useUserStore from \"~/stores/user\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst { t } = useI18n();\nconst userStore = useUserStore();\nconst { y: windowY } = useWindowScroll();\nconst appConfig = useRuntimeConfig().public;\nconst search = useRouteQuery<string>(\"q\", \"\", { route, router });\n\nconst componentKey = ref(0); // the component update dynamically if user enter new search value.\nconst isHeaderSearchShown = computed(() => windowY.value > 160);\nconst hasFollowingItems = computed(() => Boolean(Object.keys(userStore.followed).length));\nconst hasSkipButton = appConfig.APP_CUSTOMER.enable_signup_onboarding_follow_skip;\n\nconst onError = () => showError({ statusCode: 404 });\nconst onSearchClear = () => (search.value = \"\");\n\nconst forceUpdate = () => componentKey.value++;\nconst { data: category, loading: loadingCategory, run: loadCategory } = useAsync(CategoriesAPI.loadById, { onError });\n\nonMounted(() => loadCategory(route.params.mainId as string));\n\nuseHead({ title: computed(() => category.value?.title) as MaybeRef<string> });\ndefinePageMeta({ middleware: \"auth\" });\n</script>\n\n<template>\n  <AuthHeader\n    :class=\"{ '!my-0': isHeaderSearchShown }\"\n    :transparent=\"!isHeaderSearchShown\"\n    fixed\n    with-locale\n  >\n    <template #left>\n      <div class=\"items-center hidden gap-2 px-6 lg:flex text-secondary\">\n        <IconChevronLeft :height=\"12\" :width=\"12\" />\n        <BaseButton\n          tag=\"nuxt-link\"\n          type=\"secondary\"\n          class=\"truncate\"\n          link\n          :to=\"{ path: '/auth/sign-up/following/category/' }\"\n          name=\"back to all categories\"\n        >\n          {{ t(\"pages.auth_sign_up.back_to_all_categories\") }}\n        </BaseButton>\n      </div>\n    </template>\n    <template v-if=\"isHeaderSearchShown\" #append-center>\n      <div class=\"min-w-[5rem] sm:w-[25rem] md:w-[30rem] lg:w-[40rem] lg:-ml-[7rem] rtl:lg:ml-[7rem]\">\n        <BaseInput\n          v-model=\"search\"\n          name=\"search\"\n          :placeholder=\"t('labels.search_input_placeholder')\"\n          search\n          @clear=\"onSearchClear()\"\n        />\n      </div>\n    </template>\n    <template #append-end>\n      <BaseButton\n        v-if=\"hasFollowingItems\"\n        tag=\"nuxt-link\"\n        type=\"primary\"\n        :to=\"{ path: '/' }\"\n        size=\"small\"\n        name=\"next\"\n      >\n        {{ t(\"labels.next\") }}\n      </BaseButton>\n\n      <BaseButton\n        v-else-if=\"hasSkipButton\"\n        tag=\"nuxt-link\"\n        type=\"secondary\"\n        :to=\"{ path: '/' }\"\n        name=\"skip\"\n        size=\"small\"\n        outline\n      >\n        {{ t(\"labels.skip\") }}\n      </BaseButton>\n    </template>\n  </AuthHeader>\n\n  <BaseMain class=\"min-h-screen\">\n    <div class=\"pt-32 pb-12 form-column\">\n      <div class=\"w-[20rem] sm:w-[30rem] md:w-[35rem] lg:w-[40rem]\">\n        <h1 class=\"mb-10 text-3xl font-bold text-center\">\n          {{ category?.title ? category.title : t(\"labels.loading\") }}\n        </h1>\n\n        <div class=\"sticky mb-10 top-8 z-22\">\n          <BaseInput\n            v-model=\"search\"\n            name=\"search\"\n            :placeholder=\"t('labels.search_input_placeholder')\"\n            search\n            :disabled=\"loadingCategory\"\n            @clear=\"onSearchClear()\"\n            @keyup.enter=\"forceUpdate\"\n          />\n        </div>\n\n        <template v-if=\"loadingCategory\">\n          <ListIdentityItems loading grid-class=\"clubs-grid\" :limit=\"8\" />\n        </template>\n\n        <template v-if=\"category?.id\">\n          <ListIdentityItems\n            :key=\"componentKey\"\n            grid-class=\"clubs-grid\"\n            :limit=\"8\"\n            :identity-id=\"category.id\"\n            has-load-more-button\n            link-list\n            :search-value=\"search\"\n          />\n        </template>\n      </div>\n    </div>\n  </BaseMain>\n</template>\n"],"names":["route","useRoute","router","useRouter","t","useI18n","userStore","useUserStore","windowY","useWindowScroll","appConfig","useRuntimeConfig","search","useRouteQuery","componentKey","ref","isHeaderSearchShown","computed","hasFollowingItems","hasSkipButton","onError","showError","onSearchClear","forceUpdate","category","loadingCategory","loadCategory","useAsync","CategoriesAPI","onMounted","useHead","_createVNode","_component_AuthHeader","_unref","_createElementVNode","_hoisted_1","_component_IconChevronLeft","_component_BaseButton","_createBlock","_hoisted_2","_component_BaseInput","$event","_component_BaseMain","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_component_ListIdentityItems"],"mappings":"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"}