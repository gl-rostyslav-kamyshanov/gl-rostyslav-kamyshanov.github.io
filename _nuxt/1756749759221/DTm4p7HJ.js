import{_ as X,a as Z}from"./DhXhTlZp.js";import{b as tt,c as et}from"./FIt7WMKd.js";import{_ as ot}from"./DLhM8mzi.js";import{v as U,a_ as E,a0 as nt,a1 as it,x as at,y as st,d as rt,u as lt,M as ut,P as dt,b as mt,K as ct,f as u,e as w,G as x,o as pt,c as gt,a as d,i as r,z as p,s as C,j as t,h as g,w as y,F as yt}from"./CKHG8x2g.js";import{u as _t}from"./BWtb6R30.js";import{u as bt}from"./DyUvRqvP.js";import{u as vt}from"./CLInJ6xp.js";import"./CMhV9b4l.js";import"./C_Diwj5i.js";import"./BQmdJ66q.js";import"./DEYUMlwX.js";import"./BwNKlV8M.js";import"./DKq6iKWu.js";import"./BFaMJEfd.js";import"./i75BeAmO.js";import"./D5LlReuC.js";import"./IcFU8IjY.js";import"./Cj2XjzEr.js";import"./B-DBQphj.js";import"./CQo_kThp.js";import"./DwdIdVes.js";import"./Qn7oW8nX.js";import"./BA473X7M.js";import"./BW4JKS41.js";import"./DJpeJHOC.js";import"./CsXSxKHI.js";import"./wiLsbO4J.js";import"./XIvgIC3c.js";import"./Ddw15qdk.js";import"./Bvorq7Mr.js";import"./HKy_LQJk.js";const ht={load(e){const{request:i}=U(),a=nt(e);return e.identityId&&(a.sort=`media_parent_order.${e.identityId}`,a.filters={identityId:e.identityId,media_type:"identity_item"}),i.post("/api/identity/list",{body:a}).then(_=>it(_,E))},async loadById(e){const{request:i}=U();return await i.get(`/api/identity/get_by_id/id/${e}`).then(async a=>E(a.content))}},B={root:["identityItems"],list:e=>[...B.root,"list",{page:e.page,pageSize:e.pageSize,sort:e.sort,order:e.order,archived:e.archived}],byId:e=>[...B.root,"byId",e]},It=st(e=>({key:B.byId(e),query:()=>ht.loadById(e),staleTime:1e3*60*15}));function ft(e){return at(It,e)}const kt={class:"text-2xl main-container text-main"},te=rt({__name:"[subId]",setup(e){const{t:i}=lt(),a=ut(),_=dt(),A=mt(),{executeSocialLogin:F,socialLoginLoading:L}=bt(),b=ct().public,R=vt(),M=b.APP_CUSTOMER.enable_game_highlights,q=u(()=>!!A.user),s=u(()=>a.params.subId),l=u(()=>a.params.mainId),v={count:!0,pageSize:20,subCategoryId:s.value,mainCategoryId:l.value},{loading:N,isFollowing:O,toggleFollow:T}=_t({id:s.value,type:"identity_item"}),{data:h,loading:z,run:Q}=w(()=>x.load({...v,type:"live"})),{data:I,loading:G,run:V}=w(()=>x.load({...v,type:"upcoming"})),{data:f,loading:Y,run:$}=w(()=>x.load({...v,type:"archived"})),{data:o,isLoading:P}=ft(s),D=u(()=>R.value&&o.value?.mobileBanners&&o.value.mobileBanners.length>0?o.value.mobileBanners:o.value?.banners),K=u(()=>{const m=h.value?.content?.count||0,n=I.value?.content?.count||0,k=f.value?.content?.count||0;return m+n+k===0});async function j(m){return q.value?T(m):b.APP_FLAGS.hasIfaAuth&&b.APP_CUSTOMER.app_config.enable_skip_login_page_for_ifa_sso?F("ifa"):_.push({path:"/auth/login/",query:{redirectUrl:a.fullPath}})}return pt(async()=>{await Promise.all([$(),Q(),V()])}),(m,n)=>{const k=X,H=Z,c=tt,J=et,W=ot;return d(),gt(yt,null,[r("div",null,[r("div",null,[t(P)?(d(),p(k,{key:0,"has-following-button":""})):t(o)?(d(),p(H,{key:1,"has-following-button":"","has-events-number":"","live-events-number":t(h)?.content.count??0,"upcoming-events-number":t(I)?.content.count??0,"total-events-number":t(f)?.content.count??0,"facebook-url":t(o).facebookUrl,"x-url":t(o).xUrl,"instagram-url":t(o).instagramUrl,"web-url":t(o).webUrl,"logo-url":t(o).logoUrl,banners:t(D),title:t(o).title,"is-following":t(O),"is-following-disabled":t(N)||t(L),onFollow:n[0]||(n[0]=S=>j(t(o)))},null,8,["live-events-number","upcoming-events-number","total-events-number","facebook-url","x-url","instagram-url","web-url","logo-url","banners","title","is-following","is-following-disabled"])):C("",!0)]),r("div",kt,[g(c,{title:t(i)("labels.live"),items:t(h)?.content.entries??[],loading:t(z),"sub-category-id":t(s),"main-category-id":t(l),type:"live","hide-on-no-content":"","has-see-all-link":"","see-all-link-placement":"top-right"},{end:y(()=>[...n[1]||(n[1]=[r("div",{class:"my-12 hr",role:"separator"},null,-1)])]),_:1},8,["title","items","loading","sub-category-id","main-category-id"]),g(c,{title:t(i)("labels.upcoming"),items:t(I)?.content.entries??[],loading:t(G),"sub-category-id":t(s),"main-category-id":t(l),type:"upcoming","hide-on-no-content":"","has-see-all-link":"","see-all-link-placement":"top-right"},{end:y(()=>[...n[2]||(n[2]=[r("div",{class:"my-12 hr",role:"separator"},null,-1)])]),_:1},8,["title","items","loading","sub-category-id","main-category-id"]),t(M)?(d(),p(c,{key:0,title:t(i)("labels.latest_highlights"),"sub-category-id":t(s),"main-category-id":t(l),type:"highlight","hide-on-no-content":"","has-see-all-link":""},{end:y(()=>[...n[3]||(n[3]=[r("div",{class:"my-12 hr",role:"separator"},null,-1)])]),_:1},8,["title","sub-category-id","main-category-id"])):C("",!0),g(c,{title:t(i)("labels.latest"),loading:t(Y),items:t(f)?.content?.entries??[],"sub-category-id":t(s),"main-category-id":t(l),"hide-on-no-content":"","has-see-all-link":""},null,8,["title","loading","items","sub-category-id","main-category-id"])])]),t(K)&&!t(P)?(d(),p(W,{key:0,text:t(i)("labels.empty_events_list")},{icon:y(({isDarkTheme:S})=>[g(J,{"is-dark-theme":S},null,8,["is-dark-theme"])]),_:1},8,["text"])):C("",!0)],64)}}});export{te as default};
//# sourceMappingURL=DTm4p7HJ.js.map
