import{_ as q,a as z}from"./D2b_5Qle.js";import{d as A,u as C,M as N,r as P,N as $,e as I,f as D,q as E,g as H,L,c as _,a as r,h as o,w as i,i as s,z as b,s as R,t as n,j as e,a6 as j,k as g,_ as T,m as U}from"./CKHG8x2g.js";import{_ as Z}from"./Bwl1GRiL.js";import{P as F}from"./DVnTCwOF.js";import"./DBU6Dg7I.js";import"./DyUvRqvP.js";import"./BsQAICQY.js";import"./BwNKlV8M.js";import"./DqD-rngp.js";import"./a6Ozzoj_.js";import"./CLInJ6xp.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./B_dq2Uin.js";import"./D-vHEBMG.js";import"./BA473X7M.js";import"./Qn7oW8nX.js";import"./3ar-tnet.js";import"./Cj2XjzEr.js";import"./CsXSxKHI.js";import"./B1bx_LUQ.js";import"./CqxET2dV.js";const G={class:"pt-32 pb-12 form-column"},J={class:"w-full max-w-[400px]"},K={class:"text-center"},O={class:"text-heading-1-bold"},Q={key:0,class:"mt-4 text-xs text-secondary"},W={class:"text-main font-bold"},X={class:"text-center mt-4"},Y={class:"text-[var(--base-secondary-text-color)]"},ee={class:"text-[var(--base-secondary-text-color)]"},te={class:"text-center mt-4"},se={class:"text-[var(--base-secondary-text-color)]"},Se=A({__name:"forgot",setup(ae){const{t,te:h}=C(),w=N(),c=P(!1),l=$({email:w.query.email||"",password:""}),k=()=>c.value=!0,{loading:d,error:u,run:y}=I(F.reset,{onSuccess:k}),x=()=>y({email:l.email}),f=D(()=>u.value&&E(u.value,{t,te:h}).message);return H({title:t("labels.forgot_password")}),(oe,a)=>{const v=q,B=L("i18n-t"),V=j,M=Z,m=T,S=z;return r(),_("div",null,[o(v,{mode:"sign-up","with-locale":"",absolute:"",transparent:""}),o(S,null,{default:i(()=>[s("div",G,[s("div",J,[s("div",K,[s("h1",O,n(e(t)("labels.forgot_password")),1),e(c)?(r(),b(B,{key:1,tag:"p",keypath:"pages.auth_password.forgot_password_success_text",class:"mt-4 text-xm text-secondary"},{email:i(()=>[s("span",W,n(e(l).email),1)]),_:1})):(r(),_("p",Q,n(e(t)("pages.auth_password.forgot_password_help_text")),1))]),e(f)?(r(),b(V,{key:0,type:"danger",class:"mt-6",text:e(f)},null,8,["text"])):R("",!0),e(c)?(r(),_("form",{key:2,class:"flex flex-col",onSubmit:a[3]||(a[3]=g(()=>{},["prevent"]))},[o(m,{class:"mt-16 font-bold text-center",name:"back-login","full-width":"",tag:"nuxt-link",to:{path:"/auth/login/",query:{email:e(l).email}},disabled:e(d)},{default:i(()=>[s("span",ee,n(e(t)("pages.auth_password.back_to_sign_in")),1)]),_:1},8,["to","disabled"]),s("div",te,[o(m,{name:"back-login",type:"secondary",disabled:e(d),"full-width":"",link:"",onClick:a[2]||(a[2]=p=>x())},{default:i(()=>[s("span",se,n(e(t)("pages.auth_password.resend_instruction")),1)]),_:1},8,["disabled"])])],32)):(r(),_("form",{key:1,class:"mt-8",onSubmit:a[1]||(a[1]=g(p=>x(),["prevent"]))},[o(M,{modelValue:e(l).email,"onUpdate:modelValue":a[0]||(a[0]=p=>e(l).email=p),disabled:e(d),type:"email",name:"email",label:e(t)("labels.email"),placeholder:e(t)("labels.email_placeholder"),autocomplete:"username",pattern:"[a-zA-Z0-9._%+\\-]+@[a-z0-9.\\-]+\\.[a-z]{2,4}$",size:"30",required:""},null,8,["modelValue","disabled","label","placeholder"]),o(m,{class:"mt-16 font-bold",name:"submit-send-reset-link",disabled:e(d),"full-width":""},{default:i(()=>[U(n(e(t)("pages.auth_password.send_reset_link")),1)]),_:1},8,["disabled"]),s("div",X,[o(m,{name:"back-login",type:"secondary",tag:"nuxt-link",to:{path:"/auth/login/",query:{email:e(l).email}},disabled:e(d),"full-width":"",link:""},{default:i(()=>[s("span",Y,n(e(t)("pages.auth_password.back_to_sign_in")),1)]),_:1},8,["to","disabled"])])],32))])])]),_:1})])}}});export{Se as default};
//# sourceMappingURL=BqF0qWK3.js.map
