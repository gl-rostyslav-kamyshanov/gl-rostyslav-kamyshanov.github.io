import{_ as D}from"./9rtQJgwe.js";import{_ as M}from"./BHoeYgzR.js";import{_ as H}from"./DqtdqjKS.js";import{_ as K}from"./CJcOdyz3.js";import{_ as q}from"./c0PQ5L_F.js";import{d as J,u as Q,M as X,P as Y,bH as Z,K as tt,f as x,bI as et,r as I,e as st,G as nt,o as ot,aS as at,O as lt,au as it,g as ct,c as g,a,h as p,i as o,s as z,j as n,t as _,z as u,w as d,F as rt,D as pt,_ as ut,n as dt,m as _t,V as mt,W as ht}from"./CMXPbp7C.js";import{a as ft,b as vt,_ as yt}from"./C2ORbUZG.js";import"./DM6vfLbp.js";import"./CXKQkZz-.js";import"./BQ4KkwTu.js";import"./Dy0jkx8y.js";import"./QL_oFunT.js";const bt={class:"main-container mb-12"},xt={class:"text-heading-1-bold text-main mb-6"},gt={key:0,class:"skeletonLoading w-full h-12"},wt={key:1,class:"flex items-center"},kt={class:"flex items-center flex-1"},Tt={class:"flex gap-2 items-center text-secondary tab-active"},Ct={class:"flex items-center justify-center px-1 h-5 rounded-sm text-xs bg-[#f8f8f8] dark:bg-[#0f1624] tab-count-active"},St={class:"bg-neutral-light-200 ml-[-3px] rtl:ml-0 rtl:mr-[-5px] dark:bg-neutral-dark-700 p-2 rounded-r rtl:rounded-l"},Pt={class:"flex gap-2 items-center"},Wt={class:"truncate"},Lt={class:"flex gap-2 items-center"},Bt={class:"flex items-center justify-center px-1 h-5 rounded-sm text-xs bg-[#f8f8f8] dark:bg-[#0f1624] tab-active"},It=J({__name:"[sportType]",setup(zt){const{t:l}=Q(),f=X(),U=Y(),S=Z(),P=tt().public,v=f.params.sportType==="all"?void 0:f.params.sportType,E=x(()=>{const t=f.params.sportType;return t!=="all"&&t?{to:`/live/${t}`,title:l(`sport_types.${t}`),active:!0}:{to:"/live/all",title:l("labels.all"),active:!0}}),V=x(()=>[{to:"/",title:l("labels.main")},{to:"/live",title:l("labels.live"),active:!0},E.value]),y=et("tabs-data",()=>null),w=I([]),h=I([]),j=x(()=>h.value.some(t=>t.key===v)),{run:A,loading:$}=st(nt.loadGroupedSportCount,{onSuccess:t=>{y.value=t}}),m=x(()=>y.value?Object.entries(y.value).map(([t,s])=>P.APP_FLAGS?.isDev&&P.APP_FLAGS?.isPxa&&s.archived?{key:t,label:l(`sport_types.${t}`),count:s.archived,to:S({params:{sportType:t}})}:s.live||s.live===0?{key:t,label:l(`sport_types.${t}`),count:s.live,to:S({params:{sportType:t}})}:null).filter(Boolean):[]),W=(t,s)=>{const e=document.createElement("span");e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="nowrap",Object.assign(e.style,s),e.textContent=t,document.body.appendChild(e);const i=e.offsetWidth;return document.body.removeChild(e),i},F=t=>{const s={fontWeight:"500",fontSize:"14px",padding:"0 16px"},e=W(t?.label,s),i=W(String(t?.count),s);return e+i+16+32+8},b=()=>{let t=0;const s=window.innerWidth-100;w.value=[],h.value=[],m.value.forEach(e=>{const i=F(e);t+i<=s?(w.value.push(e),t+=i):h.value.push(e)})};function L(){const t=new URL(f.fullPath,window.location.origin).pathname;!m.value?.some(e=>new URL(e?.to??"",window.location.origin).pathname===t)&&m.value?.[0]?.to&&U.replace(m.value[0].to)}return ot(async()=>{y.value||await A(),b(),L(),window.addEventListener("resize",b)}),at(()=>{window.removeEventListener("resize",b)}),lt(m,L),it(b),ct({title:l("labels.live")}),(t,s)=>{const e=D,i=M,B=H,k=K,T=q,C=ut,G=vt,N=ft,O=yt,R=mt;return a(),g("div",bt,[p(e,{items:n(V),class:"mb-10"},null,8,["items"]),o("h1",xt,_(n(l)("labels.live")),1),n($)?(a(),g("div",gt)):n(m).length>1?(a(),g("div",wt,[o("div",kt,[p(B,{tabs:n(w),filled:"",class:"flex-1"},{default:d(({tab:r})=>[o("div",Tt,[p(i,{"sport-type":r.key,class:"w-4 h-4"},null,8,["sport-type"]),o("span",null,_(r.label),1),o("p",Ct,_(r?.count),1)])]),_:1},8,["tabs"]),n(h).length?(a(),u(O,{key:0},{trigger:d(({toggle:r,shown:c})=>[o("div",St,[n(j)?(a(),u(C,{key:0,name:"selected sport type",title:"Other",size:"small",class:"text-secondary w-24 !bg-[var(--base-primary-color)]",onClick:r},{default:d(()=>[o("div",Pt,[o("div",null,[p(i,{"sport-type":n(v),class:"w-4 h-4"},null,8,["sport-type"])]),o("span",Wt,_(n(l)(`sport_types.${n(v)}`)),1),o("div",null,[c?(a(),u(k,{key:0,class:"inline",height:8,width:8})):(a(),u(T,{key:1,class:"inline",height:8,width:8}))])])]),_:2},1032,["onClick"])):(a(),u(C,{key:1,name:"other tabs",title:"Other",size:"small",type:"icon",class:"flex items-center justify-center gap-2 !p-1 text-secondary",onClick:r},{default:d(()=>[_t(_(n(l)("labels.gameType_labels.other"))+" ",1),c?(a(),u(k,{key:0,class:"inline",height:8,width:8})):(a(),u(T,{key:1,class:"inline",height:8,width:8}))]),_:2},1032,["onClick"]))])]),default:d(({hide:r})=>[p(N,{class:"grid grid-cols-2 px-2"},{default:d(()=>[(a(!0),g(rt,null,pt(n(h),c=>(a(),u(G,{key:c.key,size:"md","has-hover":!1},{default:d(()=>[p(C,{link:"","full-width":"",type:"secondary",name:c.label,title:c.label,class:"w-full",onClickCapture:()=>{n(dt)(c.to),r()}},{default:d(()=>[o("div",Lt,[p(i,{"sport-type":c.key,class:"w-4 h-4"},null,8,["sport-type"]),o("span",null,_(c.label),1),o("p",Bt,_(c?.count),1)])]),_:2},1032,["name","title","onClickCapture"])]),_:2},1024))),128))]),_:2},1024)]),_:1})):z("",!0)])])):z("",!0),p(R,{keepalive:"","sport-type":n(v),class:"mt-6"},null,8,["sport-type"])])}}}),Mt=ht(It,[["__scopeId","data-v-e3c648fb"]]);export{Mt as default};
