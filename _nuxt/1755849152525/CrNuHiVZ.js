import{br as z,f as A,bs as l,N as O,bt as R}from"./CMXPbp7C.js";import{u as U}from"./DW2BUKTG.js";const q=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],C=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",d=[];class j{_data=new w;_hash=new w([...q]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const s=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(t+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,s){const t=this._hash.words;let o=t[0],i=t[1],a=t[2],u=t[3],r=t[4],y=t[5],g=t[6],p=t[7];for(let n=0;n<64;n++){if(n<16)d[n]=e[s+n]|0;else{const f=d[n-15],k=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,c=d[n-2],E=(c<<15|c>>>17)^(c<<13|c>>>19)^c>>>10;d[n]=k+d[n-7]+E+d[n-16]}const _=r&y^~r&g,B=o&i^o&a^i&a,b=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),v=(r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25),m=p+v+_+C[n]+d[n],D=b+B;p=g,g=y,y=r,r=u+m|0,u=a,a=i,i=o,o=m+D|0}t[0]=t[0]+o|0,t[1]=t[1]+i|0,t[2]=t[2]+a|0,t[3]=t[3]+u|0,t[4]=t[4]+r|0,t[5]=t[5]+y|0,t[6]=t[6]+g|0,t[7]=t[7]+p|0}_append(e){typeof e=="string"&&(e=w.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let s,t=this._data.sigBytes/64;e?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const o=t*16,i=Math.min(o*4,this._data.sigBytes);if(o){for(let a=0;a<o;a+=16)this._doProcessBlock(this._data.words,a);s=this._data.words.splice(0,o),this._data.sigBytes-=i}return new w(s,i)}}class w{words;sigBytes;constructor(e,s){e=this.words=e||[],this.sigBytes=s===void 0?e.length*4:s}static fromUtf8(e){const s=unescape(encodeURIComponent(e)),t=s.length,o=[];for(let i=0;i<t;i++)o[i>>>2]|=(s.charCodeAt(i)&255)<<24-i%4*8;return new w(o,t)}toBase64(){const e=[];for(let s=0;s<this.sigBytes;s+=3){const t=this.words[s>>>2]>>>24-s%4*8&255,o=this.words[s+1>>>2]>>>24-(s+1)%4*8&255,i=this.words[s+2>>>2]>>>24-(s+2)%4*8&255,a=t<<16|o<<8|i;for(let u=0;u<4&&s*8+u*6<this.sigBytes*8;u++)e.push(T.charAt(a>>>6*(3-u)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let s=0;s<e.sigBytes;s++){const t=e.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=t<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<e.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=e.words[s>>>2];this.sigBytes+=e.sigBytes}}function F(h){return new j().finalize(h).toBase64()}function L(h){return F(z(h))}function G(h,e,s){const[t={},o]=typeof e=="string"?[{},e]:[e,s],i=A(()=>l(h)),a=t.key||L([o,typeof i.value=="string"?i.value:"",...S(t)]);if(!a||typeof a!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+a);if(!h)throw new Error("[nuxt] [useFetch] request is missing.");const u=a===o?"$f"+a:a;if(!t.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:r,lazy:y,default:g,transform:p,pick:n,watch:_,immediate:B,getCachedData:b,deep:v,dedupe:m,...D}=t,f=O({...R,...D,cache:typeof t.cache=="boolean"?void 0:t.cache}),k={server:r,lazy:y,default:g,transform:p,pick:n,immediate:B,getCachedData:b,deep:v,dedupe:m,watch:_===!1?[]:[f,i,..._||[]]};let c;return U(u,()=>{c?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),c=typeof AbortController<"u"?new AbortController:{};const M=l(t.timeout);let x;return M&&(x=setTimeout(()=>c.abort(new DOMException("Request aborted due to timeout.","AbortError")),M),c.signal.onabort=()=>clearTimeout(x)),(t.$fetch||globalThis.$fetch)(i.value,{signal:c.signal,...f}).finally(()=>{clearTimeout(x)})},k)}function S(h){const e=[l(h.method)?.toUpperCase()||"GET",l(h.baseURL)];for(const s of[h.params||h.query]){const t=l(s);if(!t)continue;const o={};for(const[i,a]of Object.entries(t))o[l(i)]=l(a);e.push(o)}return e}export{G as u};
