import{_ as k,a as A}from"./DmSNc9U_.js";import{d as C,u as B,M as j,P as R,e as E,c as d,a as p,h as n,w as c,s as I,j as e,i as s,ad as M,t as a,_ as N,m as i,b7 as V,F as P,q as U}from"./CMXPbp7C.js";import{B as F}from"./xsw4Ry_I.js";import"./DMkqKyVO.js";import"./CBjFyxbN.js";import"./DDzd6toU.js";import"./DCz_l1Zb.js";import"./JTdTQlDe.js";import"./C2ORbUZG.js";import"./QL_oFunT.js";import"./BQ4KkwTu.js";import"./Dy0jkx8y.js";import"./CXKQkZz-.js";import"./cCBaP_no.js";import"./B3Kb2PV6.js";import"./C0fPgoYu.js";import"./CCR8b9b1.js";import"./BHoeYgzR.js";import"./CGyH9wK9.js";import"./Cgl7qRLf.js";import"./c0PQ5L_F.js";import"./CJcOdyz3.js";import"./BW4JKS41.js";import"./Cw0F3zGg.js";const S={key:0,class:"flex flex-col h-screen justify-center items-center"},T={class:"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-success-color)]"},D={class:"my-6 flex flex-col justify-center items-center"},H={class:"text-main font-bold text-2xl"},L={class:"text-base mt-4 text-secondary"},$={class:"flex gap-4"},z={key:1,class:"flex flex-col h-screen justify-center items-center"},G={class:"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-error-color)]"},J={class:"my-6 flex flex-col justify-center items-center"},K={class:"text-main font-bold text-2xl"},O={class:"text-base mt-4 text-secondary"},Q={class:"flex gap-4"},ve=C({__name:"index",setup(W){const{t,te:x}=B(),o=j(),l=R(),f=()=>l.push({path:"/auth/sign-up/subscription/code/",query:{successApplied:"true"}}),h=u=>{const{code:m}=U(u.message,{t,te:x});m==="ERR409CM11"?l.push({path:"/auth/sign-up/subscription/code/",query:{alreadyUsed:"true",code:o.query.code}}):l.push({path:"/auth/sign-up/subscription/code/",query:{errorApplied:"true",code:o.query.code}})},{loading:_,run:y}=E(F.redeemAccessCode,{onSuccess:f,onError:h}),g=()=>y(o.query.code);return(u,m)=>{const b=k,v=M,r=N,q=V,w=A;return p(),d(P,null,[n(b,{transparent:"",fixed:"","with-locale":""}),n(w,{class:"min-h-screen"},{default:c(()=>[e(o).query.successApplied?(p(),d("div",S,[s("div",T,[n(v,{width:24,height:24,fill:"#ffff"})]),s("div",D,[s("span",H,a(e(t)("pages.events.appreciation")),1),s("span",L,a(e(t)("pages.events.success_code_applied",{title:e(o).query.title})),1)]),s("div",$,[n(r,{type:"secondary",tag:"nuxt-link",to:{path:"/account/general/"},name:"redirect-to-event",class:"font-bold text-white text-xs sm:text-base"},{default:c(()=>[i(a(e(t)("labels.go_to_account")),1)]),_:1}),n(r,{type:"primary",tag:"nuxt-link",to:{path:"/"},name:"redirect-to-event",class:"font-bold text-white text-xs sm:text-base"},{default:c(()=>[i(a(e(t)("labels.go_to_main_page")),1)]),_:1})])])):e(o).query.errorApplied||e(o).query.alreadyUsed?(p(),d("div",z,[s("div",G,[n(q,{width:24,height:24,fill:"#ffff"})]),s("div",J,[s("span",K,a(e(o).query.alreadyUsed?e(t)("pages.events.failed_already_used_code"):e(t)("pages.events.failed_code_applied_title")),1),s("span",O,a(e(t)("pages.events.failed_code_applied_message")),1)]),s("div",Q,[n(r,{type:"secondary",name:"enter-another-card",class:"font-bold text-white text-xs sm:text-base",tag:"nuxt-link",to:{path:"/auth/sign-up/subscription/"},disabled:e(_)},{default:c(()=>[i(a(e(t)("button.enter_another_code")),1)]),_:1},8,["disabled"]),n(r,{type:"primary",name:"try-again",class:"font-bold text-white text-xs sm:text-base min-w-[10rem]",disabled:e(_),onClick:g},{default:c(()=>[i(a(e(t)("button.try_again")),1)]),_:1},8,["disabled"])])])):I("",!0)]),_:1})],64)}}});export{ve as default};
