import{$ as c,v as a,b as d,a0 as i,a1 as u}from"./DerHuaWG.js";const p=e=>({id:e._id,price:e.price,currency:e.product?.currency||"N/A",title:e.title,eventId:e.product?.event_id,originalProductId:e.originalProductId,description:e.product?.description||"",event:e.relatedEvent?c.format(e.relatedEvent):void 0,type:"ppv",startDate:e.startDate||0,endDate:e.endDate||0,lastPayment:e.lastPayment||0}),v={load(e){const{request:n}=a(),r=d(),o=i(e);return n.get("/api/commerce/get_customer_orders",{query:o}).then(t=>{const s=u(t,p);return r.ppvTickets=s.content.entries,s})},loadUserTicketById(e){const{request:n}=a(),r=d();return n.get(`/api/commerce/get_customer_orders_by_id/id/${e}`).then(o=>{const t=p(o.content);return r.ppvTickets.find(s=>s.id===t.id)||r.ppvTickets.push(t),t})}};export{v as T};
