import{_ as M}from"./BhlJJpGL.js";import{_ as w}from"./CSF3dSqE.js";import{_ as O}from"./CfANdOvm.js";import{u as V}from"./CNMRPoKd.js";import{u as F}from"./D7rYCKOc.js";import{u as N}from"./DrObdtXg.js";import{d as R,u as $,f as i,q,z as E,a as T,w as s,m as j,T as p,h as _,j as t,ao as U,bi as D,Y as h,Z as y,aU as W}from"./DerHuaWG.js";import{S as Y}from"./Bd5gj1t4.js";const Z=20,z=R({__name:"IdentityItems",props:{limit:{},title:{},items:{},hideOnNoContent:{type:Boolean},identityId:{},linkList:{type:Boolean},hasSeeAllLink:{type:Boolean},hasLoadMoreButton:{type:Boolean},seeAllLink:{},seeAllLinkPlacement:{default:"top-right"},searchValue:{},gridClass:{default:"clubs-grid__desktopWide"},loading:{type:Boolean},error:{},loadOnlyFollowed:{type:Boolean}},setup(g){const e=g,{t:l,te:k}=$(),L=V({sm:6,md:6,lg:8,xl:10,xl2:12,xl3:16,xl4:22,xl5:16,xl6:16}).value,a=e.limit?e.limit:Z,{items:r,error:d,loadMore:I,canLoadMore:m,loading:f}=N({immediate:!0,pageSize:a,paginateExistItems:e.items&&e.items.length>0,loadItemsFn:(n,o)=>e.items||!e.identityId?Promise.resolve(U([])):e.loadOnlyFollowed&&e.identityId?D.loadCache({page:n,pageSize:o,identityId:e.identityId,sort:y.added,order:h.asc}):e.searchValue?Y.identityItemSearch({page:n,pageSize:o,searchString:e.searchValue,identityId:e.identityId}):W.subCategories.load({page:n,pageSize:o,identityId:e.identityId,sort:y.order,order:h.asc})}),x=i(()=>e.seeAllLink?e.seeAllLink:`/following/category/${e.identityId}/`),C=i(()=>({path:x.value,query:{q:e.searchValue}})),c=i(()=>e.items?e.items.concat(r.value):r.value),A=F(c,{limit:e.hasLoadMoreButton?void 0:e.limit||L,searchProperty:"title"}),B=i(()=>m.value||c.value.length>a),P=i(()=>d.value&&q(d.value,{t:l,te:k}).message);return(n,o)=>{const v=M,S=w,b=O;return T(),E(b,{items:t(A),title:e.title,limit:t(a),error:t(P)??e.error,loading:t(f)||e.loading,"grid-class":e.gridClass,"hide-on-no-content":e.hideOnNoContent,"see-all-link-placement":e.seeAllLinkPlacement,"see-all-link-path":t(C),"has-load-more-button":e.hasLoadMoreButton&&t(m),"has-see-all-link":e.hasSeeAllLink&&t(B),"no-content-text":t(l)("errors.could_not_find_results"),onClickLoadMore:o[0]||(o[0]=u=>t(I)())},{start:s(()=>[p(n.$slots,"start")]),item:s(({item:u})=>[_(v,{"is-link":e.linkList,item:u,"main-category-id":e.identityId,type:"identity_item"},null,8,["is-link","item","main-category-id"])]),skeleton:s(()=>[_(S)]),end:s(()=>[p(n.$slots,"end")]),default:s(()=>[o[1]||(o[1]=j("> "))]),_:3},8,["items","title","limit","error","loading","grid-class","hide-on-no-content","see-all-link-placement","see-all-link-path","has-load-more-button","has-see-all-link","no-content-text"])}}}),ne=Object.assign(z,{__name:"ListIdentityItems"});export{ne as _};
