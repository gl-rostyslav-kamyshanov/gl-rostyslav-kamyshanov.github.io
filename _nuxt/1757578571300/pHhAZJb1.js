import{_ as R,a as O}from"./Do22Qez2.js";import{_ as $}from"./CaMyY2v_.js";import{_ as L,a as z,v as f}from"./CyNJ05yA.js";import{d as T,u as V,N as G,z as I,a as q,w as _,i as p,h as l,j as e,_ as j,m as D,t as w,P as H,ab as K,K as W,e as S,az as E,f as J,q as Q,p as X,aN as Y,o as Z,ar as ee,g as se,c as ae,F as oe,aO as te}from"./CwABAOlJ.js";import{_ as le}from"./CP0vCR8N.js";import{_ as ne}from"./BPtvL5wr.js";import"./Li_cjk1q.js";import"./B2YkyXYb.js";import"./BScJdvYN.js";import"./KjsuVcDS.js";import"./CNJlgRe_.js";import"./YWm515Cs.js";import"./B3hPXRwZ.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./CnXC2_Ok.js";import"./vL22xovj.js";import"./OZWTeDMJ.js";import"./BukFVRaA.js";import"./BX5kaRX7.js";import"./CEPFdmL0.js";import"./B_by5-iV.js";import"./DytEXIiV.js";import"./Dv6zUHO9.js";import"./Cgzchwnr.js";const ie={class:"flex flex-col gap-2 sm:gap-6"},re=T({__name:"Form",props:{title:{},disabled:{type:Boolean},submitLabel:{}},emits:["submit"],setup(v,{emit:b}){const d=v,{t:s}=V(),g=b,o=G({email:"",fullName:"",password:""});function r(u){const a=[],t=e(u);return f.required(t.fullName)||a.push({path:"fullName",message:s("errors.field_is_required")}),f.required(t.email)?f.email(t.email)||a.push({path:"email",message:s("errors.invalid_email")}):a.push({path:"email",message:s("errors.field_is_required")}),f.required(t.password)?f.min(t.password,{length:8})||a.push({path:"password",message:s("errors.invalid_password")}):a.push({path:"password",message:s("errors.field_is_required")}),a}function n(){const u={email:o.email,display_name:o.fullName.replace(/\s+/g," ").trim(),password:o.password};g("submit",u)}return(u,a)=>{const t=$,c=L,h=j,x=z;return q(),I(x,{state:e(o),validate:r,onSubmit:n},{default:_(()=>[p("div",ie,[l(c,{label:e(s)("labels.fullName"),required:"",name:"fullName"},{default:_(()=>[l(t,{modelValue:e(o).fullName,"onUpdate:modelValue":a[0]||(a[0]=m=>e(o).fullName=m),disabled:d.disabled,name:"fullName",placeholder:e(s)("labels.full_name_placeholder"),maxlength:"100"},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),l(c,{label:e(s)("labels.email"),name:"email",required:""},{default:_(()=>[l(t,{modelValue:e(o).email,"onUpdate:modelValue":a[1]||(a[1]=m=>e(o).email=m),disabled:d.disabled,name:"email",placeholder:e(s)("labels.email_placeholder"),autocomplete:"email"},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),l(c,{label:e(s)("labels.password"),required:"",name:"password"},{default:_(()=>[l(t,{modelValue:e(o).password,"onUpdate:modelValue":a[2]||(a[2]=m=>e(o).password=m),disabled:d.disabled,placeholder:e(s)("labels.min_8_characters"),name:"password",autocomplete:"new-password",sensitive:""},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),l(h,{disabled:d.disabled,class:"font-bold",name:"signup","full-width":""},{default:_(()=>[D(w(e(s)("labels.sign_up")),1)]),_:1},8,["disabled"])])]),_:1},8,["state"])}}}),me=Object.assign(re,{__name:"AuthForm"}),de={class:"flex flex-col items-center justify-center h-screen sm:pt-0 px-4 sm:px-0"},ue={class:"w-full max-w-[25rem]"},_e={class:"flex flex-col text-center sm:text-left gap-3"},pe={class:"text-heading-1-bold"},ce={class:"text-xs text-secondary"},ze=T({__name:"index",setup(v){const b=X(),d=H(),{t:s,te:g}=V(),o=K(),r=W().public,n=r.APP_CUSTOMER.form_fields,u=r.APP_CUSTOMER.enable_signup_onboarding_follow,a=n.enable_gender||n.enable_city||n.enable_country||n.enable_date_of_birth||n.enable_phone||n.enable_postal_code||n.enable_gender||n.enable_my_club,{loading:t,run:c}=S(E.signinWithProvider,{onSuccess:P,onError:N}),{loading:h,run:x}=S(E.signup,{onSuccess:P,onError:N}),m=J(()=>h.value||t.value);function P(){let i="/";a?i="/auth/sign-up/personalization":r.APP_FLAGS.hasPayments&&r.APP_CUSTOMER.enable_signup_onboarding_payment?i="/auth/sign-up/subscription/":u&&(i=r.APP_CUSTOMER.enable_leagues_view?"/auth/sign-up/following/league":"/auth/sign-up/following/category"),d.push({path:i})}function N(i){const{message:A}=Q(i.message,{t:s,te:g});return b.error(A)}function B(i){return x(i)}const y=Y(te).greaterOrEqual("sm");return Z(()=>o.track(ee.SIGN_UP_STARTED)),se({title:s("labels.sign_up")}),(i,A)=>{const C=R,F=me,U=le,k=ne,M=O;return q(),ae(oe,null,[l(C,{"with-locale":"",mode:"sign-in",fixed:!e(y),absolute:e(y),transparent:"",class:"my-2 sm:my-0"},null,8,["fixed","absolute"]),l(M,null,{default:_(()=>[p("div",de,[p("div",ue,[p("div",_e,[p("h1",pe,w(e(s)("labels.sign_up")),1),p("p",ce,w(e(s)("pages.auth_sign_up.enter_your_details_below")),1)]),l(F,{class:"mt-8",disabled:e(m),onSubmit:B},null,8,["disabled"]),l(U,{disabled:e(t),onClickProvider:e(c)},null,8,["disabled","onClickProvider"])]),l(k,{class:"text-center"})])]),_:1})],64)}}});export{ze as default};
//# sourceMappingURL=pHhAZJb1.js.map
