{"version":3,"file":"MRmDm-Xt.js","sources":["../../../../app/pages/auth/sign-up/following/league/[leagueId]/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { MaybeRef } from \"@vueuse/core\";\nimport { useRouteQuery } from \"@vueuse/router\";\nimport useAsync from \"~/composables/use-async\";\nimport CategoriesAPI from \"~/services/categories\";\nimport useUserStore from \"~/stores/user\";\n\nconst { t } = useI18n();\nconst route = useRoute();\nconst router = useRouter();\nconst userStore = useUserStore();\nconst appConfig = useRuntimeConfig().public;\nconst { y: windowY } = useWindowScroll();\nconst search = useRouteQuery<string>(\"q\", \"\", { route, router });\n\nconst componentKey = ref(0); // the component update dynamically if user enter new search value.\nconst isHeaderSearchShown = computed(() => windowY.value > 160);\nconst hasFollowingItems = computed(() => Boolean(Object.keys(userStore.followed).length));\nconst hasSkipButton = appConfig.APP_CUSTOMER.enable_signup_onboarding_follow_skip;\nconst onError = () => showError({ statusCode: 404, data: { context: \"league\" } });\n\nconst { data: league, loading: loadingLeague, run: loadLeague } = useAsync(CategoriesAPI.loadById, { onError });\n\nconst forceUpdate = () => componentKey.value++;\nconst onSearchClear = () => {\n  search.value = \"\";\n};\n\nwatch(\n  () => route.params.leagueId,\n  (id) => {\n    if (!id)\n      return;\n\n    loadLeague(id as string);\n  },\n  { immediate: true },\n);\n\nuseHead({ title: computed(() => league.value?.title) as MaybeRef<string> });\ndefinePageMeta({ middleware: \"auth\" });\n</script>\n\n<template>\n  <AuthHeader\n    :class=\"{ '!my-0': isHeaderSearchShown }\"\n    :transparent=\"!isHeaderSearchShown\"\n    fixed\n    with-locale\n  >\n    <template #left>\n      <div class=\"items-center hidden gap-2 px-6 lg:flex text-secondary\">\n        <IconChevronLeft :height=\"12\" :width=\"12\" />\n        <BaseButton\n          tag=\"nuxt-link\"\n          type=\"secondary\"\n          class=\"truncate\"\n          link\n          :to=\"{ path: '/auth/sign-up/following/league/' }\"\n          name=\"back to all teams\"\n        >\n          {{ t(\"pages.auth_sign_up.back_to_all_teams\") }}\n        </BaseButton>\n      </div>\n    </template>\n\n    <template v-if=\"isHeaderSearchShown\" #append-center>\n      <div class=\"min-w-[5rem] sm:w-[25rem] md:w-[30rem] lg:-ml-[6rem] rtl:lg:mr-[6rem]\">\n        <BaseInput\n          v-model=\"search\"\n          name=\"search\"\n          :placeholder=\"t('labels.search_teams')\"\n          search\n          @clear=\"onSearchClear()\"\n        />\n      </div>\n    </template>\n\n    <template #append-end>\n      <BaseButton\n        v-if=\"hasFollowingItems\"\n        tag=\"nuxt-link\"\n        type=\"primary\"\n        :to=\"{ path: '/' }\"\n        name=\"done\"\n        size=\"small\"\n      >\n        {{ t(\"labels.next\") }}\n      </BaseButton>\n\n      <BaseButton\n        v-else-if=\"hasSkipButton\"\n        tag=\"nuxt-link\"\n        type=\"secondary\"\n        :to=\"{ path: '/' }\"\n        name=\"skip\"\n        outline\n      >\n        {{ t(\"labels.skip\") }}\n      </BaseButton>\n    </template>\n  </AuthHeader>\n\n  <BaseMain class=\"min-h-screen\">\n    <div class=\"pt-32 pb-12 form-column\">\n      <div class=\"w-[20rem] sm:w-[30rem] md:w-[35rem] lg:w-[40rem]\">\n        <h1 class=\"mb-10 text-3xl font-bold text-center\">\n          {{ loadingLeague ? t('labels.loading') : league?.title }}\n        </h1>\n\n        <div class=\"sticky mb-10 top-8 z-22\">\n          <BaseInput\n            v-model=\"search\"\n            name=\"search\"\n            :placeholder=\"t('labels.search_teams')\"\n            search\n            :disabled=\"loadingLeague\"\n            @clear=\"onSearchClear()\"\n            @keyup.enter=\"forceUpdate\"\n          />\n        </div>\n\n        <template v-if=\"loadingLeague\">\n          <ListIdentities loading grid-class=\"clubs-grid\" :limit=\"8\" />\n        </template>\n\n        <template v-else-if=\"league\">\n          <ListTeams\n            :key=\"componentKey\"\n            :league-id=\"league.id\"\n            :search-value=\"search\"\n            :limit=\"8\"\n            link-list\n            grid-class=\"clubs-grid\"\n            has-load-more-button\n          />\n        </template>\n      </div>\n    </div>\n  </BaseMain>\n</template>\n"],"names":["t","useI18n","route","useRoute","router","useRouter","userStore","useUserStore","appConfig","useRuntimeConfig","windowY","useWindowScroll","search","useRouteQuery","componentKey","ref","isHeaderSearchShown","computed","hasFollowingItems","hasSkipButton","onError","showError","league","loadingLeague","loadLeague","useAsync","CategoriesAPI","forceUpdate","onSearchClear","watch","id","useHead","_createVNode","_component_AuthHeader","_unref","_createElementVNode","_hoisted_1","_component_IconChevronLeft","_component_BaseButton","_createBlock","_hoisted_2","_component_BaseInput","$event","_component_BaseMain","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_component_ListIdentities","_component_ListTeams"],"mappings":"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"}