import{_ as v}from"./Pm-I5j2C.js";import{u as h}from"./BylDlHaY.js";import{v as m,b as g,an as I,a0 as k,ao as q,ap as V,d as B,u as S,aq as R,f as w,z as O,a as _,w as b,i as n,t as r,c as T,s as F,j as i,l as L,Z as P,Y as j,W as z}from"./CwABAOlJ.js";const D={load(o){const{request:a}=m(),e=k(o);return a.post("/api/identity/club_list",{body:e}).then(l=>q(V(l.content.entries)))},save(o){const{request:a}=m(),e=g(),[l,c]=o.split("|");return a.post("/api/user/add_to_club_list",{body:{identity:l,identityItem:c}}).then(s=>{e.user&&!e.user.favoriteClubId&&(e.user.favoriteClubId=I(s.content.clubList))})}},E=["onClick"],N={class:"text-main line-clamp-2"},U={class:"text-xs text-[var(--base-secondary-color)]"},A={class:"flex flex-col max-w-[21rem]"},M={class:"line-clamp-2"},W={class:"text-[11px] text-[var(--base-secondary-color)]"},Y=B({__name:"ClubSelector",props:{required:{type:Boolean,default:!1},disabled:{type:Boolean},modelValue:{}},emits:["update:modelValue"],setup(o,{emit:a}){const e=o,l=a,{t:c}=S(),s=R(e,"modelValue",l),{items:d,loading:f}=h({immediate:!0,loadItemsFn:()=>D.load({pageSize:500,order:j.asc,sort:P.order})}),y=w(()=>d.value.find(u=>u.id===s.value)?.categoryTitle);return(u,p)=>{const x=v;return _(),O(x,{modelValue:i(s),"onUpdate:modelValue":p[0]||(p[0]=t=>L(s)?s.value=t:null),placeholder:i(c)("labels.select_your_club"),"has-option-title":!1,disabled:e.disabled||i(f),options:i(d),readonly:!1,required:e.required,"emitted-key":"id",name:"favorite-club","options-key-title":"label","options-key-value":"title","has-search":""},{innerInput:b(({value:t,toggle:C})=>[t?(_(),T("div",{key:0,class:"w-full cursor-pointer",onClick:C},[n("p",N,r(t),1),n("p",U,r(i(y)),1)],8,E)):F("",!0)]),"option-item-inner-prefix":b(({option:t})=>[n("div",A,[n("p",M,r(t.label),1),n("p",W,r(t.categoryTitle),1)])]),_:1},8,["modelValue","placeholder","disabled","options","required"])}}}),J=Object.assign(z(Y,[["__scopeId","data-v-eddf63ce"]]),{__name:"BaseClubSelector"});export{D as C,J as _};
//# sourceMappingURL=4mNbKbKz.js.map
