{"version":3,"file":"DayrDJga.js","sources":["../../../../app/pages/auth/sign-up/subscription/code/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport useAsync from \"~/composables/use-async\";\nimport BillingAPI from \"~/services/billing\";\nimport getErrorLocalePathMessage from \"~/utils/locale\";\n\nconst { t, te } = useI18n();\nconst route = useRoute();\nconst router = useRouter();\nconst onSuccess = () => router.push({ path: \"/auth/sign-up/subscription/code/\", query: { successApplied: \"true\" } });\nconst onError = (error: Error) => {\n  const { code } = getErrorLocalePathMessage(error.message, { t, te });\n\n  if (code === \"ERR409CM11\") // Already used\n    router.push({ path: \"/auth/sign-up/subscription/code/\", query: { alreadyUsed: \"true\", code: route.query.code } });\n  else\n    router.push({ path: \"/auth/sign-up/subscription/code/\", query: { errorApplied: \"true\", code: route.query.code } });\n};\nconst { loading, run: onAccessCodeRedeem } = useAsync(BillingAPI.redeemAccessCode, { onSuccess, onError });\nconst onClickTryAgain = () => onAccessCodeRedeem(route.query.code);\ndefinePageMeta({ middleware: \"auth\", layout: \"auth\" });\n</script>\n\n<template>\n  <AuthHeader transparent fixed with-locale />\n\n  <BaseMain class=\"min-h-screen\">\n    <div v-if=\"route.query.successApplied\" class=\"flex flex-col h-screen justify-center items-center\">\n      <div class=\"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-success-color)]\">\n        <IconCheck :width=\"24\" :height=\"24\" fill=\"#ffff\" />\n      </div>\n      <div class=\"my-6 flex flex-col justify-center items-center\">\n        <span class=\"text-main font-bold text-2xl\">{{ t('pages.events.appreciation') }}</span>\n        <span class=\"text-base mt-4 text-secondary\">\n          {{ t('pages.events.success_code_applied', { title: route.query.title }) }}\n        </span>\n      </div>\n      <div class=\"flex gap-4\">\n        <BaseButton\n          type=\"secondary\" tag=\"nuxt-link\" :to=\"{ path: '/account/general/' }\" name=\"redirect-to-event\"\n          class=\"font-bold text-white text-xs sm:text-base\"\n        >\n          {{ t(\"labels.go_to_account\") }}\n        </BaseButton>\n        <BaseButton\n          type=\"primary\" tag=\"nuxt-link\" :to=\"{ path: '/' }\" name=\"redirect-to-event\"\n          class=\"font-bold text-white text-xs sm:text-base\"\n        >\n          {{ t(\"labels.go_to_main_page\") }}\n        </BaseButton>\n      </div>\n    </div>\n\n    <div v-else-if=\"route.query.errorApplied || route.query.alreadyUsed\" class=\"flex flex-col h-screen justify-center items-center\">\n      <div class=\"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-error-color)]\">\n        <IconClose :width=\"24\" :height=\"24\" fill=\"#ffff\" />\n      </div>\n      <div class=\"my-6 flex flex-col justify-center items-center\">\n        <span class=\"text-main font-bold text-2xl\">\n          {{ route.query.alreadyUsed ? t(\"pages.events.failed_already_used_code\") : t(\"pages.events.failed_code_applied_title\") }}\n        </span>\n        <span class=\"text-base mt-4 text-secondary\">\n          {{ t('pages.events.failed_code_applied_message') }}\n        </span>\n      </div>\n      <div class=\"flex gap-4\">\n        <BaseButton\n          type=\"secondary\" name=\"enter-another-card\" class=\"font-bold text-white text-xs sm:text-base\"\n          tag=\"nuxt-link\" :to=\"{ path: '/auth/sign-up/subscription/' }\" :disabled=\"loading\"\n        >\n          {{ t('button.enter_another_code') }}\n        </BaseButton>\n        <BaseButton\n          type=\"primary\" name=\"try-again\" class=\"font-bold text-white text-xs sm:text-base min-w-[10rem]\"\n          :disabled=\"loading\" @click=\"onClickTryAgain\"\n        >\n          {{ t('button.try_again') }}\n        </BaseButton>\n      </div>\n    </div>\n  </BaseMain>\n</template>\n"],"names":["te","useI18n","route","useRoute","router","useRouter","onSuccess","onError","error","code","getErrorLocalePathMessage","loading","onAccessCodeRedeem","useAsync","BillingAPI","onClickTryAgain","_createVNode","_component_AuthHeader","_component_BaseMain","_unref","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_component_IconCheck","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_component_BaseButton","_hoisted_7","_hoisted_8","_component_IconClose","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12"],"mappings":"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"}