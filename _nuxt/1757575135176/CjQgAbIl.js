import{d as I,u as W,f as b,c as v,a as d,z as A,s as B,h as M,w as j,j as p,C as O,_ as Y,J as H,a4 as q,a5 as X,t as C,aH as ee,F as V,D as Z,i as x,W as te,r as N,O as K,ay as F,o as z,m as ae,bN as G,M as ne,aQ as re,bO as oe,aS as se,g as ie}from"./DH8tuaqJ.js";import{_ as le}from"./D9omqZ34.js";import{_ as ce}from"./DIbA9F68.js";import{b as de,_ as ue,a as ge}from"./MiK2y2-P.js";import{f as k}from"./BW4JKS41.js";import"./CWqwGaP0.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./CtYuHhdJ.js";import"./CNFKFtCE.js";import"./DsOMxhbb.js";import"./BEz0DbSz.js";import"./DYWkkiM8.js";import"./BA50qx98.js";import"./CjoQWP6d.js";import"./hWcnL8XO.js";import"./BTzsdIaP.js";import"./BSzrj6__.js";import"./BEjqQQ_4.js";import"./BeSGbYTq.js";import"./BgQVayH6.js";import"./DB9Z1m9r.js";import"./BuD3o3Xy.js";import"./w-NPCdCR.js";import"./DBUJCt1q.js";import"./DV53MGBU.js";import"./xbmkSNpI.js";import"./DDe2bRK4.js";import"./oIj2e4rQ.js";import"./BEIFMPPI.js";import"./Brp57tgB.js";import"./7kx0z0FL.js";const me={class:"flex items-center justify-between w-full px-4",role:"navigation","aria-label":"Day navigation"},pe={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},ve={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},he={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},fe={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},ye={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},_e={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},xe=I({__name:"DayNavigation",props:{tabs:{},activeTab:{},canNavigatePrev:{type:Boolean},canNavigateNext:{type:Boolean},showNavigation:{type:Boolean}},emits:["navigatePrev","navigateNext"],setup(i,{emit:h}){const l=i,e=h,{locale:f}=W(),y=b(()=>f.value==="he"),s=(a,t)=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t==="prev"&&l.canNavigatePrev?e("navigatePrev"):t==="next"&&l.canNavigateNext&&e("navigateNext"))};return(a,t)=>{const r=Y,g=le;return d(),v("div",me,[a.showNavigation?(d(),A(r,{key:0,name:"arrow-left",type:"icon",class:O(["text-main",{"opacity-50 cursor-not-allowed":!a.canNavigatePrev}]),disabled:!a.canNavigatePrev,"aria-label":p(y)?"Next day":"Previous day","aria-disabled":!a.canNavigatePrev,tabindex:"0",onClick:t[0]||(t[0]=o=>a.$emit("navigatePrev")),onKeydown:t[1]||(t[1]=o=>s(o,"prev"))},{default:j(()=>[(d(),v("svg",pe,[p(y)?(d(),v("path",ve)):(d(),v("path",he))]))]),_:1},8,["class","disabled","aria-label","aria-disabled"])):B("",!0),M(g,{tabs:a.tabs,class:"w-full",active:a.activeTab,role:"tablist","aria-label":"Day selection tabs"},null,8,["tabs","active"]),a.showNavigation?(d(),A(r,{key:1,type:"icon",class:O(["text-main",{"opacity-50 cursor-not-allowed":!a.canNavigateNext}]),name:"arrow-right",disabled:!a.canNavigateNext,"aria-label":p(y)?"Previous day":"Next day","aria-disabled":!a.canNavigateNext,tabindex:"0",onClick:t[2]||(t[2]=o=>a.$emit("navigateNext")),onKeydown:t[3]||(t[3]=o=>s(o,"next"))},{default:j(()=>[(d(),v("svg",fe,[p(y)?(d(),v("path",ye)):(d(),v("path",_e))]))]),_:1},8,["class","disabled","aria-label","aria-disabled"])):B("",!0)])}}}),we=Object.assign(xe,{__name:"ChannelDayNavigation"}),be={key:0,width:"178px",height:"156px",viewBox:"0 0 119 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Le={key:1,width:"178px",height:"156px",viewBox:"0 0 119 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ke=I({__name:"NoBroadcast",props:{fill:{default:"#A9B7D1"},isDarkTheme:{type:Boolean}},setup(i){const h=i;return(l,e)=>h.isDarkTheme?(d(),v("svg",be,[...e[0]||(e[0]=[H('<title>Program empty</title><g id="ðŸ“Dark-theme" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Linear-Channel_List-empty" transform="translate(-136, -467)"><g id="score" transform="translate(-28, 396)"><g id="Group-2" transform="translate(88, 71)"><g id="Program-empty" transform="translate(76, 0)"><g id="illustration" transform="translate(0, 72)"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g><g id="illustration" transform="translate(0, 36)"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g><g id="illustration"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g></g></g></g></g></g>',2)])])):(d(),v("svg",Le,[...e[1]||(e[1]=[H('<title>Group 5</title><g id="ðŸ“Light-theme" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Linear-Channel_List-empty_Light" transform="translate(-136, -467)"><g id="score" transform="translate(-28, 396)"><g id="Group-2" transform="translate(88.5, 71)"><g id="Group-5" transform="translate(75.5, 0)"><g id="illustration"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g><g id="illustration" transform="translate(0, 36)"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g><g id="illustration" transform="translate(0, 72)"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g></g></g></g></g></g>',2)])]))}}),Ce=Object.assign(ke,{__name:"IconNoBroadcast"}),De={class:"px-4 py-6 overflow-x-hidden overflow-y-auto max-h-[calc(100vh-350px)] sm:max-h-none sm:overflow-y-hidden"},$e={key:0,class:"text-gray-400 text-sm font-medium pb-2"},Ee={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 auto-rows-fr"},Ne={class:"w-full flex h-full min-h-[75px]"},Me={class:"flex w-1/4 bg-[var(--base-favorite-club-chip-bgColor)] ltr:rounded-l rtl:rounded-r pt-4 px-4 justify-center text-main font-bold text-lg"},Pe={class:"flex w-3/4 bg-[var(--base-countdown-bgColor)] ltr:rounded-r rtl:rounded-l text-main flex-col p-4 gap-2"},Be={class:"text-sm font-medium"},Re={class:"text-secondary text-xs"},Te={key:1,class:"text-center"},Ie={class:"text-secondary pt-4"},Se=I({__name:"ProgramList",props:{programs:{},slideDirection:{},dayKey:{},fullDate:{}},setup(i){const{t:h}=W(),l=q(),e=i,f=b(()=>l.value===X.DARK);return(y,s)=>{const a=Ce,t=ce;return d(),v("div",De,[e.fullDate?(d(),v("div",$e,C(e.fullDate),1)):B("",!0),M(ee,{name:`slide-${e.slideDirection}`,mode:"out-in",appear:""},{default:j(()=>[(d(),v("div",{key:e.dayKey,class:"transition-content"},[e.programs.length>0?(d(),v("div",Ee,[(d(!0),v(V,null,Z(e.programs,r=>(d(),v("div",{key:`${r.time}-${r.title}`,class:"h-full"},[x("div",Ne,[x("div",Me,C(r.time),1),x("div",Pe,[x("div",Be,C(r.title),1),x("div",Re,C(r.description),1)])])]))),128))])):(d(),v("div",Te,[M(t,null,{icon:j(()=>[M(a,{"is-dark-theme":p(f)},null,8,["is-dark-theme"])]),text:j(()=>[x("span",Ie,C(p(h)("labels.no_linear_channel_program")),1)]),_:1})]))]))]),_:1},8,["name"])])}}}),je=Object.assign(te(Se,[["__scopeId","data-v-edfa30f7"]]),{__name:"ChannelProgramList"}),Fe={key:0},Ae={class:"w-full flex min-h-[75px] pb-2"},Oe={class:"flex w-1/4 bg-[var(--base-favorite-club-chip-bgColor)] ltr:rounded-l rtl:rounded-r pt-4 px-4 justify-center text-main font-bold text-lg"},We={class:"flex w-3/4 bg-[var(--base-countdown-bgColor)] ltr:rounded-r rtl:rounded-l text-main flex-col p-4 gap-2"},Ge={class:"text-sm font-medium"},Ve={class:"text-secondary text-xs"},Ze=I({__name:"ChannelProgram",props:{linearProgramItem:{}},setup(i){const h=i,{locale:l}=W(),e=N(),f=N({}),y=()=>k(new Date,"LLLL d, cccc",l.value),s=()=>{const t=y(),r=f.value[t];if(r&&e.value){const g=e.value.getBoundingClientRect(),c=r.getBoundingClientRect().top-g.top+e.value.scrollTop;e.value.scrollTo({top:c,behavior:"smooth"})}},a=t=>r=>{r&&"scrollIntoView"in r&&(f.value[t]=r)};return K(()=>h.linearProgramItem,t=>{t&&Object.keys(t).length>0&&F(()=>{s()})},{immediate:!0}),z(()=>{Object.keys(h.linearProgramItem).length>0&&F(()=>{s()})}),(t,r)=>(d(),v("div",{ref_key:"containerRef",ref:e,class:"background-main rounded px-4 pb-4 w-full overflow-auto"},[(d(!0),v(V,null,Z(h.linearProgramItem,(g,o)=>(d(),v("div",{key:o},[x("p",{ref_for:!0,ref:a(o),class:O(["text-secondary text-base font-medium mb-4 mt-4 sticky top-0 bg-[var(--base-card-bgColor)] py-2 z-10",{"text-primary font-bold":o===y()}])},[ae(C(o)+" ",1),o===y()?(d(),v("span",Fe)):B("",!0)],2),(d(!0),v(V,null,Z(g,(c,w)=>(d(),v("div",{key:w},[x("div",Ae,[x("div",Oe,C(c.dateTime),1),x("div",We,[x("div",Ge,C(c.title),1),x("div",Ve,C(c.type),1)])])]))),128))]))),128))],512))}}),Ke=Object.assign(Ze,{__name:"EventChannelProgram"}),He=(i,h="en")=>i.reduce((l,e)=>{const f=new Date(e.dateTime),y=k(f,"LLLL d, cccc",h);return l[y]=l[y]||[],l[y].push({dateTime:k(f,"p",h),title:e.title,type:e.type}),l},{}),ze={class:"flex rounded-b w-full flex-col background-main py-6 px-4"},Ue={class:"flex justify-between items-center"},Je={class:"text-[var(--base-tab-text-color)] font-medium truncate"},Qe=I({__name:"PlayerWithProgram",props:{event:{},programs:{}},setup(i){const h=i,{locale:l}=W(),e=b(()=>!h.programs||!h.programs.length?null:He(h.programs,l.value));return(f,y)=>{const s=de,a=ue,t=ge,r=Ke;return d(),v("div",{class:O(["flex flex-col lg:mb-10 lg:flex-row gap-6",{"justify-center":!p(e)}])},[x("div",{class:O(["w-full rounded overflow-hidden",[p(e)?"lg:w-2/3":"lg:w-4/5 xl:w-2/3"]])},[M(s,{event:f.event},null,8,["event"]),x("div",ze,[x("div",Ue,[x("div",Je,C(f.event?.title),1),M(a,{event:f.event},null,8,["event"])]),f.event?.eventDescription?(d(),A(t,{key:0,description:f.event.eventDescription},null,8,["description"])):B("",!0)])],2),p(e)?(d(),A(r,{key:0,class:"lg:w-1/3 aspect-[1]","linear-program-item":p(e)},null,8,["linear-program-item"])):B("",!0)],2)}}}),Ye=Object.assign(Qe,{__name:"EventPlayerWithProgram"}),qe=()=>{const{locale:i}=W(),h=(s,a,t)=>{const r=[],g=new Date(s),o=new Date(g);switch(t){case"day":o.setHours(0,0,0,0);break;case"week":{const u=o.getDay(),m=u===0?-6:1-u;o.setDate(o.getDate()+m),o.setHours(0,0,0,0);break}case"month":o.setDate(1),o.setHours(0,0,0,0);break}const c=new Date(o),w=a.getTime();for(;c.getTime()<=w;){const u=new Date(c),m=new Date(c);switch(t){case"day":m.setDate(m.getDate()+1);break;case"week":m.setDate(m.getDate()+7);break;case"month":m.setMonth(m.getMonth()+1);break}m.setTime(m.getTime()-1),r.push({start:u,end:m}),c.setTime(m.getTime()+1)}return r},l=(s,a)=>{const t=new Map;return s.forEach(r=>{const g=new Date(r.dateTime);if(Number.isNaN(g.getTime())){console.warn("Invalid date found:",r.dateTime);return}const o=new Date(g);switch(a){case"day":o.setHours(0,0,0,0);break;case"week":{const u=o.getDay(),m=u===0?-6:1-u;o.setDate(o.getDate()+m),o.setHours(0,0,0,0);break}case"month":o.setDate(1),o.setHours(0,0,0,0);break}const c=new Date(o);switch(a){case"day":c.setDate(c.getDate()+1);break;case"week":c.setDate(c.getDate()+7);break;case"month":c.setMonth(c.getMonth()+1);break}c.setTime(c.getTime()-1);const w=k(o,"yyyy-MM-dd",i.value);t.has(w)||t.set(w,{start:o,end:c,programs:[]}),t.get(w).programs.push({dateTime:k(g,"p",i.value),title:r.title,type:r.type,originalDate:g})}),t},e=s=>{switch(s){case"day":return{labelFormat:"EE dd/MM",fullDateFormat:"LLLL d, cccc"};case"week":return{labelFormat:"'Week' w",fullDateFormat:"'Week' w, yyyy"};case"month":return{labelFormat:"MMMM yyyy",fullDateFormat:"LLLL yyyy"};default:return{labelFormat:"EEEE dd/MM",fullDateFormat:"LLLL d, cccc"}}},f=(s,a,t)=>{try{const r=new Date(a);r.setDate(r.getDate()-1);const g=k(s,"MMM",t),o=k(r,"MMM",t),c=k(s,"d",t),w=k(r,"d",t),u=k(s,"yyyy",t);return g===o?{short:`${g} ${c} - ${w}`,full:`${g} ${c} - ${w}, ${u}`}:{short:`${g} ${c} - ${o} ${w}`,full:`${g} ${c} - ${o} ${w}, ${u}`}}catch(r){return console.warn("Error creating week label:",r),{short:"Week",full:"Week"}}};return{transformChannelProgramToIntervals:(s,a="day")=>{if(!s?.length)return console.warn("No EPG data provided to transformChannelProgramToIntervals"),[];try{const t=l(s,a);if(!t.size)return console.warn("No programs were grouped by interval"),[];const r=s.map(u=>new Date(u.dateTime)).filter(u=>!Number.isNaN(u.getTime())).sort((u,m)=>u.getTime()-m.getTime());if(!r.length)return console.warn("No valid dates found in EPG data"),[];const g=r[0],o=r[r.length-1],c=h(g,o,a),w=e(a);return c.map((u,m)=>{const P=k(u.start,"yyyy-MM-dd",i.value),R=t.get(P);try{let D,E;if(a==="week"){const n=f(u.start,u.end,i.value);D=n.short,E=n.full}else D=k(u.start,w.labelFormat,i.value)||`${a} ${m+1}`,E=k(u.start,w.fullDateFormat,i.value)||D;return{id:m+1,label:D,fullDate:E,date:P,startDate:u.start,endDate:u.end,intervalType:a,programs:R?R.programs.sort((n,_)=>n.originalDate.getTime()-_.originalDate.getTime()).map(n=>({time:n.dateTime||"N/A",title:n.title||"Untitled Program",description:n.type||"No description",originalDate:n.originalDate})):[]}}catch(D){return console.warn(`Error formatting ${a} ${m+1}:`,D),{id:m+1,label:`${a} ${m+1}`,fullDate:`${a} ${m+1}`,date:P||`fallback-${m}`,startDate:u.start,endDate:u.end,intervalType:a,programs:[]}}})}catch(t){return console.error("Error transforming channel program data:",t),[]}}}},Xe=i=>{const h=N(0),l=N(6),e=N(1),f=N(1),y=N("right"),s=b(()=>i.value.findIndex(n=>n.id===e.value)),a=b(()=>{const n=h.value,_=Math.min(n+l.value,i.value.length);return i.value.slice(n,_)}),t=b(()=>s.value>0),r=b(()=>s.value<i.value.length-1),g=()=>{const n=s.value;if(n===-1)return;const _=h.value,$=_+l.value-1;n<_?h.value=n:n>$&&(h.value=Math.max(0,n-l.value+1))},o=()=>{if(t.value){const n=s.value,_=i.value[n-1];_&&(y.value="left",f.value=e.value,e.value=_.id,F(()=>{g()}))}},c=()=>{if(r.value){const n=s.value,_=i.value[n+1];_&&(y.value="right",f.value=e.value,e.value=_.id,F(()=>{g()}))}},w=n=>{const _=s.value,$=i.value.findIndex(T=>T.id===n);$>_?y.value="right":$<_&&(y.value="left"),f.value=e.value,e.value=n},u=()=>{const n=window.innerWidth;n<640?l.value=2:n<768?l.value=3:n<1024?l.value=4:l.value=5,g()},m=b(()=>i.value.length>l.value),P=b(()=>i.value.find(_=>_.id===e.value)?.programs||[]),R=b(()=>a.value.map(n=>({key:n.id.toString(),label:n.label,onClick:()=>w(n.id)}))),D=()=>{const n=new Date,_=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,$=i.value.find(T=>T.date===_);$&&(e.value=$.id,f.value=$.id,F(()=>{g()}))},E=b(()=>i.value.find(n=>n.id===e.value));return{activeDayId:G(e),previousDayId:G(f),slideDirection:G(y),visibleDays:a,canNavigatePrev:t,canNavigateNext:r,showNavigation:m,currentDayPrograms:P,tabsForUTabs:R,currentDay:E,navigatePrev:o,navigateNext:c,selectDay:w,updateMaxVisibleDays:u,setTodayAsActive:D}},et={class:"main-container"},tt={key:0,class:"flex flex-col lg:flex-row mb-10 lg:gap-6"},at={key:1,class:"max-w-screen-2xl mx-auto"},nt={class:"text-main text-3xl font-bold"},rt={class:"background-main min-h-[calc(100vh-350px)] rounded sm:px-6 py-4"},jt=I({__name:"[eventId]",setup(i){const h=ne(),l=re(),e=b(()=>l.data),f=b(()=>l.loading),y=b(()=>l.channelProgram),s=b(()=>!e.value?.source?.hd),a=b(()=>s.value?"TV Program":e.value?.title||"Direto"),{transformChannelProgramToIntervals:t}=qe(),r=b(()=>{const L=y.value;return L?s.value?L.epg?.length?L.epg:L.epgs?.[0]?.items||[]:L.epg?.length?L.epg:L.epgs?.[1]?.items||[]:[]}),g=b(()=>t(r.value,"day")),{activeDayId:o,slideDirection:c,canNavigatePrev:w,canNavigateNext:u,showNavigation:m,currentDayPrograms:P,tabsForUTabs:R,currentDay:D,navigatePrev:E,navigateNext:n,updateMaxVisibleDays:_,setTodayAsActive:$}=Xe(g),T=N();return oe(T,{threshold:10,onSwipeEnd:(L,S)=>{S.toLowerCase()==="left"?n():S.toLowerCase()==="right"&&E()}}),z(()=>{_(),window.addEventListener("resize",_)}),se(()=>{window.removeEventListener("resize",_)}),K(g,L=>{L.length>0&&$()},{immediate:!0}),K(()=>h.params.eventId,L=>{l.reset(),L&&l.load(L)},{immediate:!0}),ie({title:b(()=>a.value)}),(L,S)=>{const U=we,J=je,Q=Ye;return d(),v("div",et,[p(f)?(d(),v("div",tt,[...S[0]||(S[0]=[x("div",{class:"skeletonLoading aspect-video lg:w-2/3"},null,-1),x("div",{class:"skeletonLoading lg:w-1/3"},null,-1)])])):p(s)?(d(),v("div",at,[x("div",{ref_key:"swipeContainer",ref:T,class:"flex flex-col gap-10"},[x("h1",nt,C(p(a)),1),x("div",rt,[M(U,{tabs:p(R),"active-tab":p(o).toString(),"can-navigate-prev":p(w),"can-navigate-next":p(u),"show-navigation":p(m),onNavigatePrev:p(E),onNavigateNext:p(n)},null,8,["tabs","active-tab","can-navigate-prev","can-navigate-next","show-navigation","onNavigatePrev","onNavigateNext"]),M(J,{programs:p(P),"slide-direction":p(c),"day-key":p(o),"full-date":p(D)?.fullDate},null,8,["programs","slide-direction","day-key","full-date"])])],512)])):p(e)?(d(),A(Q,{key:2,event:p(e),programs:p(r)},null,8,["event","programs"])):B("",!0)])}}});export{jt as default};
//# sourceMappingURL=CjQgAbIl.js.map
