{"version":3,"file":"BiUIOLod.js","sources":["../../../../app/queries/teams.ts"],"sourcesContent":["import type { Ref } from \"vue\";\nimport { defineQueryOptions, useQuery } from \"@pinia/colada\";\nimport TeamsAPI from \"~/services/teams\";\n\nexport interface ITeamsRequestOptions extends IRequestPaginatedOptions {\n  identityId?: string;\n}\n\nexport const TEAMS_QUERY_KEY = {\n  root: [\"teams\"] as const,\n  list: (filters: ITeamsRequestOptions) =>\n    [...TEAMS_QUERY_KEY.root, \"list\", {\n      page: filters.page,\n      pageSize: filters.pageSize,\n      sort: filters.sort,\n      order: filters.order,\n      identityId: filters.identityId,\n    }] as const,\n  byId: (id: string) =>\n    [...TEAMS_QUERY_KEY.root, \"byId\", id] as const,\n};\n\nexport const teamsQueryOptions = defineQueryOptions(\n  (filters: ITeamsRequestOptions) => ({\n    key: TEAMS_QUERY_KEY.list(filters),\n    query: () => TeamsAPI.load(filters).then(response => response.content.entries),\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  }),\n);\n\nexport const teamByIdQueryOptions = defineQueryOptions(\n  (id: string) => ({\n    key: TEAMS_QUERY_KEY.byId(id),\n    query: () => TeamsAPI.loadById(id),\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  }),\n);\n\nexport function useTeams(filters: Ref<ITeamsRequestOptions> | (() => ITeamsRequestOptions)) {\n  return useQuery(teamsQueryOptions, filters);\n}\n\nexport function useTeamById(id: Ref<string> | (() => string)) {\n  return useQuery(teamByIdQueryOptions, id);\n}\n"],"names":["TEAMS_QUERY_KEY","filters","id","teamsQueryOptions","defineQueryOptions","TeamsAPI","response","teamByIdQueryOptions","useTeams","useQuery","useTeamById"],"mappings":"2EAQO,MAAMA,EAAkB,CAC7B,KAAM,CAAC,OAAO,EACd,KAAOC,GACL,CAAC,GAAGD,EAAgB,KAAM,OAAQ,CAChC,KAAMC,EAAQ,KACd,SAAUA,EAAQ,SAClB,KAAMA,EAAQ,KACd,MAAOA,EAAQ,MACf,WAAYA,EAAQ,UAAA,CACrB,EACH,KAAOC,GACL,CAAC,GAAGF,EAAgB,KAAM,OAAQE,CAAE,CACxC,EAEaC,EAAoBC,EAC9BH,IAAmC,CAClC,IAAKD,EAAgB,KAAKC,CAAO,EACjC,MAAO,IAAMI,EAAS,KAAKJ,CAAO,EAAE,KAAKK,GAAYA,EAAS,QAAQ,OAAO,EAC7E,UAAW,IAAO,GAAK,CAAA,EAE3B,EAEaC,EAAuBH,EACjCF,IAAgB,CACf,IAAKF,EAAgB,KAAKE,CAAE,EAC5B,MAAO,IAAMG,EAAS,SAASH,CAAE,EACjC,UAAW,IAAO,GAAK,CAAA,EAE3B,EAEO,SAASM,EAASP,EAAmE,CAC1F,OAAOQ,EAASN,EAAmBF,CAAO,CAC5C,CAEO,SAASS,EAAYR,EAAkC,CAC5D,OAAOO,EAASF,EAAsBL,CAAE,CAC1C"}