import{_ as I,a as M}from"./Bi8laIOI.js";import{d as w,u as N,ab as O,f as r,q as $,z as T,a as g,j as o,w as l,T as d,c as R,s as F,h as c,aF as W,ar as j,ao as q,Y as z,Z as G,aV as K}from"./DH8tuaqJ.js";import{_ as U}from"./BXBe4NxM.js";import{u as D}from"./CzuRd8TO.js";import{u as Y}from"./csk4OUUu.js";import{S as Z}from"./Dhyeswjy.js";const H={key:0,class:"min-h-400px"},J=20,Q=w({__name:"Identities",props:{searchValue:{},gridClass:{default:"clubs-grid__desktopWide"},limit:{},loadMainCategory:{type:Boolean},loadArchived:{type:Boolean},loadOnlyFollowed:{type:Boolean},hasLoadMoreButton:{type:Boolean},loadWhenVisible:{type:Boolean},linkList:{type:Boolean},title:{},items:{},loading:{type:Boolean},error:{},noContentText:{},filterValue:{},hideOnNoContent:{type:Boolean},hasSeeAllLink:{type:Boolean},seeAllLink:{},seeAllLinkPlacement:{default:"top-right"},queryParams:{},isArchived:{type:Boolean}},setup(k){const{t:m,te:C}=N(),L=O(),e=k,i=e.limit?e.limit:J,f=t=>{L.track(j.CLICK_ON_LEAGUE,{league_id:t.id,league_name:t.title})},y=(t,n,a={})=>({page:t,pageSize:n,sort:G.order,order:z.asc,...a}),{items:u,error:_,loadMore:B,canLoadMore:p,loading:v,reset:S}=Y({pageSize:i,immediate:!0,paginateExistItems:!!e.loadOnlyFollowed,loadItemsFn:(t,n)=>{if(e.items)return Promise.resolve(q([]));const a=y(t,n,{archived:e.isArchived});return e.searchValue?Z.identitySearch({...a,searchString:e.searchValue}):K.load(a)}}),h=r(()=>e.items?e.items.concat(u.value):u.value),V=D(h,{limit:e.hasLoadMoreButton?void 0:i,searchProperty:"title",searchValue:r(()=>e.filterValue||"")}),b=r(()=>p.value||h.value.length>i),A=r(()=>_.value&&$(_.value,{t:m,te:C}).message);return(t,n)=>{const a=M,x=W,P=I,E=U;return g(),T(E,{title:e.title,items:o(V),limit:o(i),loading:o(v)||e.loading,"load-when-visible":e.loadWhenVisible,"has-load-more-button":e.hasLoadMoreButton&&o(p),"has-see-all-link":e.hasSeeAllLink&&o(b),error:o(A)||e.error,"grid-class":e.gridClass,"hide-on-no-content":e.hideOnNoContent,"see-all-link-placement":e.seeAllLinkPlacement,"no-content-text":o(m)("errors.could_not_find_results"),onClickLoadMore:n[0]||(n[0]=s=>o(B)()),onVisible:n[1]||(n[1]=s=>o(S)())},{start:l(()=>[d(t.$slots,"start")]),item:l(({item:s})=>[c(x,{to:`/league/${s.id}`},{default:l(()=>[c(a,{title:s.title,"image-url":s.imageUrl,"with-initials":"",width:96,height:96,onClick:()=>f(s)},null,8,["title","image-url","onClick"])]),_:2},1032,["to"])]),skeleton:l(()=>[c(P)]),empty:l(()=>[d(t.$slots,"empty",{},()=>[e.loadWhenVisible?(g(),R("div",H)):F("",!0)])]),end:l(()=>[d(t.$slots,"end")]),_:3},8,["title","items","limit","loading","load-when-visible","has-load-more-button","has-see-all-link","error","grid-class","hide-on-no-content","see-all-link-placement","no-content-text"])}}}),se=Object.assign(Q,{__name:"ListIdentities"});export{se as _};
//# sourceMappingURL=ChRHBNQB.js.map
