{"version":3,"file":"zHvKW1P4.js","sources":["../../../../app/components/Icon/Sort.vue","../../../../app/components/List/Filters.vue"],"sourcesContent":["<script setup lang=\"ts\">\n/* eslint-disable max-len */\n</script>\n\n<template>\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M15.795 4.493a.685.685 0 0 1-1.009 0l-1.84-1.912v12.71c0 .394-.316.709-.712.709a.708.708 0 0 1-.712-.71V2.582l-1.84 1.912a.685.685 0 0 1-1.008 0 .785.785 0 0 1 0-1.064L11.66.296l.059-.06a.644.644 0 0 1 .494-.216.72.72 0 0 1 .515.216l3.046 3.193a.766.766 0 0 1 .02 1.064zM4.322 15.704l-.06.06a.644.644 0 0 1-.494.216.72.72 0 0 1-.514-.216L.208 12.57a.785.785 0 0 1 0-1.064.685.685 0 0 1 1.008 0l1.84 1.912V.709c0-.394.316-.709.712-.709.396 0 .712.315.712.71v12.709l1.84-1.912a.685.685 0 0 1 1.009 0 .785.785 0 0 1 0 1.064l-3.007 3.133z\"\n      fill=\"#A9B7D1\"\n      fill-rule=\"evenodd\"\n    />\n  </svg>\n</template>\n","<script setup lang=\"ts\">\nimport usePagination from \"~/composables/use-pagination\";\nimport { ORDER, SORT } from \"~/constants\";\nimport CategoriesAPI from \"~/services/categories\";\nimport { truncateArrayOfStringByValue } from \"~/utils/array\";\n// TODO:\nexport interface ListFiltersProps {\n  disabled?: boolean;\n  order?: IRequestParamOrder;\n  sportTypes?: TSportType | TSportType[];\n  eventDate?: string;\n  categories?: string;\n  gender?: TGender | \"all\";\n  hasOrderFilter?: boolean;\n  hasSportTypeFilter?: boolean;\n  hasEventDateFilter?: boolean;\n  hasGenderFilter?: boolean;\n  hasCategoryFilter?: boolean;\n  hasClearButton?: boolean;\n\n}\nconst props = withDefaults(defineProps<ListFiltersProps>(), {\n  order: ORDER.asc,\n});\n\nconst { t } = useI18n();\nconst appConfig = useRuntimeConfig().public;\n\nconst emit = defineEmits([\"update:order\", \"update:sportTypes\", \"update:eventDate\", \"update:categories\", \"update:gender\", \"clear\"]);\nconst onToggleSort = () => emit(\"update:order\", props.order === ORDER.asc ? ORDER.desc : ORDER.asc);\nconst onClickClear = () => emit(\"clear\");\nconst eventDate = useVModel(props, \"eventDate\", emit);\nconst categories = useVModel(props, \"categories\", emit);\nconst gender = useVModel(props, \"gender\", emit);\n\nconst availableSportTypeList = computed(() => appConfig.APP_CUSTOMER.available_sport_types_list);\nconst isSportTypeDropdownVisible = computed(() => availableSportTypeList.value.length > 1);\nconst sportTypesOptions = computed(() => availableSportTypeList.value.sort().map(sport => ({ title: sport, value: sport })));\nconst isLeaguesView = appConfig.APP_CUSTOMER.enable_leagues_view;\n\nconst onSportTypeSelect = (sportTypes: TSportType[]) => emit(\"update:sportTypes\", sportTypes);\nconst getSportTypeFilterLabel = (sportTypes?: TSportType) => {\n  if (Array.isArray(sportTypes))\n    return (sportTypes && truncateArrayOfStringByValue(sportTypes.map((k: string) => t(`sport_types.${k}`)), 2));\n  return t(`sport_types.${sportTypes}`);\n};\nconst eventDatesList: TDateRange[] = [\"today\", \"yesterday\", \"past_7_days\", \"past_30_days\", \"past_90_days\"];\nconst eventDateOptions = computed(() => eventDatesList.map(dateType => ({ title: t(`labels.${dateType}`), value: dateType })));\nconst categoryTitle = computed(() => isLeaguesView ? t(\"labels.league\") : t(\"labels.category\"));\n\nconst genderList: TGender[] = [\"female\", \"male\", \"mixed\"];\nconst genderOptions = computed(() => genderList.map(gender => ({ title: t(`labels.gender_labels.${gender}`), value: gender })));\n\nconst { items } = usePagination<IModelIdentity>({\n  immediate: props.hasCategoryFilter,\n  pageSize: 100, // TODO: should consider how to handle it\n  loadItemsFn: (page: number, pageSize: number) => CategoriesAPI.load({ page, pageSize, order: ORDER.asc, sort: SORT.order }),\n});\n\nconst getCategoryFilterLabel = (categoryId: string) => {\n  return items.value.find(item => item.id === categoryId)?.title || t(\"labels.all\");\n};\n\nconst getGenderFilterLabel = (value: any) => {\n  if (value === \"all\")\n    return t(\"labels.all\");\n  return t(`labels.gender_labels.${value}`);\n};\n</script>\n\n<template>\n  <div class=\"flex items-start justify-between mb-6\">\n    <div class=\"flex flex-wrap\">\n      <div v-if=\"props.hasSportTypeFilter\">\n        <BaseSelect\n          v-if=\"isSportTypeDropdownVisible\"\n          :model-value=\"props.sportTypes\"\n          :options=\"sportTypesOptions\"\n          :disabled=\"props.disabled\"\n          name=\"sportType\"\n          emitted-key=\"value\"\n          has-search\n          options-class=\"sportTypeSelector !w-[280px]\"\n          multiple\n          @update:model-value=\"onSportTypeSelect\"\n        >\n          <template #toggle=\"{ toggle, value, isSelected, isOpen }\">\n            <button name=\"sportTypeFilter\" @click=\"toggle\">\n              <span class=\"text-secondary text-xs sm:text-base font-medium mx-2\">{{ t('labels.sport_type') }}:</span>\n              <span class=\"text-main text-xs sm:text-base font-medium\">\n                {{ getSportTypeFilterLabel(value as TSportType) || t('labels.all') }}\n              </span>\n              <span class=\"ml-2 mr-5 inline-flex items-center justify-center\">\n                <IconChevronUp v-if=\"isSelected || isOpen\" class=\"text-main\" />\n                <IconChevronDown v-else class=\"text-main\" />\n              </span>\n            </button>\n          </template>\n          <template #option-item-inner=\"{ option, isSelected, select }\">\n            <li class=\"baseSelect__listOption !py-0 !px-4 h-14\">\n              <BaseCheckbox\n                :model-value=\"isSelected\"\n                :name=\"(option as Record<string, any>).value\"\n                :label=\"t(`sport_types.${(option as Record<string, any>).value}`)\"\n                @update:model-value=\"select(option)\"\n              >\n                <template #before_label>\n                  <div class=\"h-full flex items-center\" @click=\"select(option)\">\n                    <IconSportType\n                      class=\"mx-2 text-[var(--base-sportTypeFilterIcon-logo)]\"\n                      :width=\"16\"\n                      :height=\"16\"\n                      :sport-type=\"(option as Record<string, any>).value\"\n                    />\n                  </div>\n                </template>\n              </BaseCheckbox>\n            </li>\n            <div role=\"separator\" class=\"hr mx-4\" style=\"background: var(--base-sportTypeSelector-line-color)\" />\n          </template>\n        </BaseSelect>\n      </div>\n      <div v-if=\"props.hasEventDateFilter\">\n        <BaseSelect\n          v-model=\"eventDate\"\n          :options=\"eventDateOptions\"\n          :disabled=\"props.disabled\"\n          name=\"eventDate\"\n          options-class=\"!w-[200px] font-medium\"\n          emitted-key=\"value\"\n        >\n          <template #toggle=\"{ toggle, value, isSelected, isOpen }\">\n            <button name=\"eventDate filter\" @click=\"toggle\">\n              <span class=\"text-secondary text-xs sm:text-base font-medium mx-2\">{{ t('labels.event_date') }}:</span>\n              <span class=\"text-main  text-xs sm:text-base font-medium\"> {{ value ? t(`labels.${value}`) : '---' }} </span>\n              <span class=\"ml-2 mr-5 inline-flex items-center justify-center\">\n                <IconChevronUp v-if=\"isSelected || isOpen\" class=\"text-main\" />\n                <IconChevronDown v-else class=\"text-main\" />\n              </span>\n            </button>\n          </template>\n        </BaseSelect>\n      </div>\n      <div v-if=\"props.hasCategoryFilter\">\n        <BaseSelect\n          v-model=\"categories\"\n          :options=\"items\"\n          options-class=\"font-medium\"\n          name=\"searchType\"\n          :disabled=\"props.disabled\"\n          emitted-key=\"id\"\n        >\n          <template #toggle=\"{ toggle, value, isOpen, isSelected }\">\n            <button name=\"category filter\" @click=\"toggle\">\n              <span class=\"text-secondary text-xs sm:text-base font-medium mx-2\">{{ categoryTitle }}:</span>\n              <span class=\"text-main text-xs sm:text-base font-medium\"> {{ getCategoryFilterLabel(value as string) }} </span>\n              <span class=\"ml-2 mr-5 inline-flex items-center justify-center\">\n                <IconChevronUp v-if=\"isSelected || isOpen\" class=\"text-main\" />\n                <IconChevronDown v-else class=\"text-main\" />\n              </span>\n            </button>\n          </template>\n        </BaseSelect>\n      </div>\n      <div v-if=\"props.hasGenderFilter\">\n        <BaseSelect\n          v-model=\"gender\"\n          :options=\"genderOptions\"\n          options-class=\"font-medium sm:!w-[20rem]\"\n          name=\"gender\"\n          :disabled=\"props.disabled\"\n          emitted-key=\"value\"\n        >\n          <template #toggle=\"{ toggle, value, isSelected, isOpen }\">\n            <button name=\"gender filter\" @click=\"toggle\">\n              <span class=\"text-secondary text-xs sm:text-base font-medium mx-2\">{{ t('labels.gender') }}:</span>\n              <span class=\"text-main text-xs sm:text-base font-medium\"> {{ getGenderFilterLabel(value) }} </span>\n              <span class=\"ml-2 mr-5 inline-flex items-center justify-center\">\n                <IconChevronUp v-if=\"isSelected || isOpen\" class=\"text-main\" />\n                <IconChevronDown v-else class=\"text-main\" />\n              </span>\n            </button>\n          </template>\n        </BaseSelect>\n      </div>\n      <BaseButton v-if=\"props.hasClearButton ? true : props.sportTypes?.length\" name=\"clear filters\" class=\"text-xs sm:text-base\" link @click=\"onClickClear\">\n        <p class=\"ml-1\">\n          &#10005; {{ t('button.clear_all') }}\n        </p>\n      </BaseButton>\n    </div>\n    <div v-if=\"props.hasOrderFilter\">\n      <BaseButton name=\"order\" type=\"icon\" class=\"text-base font-medium\" :disabled=\"props.disabled\" @click=\"onToggleSort()\">\n        <div class=\"flex items-center text-main\">\n          <IconSort />\n          <span class=\"mx-2\">{{ props.order === ORDER.desc ? t('labels.newest') : t('labels.oldest') }}</span>\n        </div>\n      </BaseButton>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.sportTypeSelector {\n  .baseCheckbox {\n    @apply w-full h-full;\n\n    .baseCheckbox__label {\n      @apply w-full h-full flex items-center;\n    }\n  }\n}\n</style>\n"],"names":["_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","props","__props","t","useI18n","appConfig","useRuntimeConfig","emit","__emit","onToggleSort","ORDER","onClickClear","eventDate","useVModel","categories","gender","availableSportTypeList","computed","isSportTypeDropdownVisible","sportTypesOptions","sport","isLeaguesView","onSportTypeSelect","sportTypes","getSportTypeFilterLabel","truncateArrayOfStringByValue","k","eventDatesList","eventDateOptions","dateType","categoryTitle","genderList","genderOptions","items","usePagination","page","pageSize","CategoriesAPI","SORT","getCategoryFilterLabel","categoryId","item","getGenderFilterLabel","value","_hoisted_2","_hoisted_3","_unref","_createBlock","_component_BaseSelect","_withCtx","toggle","isSelected","isOpen","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_component_IconChevronUp","_component_IconChevronDown","option","select","_hoisted_8","_createVNode","_component_BaseCheckbox","$event","_component_IconSportType","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_24","_component_BaseButton","_hoisted_25","_hoisted_26","_hoisted_27","_component_IconSort","_hoisted_28"],"mappings":"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"}