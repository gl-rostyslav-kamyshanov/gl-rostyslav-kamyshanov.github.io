import{_ as T}from"./DBgyJtsT.js";import{d as y,u as C,c as g,a as d,i as l,h as n,t as m,j as e,J as w,P as U,a4 as j,ab as O,b as V,e as F,ac as x,o as H,z as B,w as i,_ as R,m as v,a5 as J,F as K,q as G,p as Q}from"./D1PGu32k.js";import{_ as W}from"./CxG38I7b.js";import{_ as X}from"./DmgwwZ4c.js";import"./CA6LNb2e.js";import"./aypoBst4.js";import"./7HD-6glq.js";import"./DdVBIb4X.js";import"./BQ4KkwTu.js";import"./6GUsRNIW.js";import"./bSPjSIlP.js";import"./t8kEKHOg.js";import"./B5QgAi8z.js";import"./CX03EJlb.js";const Y={class:"flex flex-col gap-3 sm:gap-6"},Z={class:"flex flex-col gap-3 sm:gap-6"},ee={class:"font-bold text-main"},te={class:"flex flex-col gap-3 sm:gap-6"},oe={class:"font-bold text-main"},se=y({__name:"FormLoading",setup(f){const{t:c}=C();return(t,o)=>{const a=T;return d(),g("div",Y,[l("div",Z,[l("h3",ee,m(e(c)("labels.loading")),1),n(a,{disabled:"",required:"",name:"full_name"}),n(a,{disabled:"",required:"",name:"email"}),n(a,{disabled:"",required:"",name:"email"}),o[0]||(o[0]=l("div",{class:"hr",role:"separator"},null,-1))]),l("div",te,[l("h3",oe,m(e(c)("labels.loading")),1),n(a,{disabled:"",required:"",name:"full_name"}),n(a,{disabled:"",required:"",name:"email"}),n(a,{disabled:"",required:"",name:"email"}),o[1]||(o[1]=l("div",{class:"hr",role:"separator"},null,-1))])])}}}),ne=Object.assign(se,{__name:"AccountFormLoading"}),ae={key:0,xmlns:"http://www.w3.org/2000/svg",width:"72",height:"64",viewBox:"0 0 72 64"},le={key:1,width:"72",height:"64",viewBox:"0 0 73 66",xmlns:"http://www.w3.org/2000/svg"},ce=y({__name:"ProfileDelete",props:{isDarkTheme:{type:Boolean,default:!0}},setup(f){const c=f;return(t,o)=>c.isDarkTheme?(d(),g("svg",ae,o[0]||(o[0]=[w('<g fill="none" fill-rule="evenodd"><g><circle fill="#2C374B" cx="32" cy="32" r="32"></circle><path d="M32 34.1c3.3 0 6-2.766 6-6.146v-.308c0-3.38-2.7-6.146-6-6.146s-6 2.766-6 6.146v.308c0 3.38 2.7 6.146 6 6.146zm6.9 2.1H25.1c-2.82 0-5.1 2.816-5.1 6.3h24c0-3.446-2.28-6.3-5.1-6.3z" fill="#A9B7D1"></path></g><g transform="translate(48 40)"><circle fill="var(--base-error-color)" cx="12" cy="12" r="12"></circle><path d="M7.405 16.594a.622.622 0 0 0 .48.206.623.623 0 0 0 .48-.206L12 12.96l3.634 3.634a.74.74 0 0 0 .48.206.741.741 0 0 0 .48-.206.663.663 0 0 0 0-.96L12.96 12l3.634-3.634a.663.663 0 0 0 0-.96.663.663 0 0 0-.96 0L12 11.04 8.366 7.406a.663.663 0 0 0-.96 0 .663.663 0 0 0 0 .96L11.04 12l-3.634 3.634a.663.663 0 0 0 0 .96z" fill="#FFF"></path></g></g>',1)]))):(d(),g("svg",le,o[1]||(o[1]=[w('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)"><circle stroke="#DFDFDF" cx="32" cy="32" r="32"></circle><path d="M32 34.1c3.3 0 6-2.766 6-6.146v-.308c0-3.38-2.7-6.146-6-6.146s-6 2.766-6 6.146v.308c0 3.38 2.7 6.146 6 6.146zm6.9 2.1H25.1c-2.82 0-5.1 2.816-5.1 6.3h24c0-3.446-2.28-6.3-5.1-6.3z" fill="#8F959F"></path></g><g transform="translate(49 41)"><circle fill="var(--base-error-color)" cx="12" cy="12" r="12"></circle><path d="M7.405 16.594a.622.622 0 0 0 .48.206.623.623 0 0 0 .48-.206L12 12.96l3.634 3.634a.74.74 0 0 0 .48.206.741.741 0 0 0 .48-.206.663.663 0 0 0 0-.96L12.96 12l3.634-3.634a.663.663 0 0 0 0-.96.663.663 0 0 0-.96 0L12 11.04 8.366 7.406a.663.663 0 0 0-.96 0 .663.663 0 0 0 0 .96L11.04 12l-3.634 3.634a.663.663 0 0 0 0 .96z" fill="#FFF"></path></g></g>',1)])))}}),re=Object.assign(ce,{__name:"IconProfileDelete"}),ie={class:"text-center"},de={class:"mb-6 flex justify-center"},ue={class:"mt-6 grid grid-cols-2 gap-4"},Ce=y({__name:"general",setup(f){const c=U(),{t,te:o}=C(),a=Q(),L=j(),D=O(),u=V(),h=s=>{const{message:r}=G(s.message,{t,te:o});return a.error(r)};function $(){return a.success(t("pages.account.account_update_successfully"))}const{loading:_,run:P}=F(x.update,{onSuccess:$,onError:h}),{loading:k,run:A}=F(x.load(),{onError:h});function q(s){const r={email:u.user?.email,country:s.countryName||void 0,name:s.fullName};return P(s).then(()=>{u.user?.id&&D.identify(u.user?.id,r)})}function z(s){return x.delete().then(()=>{s&&s(),a.success(t("pages.account.account_delete_successfully")),u.logout(),c.push("/auth/login/")}).catch(r=>{h(r),s&&s()})}return H(()=>A()),(s,r)=>{const S=ne,N=W,b=R,E=re,I=X;return d(),g(K,null,[e(k)?(d(),B(S,{key:0})):(d(),B(N,{key:1,disabled:e(_),"initial-data":e(u).user,"submit-label":e(t)("labels.update"),onSubmit:q},null,8,["disabled","initial-data","submit-label"])),n(I,{title:e(t)("pages.account.account_delete_confirm"),description:e(t)("pages.account.account_delete_description"),"root-class":"max-w-[430px]"},{trigger:i(({openModal:p})=>[l("div",ie,[n(b,{class:"mt-8 font-medium",name:"delete-account",type:"danger",disabled:e(_),link:"",onClick:p},{default:i(()=>[v(m(e(t)("pages.account.account_delete_button")),1)]),_:2},1032,["disabled","onClick"])])]),"before-title":i(()=>[l("div",de,[n(E,{"is-dark-theme":e(L).value===e(J).DARK},null,8,["is-dark-theme"])])]),actions:i(({closeModal:p})=>[l("div",ue,[n(b,{"full-width":"",class:"text-button-bold text-white",type:"secondary",name:"modalClose",disabled:e(_),onClick:M=>p()},{default:i(()=>[v(m(e(t)("button.cancel")),1)]),_:2},1032,["disabled","onClick"]),n(b,{"full-width":"",type:"danger",name:"modalConfirm",class:"text-button-bold",disabled:e(_)||e(k),onClick:M=>z(p)},{default:i(()=>[v(m(e(t)("button.delete")),1)]),_:2},1032,["disabled","onClick"])])]),_:1},8,["title","description"])],64)}}});export{Ce as default};
