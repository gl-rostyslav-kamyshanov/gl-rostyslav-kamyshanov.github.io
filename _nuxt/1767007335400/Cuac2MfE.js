import{_ as M}from"./CgFYnx5w.js";import{_ as O}from"./jRZPh4h2.js";import{_ as w}from"./Bliwdhsd.js";import{u as N}from"./Buca9MB9.js";import{u as V}from"./CGViRROh.js";import{a as F}from"./CB2DQzW9.js";import{u as R,g as $,N as E,au as q,O as p,S as _,a9 as T}from"./vfF7RKPo.js";import{S as j}from"./DWLNPSlD.js";import{d as D,N as i,c as U,o as W,b as s,ad as Y,e as h,f as y,Y as t}from"./DrHYGv5w.js";const G=20,H=D({__name:"IdentityItems",props:{limit:{},title:{},items:{},hideOnNoContent:{type:Boolean},identityId:{},linkList:{type:Boolean},hasSeeAllLink:{type:Boolean},hasLoadMoreButton:{type:Boolean},seeAllLink:{},seeAllLinkPlacement:{default:"top-right"},searchValue:{},gridClass:{default:"clubs-grid__desktopWide"},loading:{type:Boolean},error:{},loadOnlyFollowed:{type:Boolean}},setup(g){const e=g,{t:l,te:k}=R(),L=N({sm:6,md:6,lg:8,xl:10,xl2:12,xl3:16,xl4:22,xl5:16,xl6:16}).value,a=e.limit?e.limit:G,{items:r,error:d,loadMore:f,canLoadMore:m,loading:I}=F({immediate:!0,pageSize:a,paginateExistItems:e.items&&e.items.length>0,loadItemsFn:(n,o)=>e.items||!e.identityId?Promise.resolve(E([])):e.loadOnlyFollowed&&e.identityId?q.loadCache({page:n,pageSize:o,identityId:e.identityId,sort:_.added,order:p.asc}):e.searchValue?j.identityItemSearch({page:n,pageSize:o,searchString:e.searchValue,identityId:e.identityId}):T.subCategories.load({page:n,pageSize:o,identityId:e.identityId,sort:_.order,order:p.asc})}),x=i(()=>e.seeAllLink?e.seeAllLink:`/following/category/${e.identityId}/`),C=i(()=>({path:x.value,query:{q:e.searchValue}})),c=i(()=>e.items?e.items.concat(r.value):r.value),A=V(c,{limit:e.hasLoadMoreButton?void 0:e.limit||L,searchProperty:"title"}),B=i(()=>m.value||c.value.length>a),P=i(()=>d.value&&$(d.value,{t:l,te:k}).message);return(n,o)=>{const v=M,S=O,b=w;return W(),U(b,{items:t(A),title:e.title,limit:t(a),error:t(P)??e.error,loading:t(I)||e.loading,"grid-class":e.gridClass,"hide-on-no-content":e.hideOnNoContent,"see-all-link-placement":e.seeAllLinkPlacement,"see-all-link-path":t(C),"has-load-more-button":e.hasLoadMoreButton&&t(m),"has-see-all-link":e.hasSeeAllLink&&t(B),"no-content-text":t(l)("errors.could_not_find_results"),onClickLoadMore:o[0]||(o[0]=u=>t(f)())},{start:s(()=>[h(n.$slots,"start")]),item:s(({item:u})=>[y(v,{"is-link":e.linkList,item:u,"main-category-id":e.identityId,type:"identity_item"},null,8,["is-link","item","main-category-id"])]),skeleton:s(()=>[y(S)]),end:s(()=>[h(n.$slots,"end")]),default:s(()=>[o[1]||(o[1]=Y("> ",-1))]),_:3},8,["items","title","limit","error","loading","grid-class","hide-on-no-content","see-all-link-placement","see-all-link-path","has-load-more-button","has-see-all-link","no-content-text"])}}}),ie=Object.assign(H,{__name:"ListIdentityItems"});export{ie as _};
