import{_ as I,a as M}from"./jRZPh4h2.js";import{u as N,z as O,g as w,a0 as $,R,N as T,O as W,S as F,a9 as z}from"./vfF7RKPo.js";import{_ as G}from"./Bliwdhsd.js";import{u as K}from"./CGViRROh.js";import{a as U}from"./CB2DQzW9.js";import{S as j}from"./DWLNPSlD.js";import{d as q,N as r,c as D,o as g,Y as o,b as l,e as d,g as Y,i as H,f as c}from"./DrHYGv5w.js";const J={key:0,class:"min-h-400px"},Q=20,X=q({__name:"Identities",props:{searchValue:{},gridClass:{default:"clubs-grid__desktopWide"},limit:{},loadMainCategory:{type:Boolean},loadArchived:{type:Boolean},loadOnlyFollowed:{type:Boolean},hasLoadMoreButton:{type:Boolean},loadWhenVisible:{type:Boolean},linkList:{type:Boolean},title:{},items:{},loading:{type:Boolean},error:{},noContentText:{},filterValue:{},hideOnNoContent:{type:Boolean},hasSeeAllLink:{type:Boolean},seeAllLink:{},seeAllLinkPlacement:{default:"top-right"},queryParams:{},isArchived:{type:Boolean}},setup(k){const{t:m,te:C}=N(),f=O(),e=k,i=e.limit?e.limit:Q,L=t=>{f.track(R.CLICK_ON_LEAGUE,{league_id:t.id,league_name:t.title})},y=(t,n,a={})=>({page:t,pageSize:n,sort:F.order,order:W.asc,...a}),{items:u,error:p,loadMore:B,canLoadMore:_,loading:v,reset:S}=U({pageSize:i,immediate:!0,paginateExistItems:!!e.loadOnlyFollowed,loadItemsFn:(t,n)=>{if(e.items)return Promise.resolve(T([]));const a=y(t,n,{archived:e.isArchived});return e.searchValue?j.identitySearch({...a,searchString:e.searchValue}):z.load(a)}}),h=r(()=>e.items?e.items.concat(u.value):u.value),b=K(h,{limit:e.hasLoadMoreButton?void 0:i,searchProperty:"title",searchValue:r(()=>e.filterValue||"")}),A=r(()=>_.value||h.value.length>i),V=r(()=>p.value&&w(p.value,{t:m,te:C}).message);return(t,n)=>{const a=M,x=$,P=I,E=G;return g(),D(E,{title:e.title,items:o(b),limit:o(i),loading:o(v)||e.loading,"load-when-visible":e.loadWhenVisible,"has-load-more-button":e.hasLoadMoreButton&&o(_),"has-see-all-link":e.hasSeeAllLink&&o(A),error:o(V)||e.error,"grid-class":e.gridClass,"hide-on-no-content":e.hideOnNoContent,"see-all-link-placement":e.seeAllLinkPlacement,"no-content-text":o(m)("errors.could_not_find_results"),onClickLoadMore:n[0]||(n[0]=s=>o(B)()),onVisible:n[1]||(n[1]=s=>o(S)())},{start:l(()=>[d(t.$slots,"start")]),item:l(({item:s})=>[c(x,{to:`/league/${s.id}`},{default:l(()=>[c(a,{title:s.title,"image-url":s.imageUrl,"with-initials":"",width:96,height:96,onClick:()=>L(s)},null,8,["title","image-url","onClick"])]),_:2},1032,["to"])]),skeleton:l(()=>[c(P)]),empty:l(()=>[d(t.$slots,"empty",{},()=>[e.loadWhenVisible?(g(),Y("div",J)):H("",!0)])]),end:l(()=>[d(t.$slots,"end")]),_:3},8,["title","items","limit","loading","load-when-visible","has-load-more-button","has-see-all-link","error","grid-class","hide-on-no-content","see-all-link-placement","no-content-text"])}}}),le=Object.assign(X,{__name:"ListIdentities"});export{le as _};
