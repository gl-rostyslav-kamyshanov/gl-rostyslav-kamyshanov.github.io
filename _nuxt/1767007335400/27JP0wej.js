import{_ as I}from"./DowbGgKV.js";import{d as y,g,o as d,h as l,f as n,v as m,Y as e,$ as w,X as M,c as F,b as i,ad as x,F as O}from"./DrHYGv5w.js";import{u as C,l as V,t as j,z as H,a as R,b as B,U as v,_ as K,T as X,g as Y,d as G}from"./vfF7RKPo.js";import{_ as J}from"./ByTzMJfc.js";import{_ as Q}from"./nCSe83WX.js";import"./B1IlCmgd.js";import"./Dq-QN952.js";import"./IVvJIK5b.js";import"./Dql7-ge0.js";import"./V8NEB3vv.js";import"./B47pBCHT.js";import"./B-DBQphj.js";import"./CBJd-9r4.js";import"./BmvnMvdl.js";import"./BJn8Pmc_.js";import"./CK0zO6h3.js";import"./CCzZEDx3.js";import"./CB2DQzW9.js";const W={class:"flex flex-col gap-3 sm:gap-6"},Z={class:"flex flex-col gap-3 sm:gap-6"},ee={class:"font-bold text-main"},te={class:"flex flex-col gap-3 sm:gap-6"},oe={class:"font-bold text-main"},se=y({__name:"FormLoading",setup(f){const{t:r}=C();return(t,o)=>{const a=I;return d(),g("div",W,[l("div",Z,[l("h3",ee,m(e(r)("labels.loading")),1),n(a,{disabled:"",required:"",name:"full_name"}),n(a,{disabled:"",required:"",name:"email"}),n(a,{disabled:"",required:"",name:"email"}),o[0]||(o[0]=l("div",{class:"hr",role:"separator"},null,-1))]),l("div",te,[l("h3",oe,m(e(r)("labels.loading")),1),n(a,{disabled:"",required:"",name:"full_name"}),n(a,{disabled:"",required:"",name:"email"}),n(a,{disabled:"",required:"",name:"email"}),o[1]||(o[1]=l("div",{class:"hr",role:"separator"},null,-1))])])}}}),ne=Object.assign(se,{__name:"AccountFormLoading"}),ae={key:0,xmlns:"http://www.w3.org/2000/svg",width:"72",height:"64",viewBox:"0 0 72 64"},le={key:1,width:"72",height:"64",viewBox:"0 0 73 66",xmlns:"http://www.w3.org/2000/svg"},re=y({__name:"ProfileDelete",props:{isDarkTheme:{type:Boolean,default:!0}},setup(f){const r=f;return(t,o)=>r.isDarkTheme?(d(),g("svg",ae,[...o[0]||(o[0]=[w('<g fill="none" fill-rule="evenodd"><g><circle fill="#2C374B" cx="32" cy="32" r="32"></circle><path d="M32 34.1c3.3 0 6-2.766 6-6.146v-.308c0-3.38-2.7-6.146-6-6.146s-6 2.766-6 6.146v.308c0 3.38 2.7 6.146 6 6.146zm6.9 2.1H25.1c-2.82 0-5.1 2.816-5.1 6.3h24c0-3.446-2.28-6.3-5.1-6.3z" fill="#A9B7D1"></path></g><g transform="translate(48 40)"><circle fill="var(--base-error-color)" cx="12" cy="12" r="12"></circle><path d="M7.405 16.594a.622.622 0 0 0 .48.206.623.623 0 0 0 .48-.206L12 12.96l3.634 3.634a.74.74 0 0 0 .48.206.741.741 0 0 0 .48-.206.663.663 0 0 0 0-.96L12.96 12l3.634-3.634a.663.663 0 0 0 0-.96.663.663 0 0 0-.96 0L12 11.04 8.366 7.406a.663.663 0 0 0-.96 0 .663.663 0 0 0 0 .96L11.04 12l-3.634 3.634a.663.663 0 0 0 0 .96z" fill="#FFF"></path></g></g>',1)])])):(d(),g("svg",le,[...o[1]||(o[1]=[w('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)"><circle stroke="#DFDFDF" cx="32" cy="32" r="32"></circle><path d="M32 34.1c3.3 0 6-2.766 6-6.146v-.308c0-3.38-2.7-6.146-6-6.146s-6 2.766-6 6.146v.308c0 3.38 2.7 6.146 6 6.146zm6.9 2.1H25.1c-2.82 0-5.1 2.816-5.1 6.3h24c0-3.446-2.28-6.3-5.1-6.3z" fill="#8F959F"></path></g><g transform="translate(49 41)"><circle fill="var(--base-error-color)" cx="12" cy="12" r="12"></circle><path d="M7.405 16.594a.622.622 0 0 0 .48.206.623.623 0 0 0 .48-.206L12 12.96l3.634 3.634a.74.74 0 0 0 .48.206.741.741 0 0 0 .48-.206.663.663 0 0 0 0-.96L12.96 12l3.634-3.634a.663.663 0 0 0 0-.96.663.663 0 0 0-.96 0L12 11.04 8.366 7.406a.663.663 0 0 0-.96 0 .663.663 0 0 0 0 .96L11.04 12l-3.634 3.634a.663.663 0 0 0 0 .96z" fill="#FFF"></path></g></g>',1)])]))}}),ce=Object.assign(re,{__name:"IconProfileDelete"}),ie={class:"text-center"},de={class:"mb-6 flex justify-center"},ue={class:"mt-6 grid grid-cols-2 gap-4"},Ae=y({__name:"general",setup(f){const r=V(),{t,te:o}=C(),a=G(),L=j(),D=H(),u=R(),h=s=>{const{message:c}=Y(s.message,{t,te:o});return a.error(c)};function $(){return a.success(t("pages.account.account_update_successfully"))}const{loading:_,run:A}=B(v.update,{onSuccess:$,onError:h}),{loading:k,run:P}=B(v.load(),{onError:h});function z(s){const c={email:u.user?.email,country:s.countryName||void 0,name:s.fullName};return A(s).then(()=>{u.user?.id&&D.identify(u.user?.id,c)})}function S(s){return v.delete().then(()=>{s&&s(),a.success(t("pages.account.account_delete_successfully")),u.logout(),r.push("/auth/login/")}).catch(c=>{h(c),s&&s()})}return M(()=>P()),(s,c)=>{const q=ne,N=J,b=K,T=ce,U=Q;return d(),g(O,null,[e(k)?(d(),F(q,{key:0})):(d(),F(N,{key:1,disabled:e(_),"initial-data":e(u).user,"submit-label":e(t)("labels.update"),onSubmit:z},null,8,["disabled","initial-data","submit-label"])),n(U,{title:e(t)("pages.account.account_delete_confirm"),description:e(t)("pages.account.account_delete_description"),"root-class":"max-w-[430px]"},{trigger:i(({openModal:p})=>[l("div",ie,[n(b,{class:"mt-8 font-medium",name:"delete-account",type:"danger",disabled:e(_),link:"",onClick:p},{default:i(()=>[x(m(e(t)("pages.account.account_delete_button")),1)]),_:2},1032,["disabled","onClick"])])]),"before-title":i(()=>[l("div",de,[n(T,{"is-dark-theme":e(L).value===e(X).DARK},null,8,["is-dark-theme"])])]),actions:i(({closeModal:p})=>[l("div",ue,[n(b,{"full-width":"",class:"text-button-bold text-white",type:"secondary",name:"modalClose",disabled:e(_),onClick:E=>p()},{default:i(()=>[x(m(e(t)("button.cancel")),1)]),_:2},1032,["disabled","onClick"]),n(b,{"full-width":"",type:"danger",name:"modalConfirm",class:"text-button-bold",disabled:e(_)||e(k),onClick:E=>S(p)},{default:i(()=>[x(m(e(t)("button.delete")),1)]),_:2},1032,["disabled","onClick"])])]),_:1},8,["title","description"])],64)}}});export{Ae as default};
