import{_ as C,a as M}from"./CZgr-xsV.js";import{u as N,k as P,b as $,g as q,c as z,v as I,_ as D}from"./vfF7RKPo.js";import{_ as E}from"./DowbGgKV.js";import{d as H,s as R,B as j,N as L,r as T,g as p,o as r,f as a,b as i,h as s,c as b,i as U,v as n,Y as t,aj as g,ad as Y}from"./DrHYGv5w.js";import{P as Z}from"./Co_HdXxg.js";import"./YXvYJOkl.js";import"./qTb77THm.js";import"./6tYJEWcP.js";import"./B4wo3SUq.js";import"./DJO5Ko8d.js";import"./d1rVCiWV.js";import"./Dql7-ge0.js";import"./xeMFU3jQ.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./B47pBCHT.js";import"./DsilW_8g.js";import"./CuVeKCNu.js";import"./DjtFQFjx.js";import"./DdW31oNs.js";import"./CFdcWqxl.js";import"./B1IlCmgd.js";import"./BmvnMvdl.js";import"./DNaFeO-P.js";import"./IVvJIK5b.js";import"./Dq-QN952.js";const F={class:"pt-32 pb-12 form-column"},G={class:"w-full max-w-[400px]"},J={class:"text-center"},K={class:"text-heading-1-bold"},O={key:0,class:"mt-4 text-xs text-secondary"},Q={class:"text-main font-bold"},W={class:"text-center mt-4"},X={class:"text-[var(--base-secondary-text-color)]"},tt={class:"text-[var(--base-secondary-text-color)]"},et={class:"text-center mt-4"},st={class:"text-[var(--base-secondary-text-color)]"},Pt=H({__name:"forgot",setup(ot){const{t:e,te:h}=N(),k=P(),c=R(!1),l=j({email:k.query.email||"",password:""}),w=()=>c.value=!0,{loading:m,error:u,run:y}=$(Z.reset,{onSuccess:w}),f=()=>y({email:l.email}),x=L(()=>u.value&&q(u.value,{t:e,te:h}).message);return z({title:e("labels.forgot_password")}),(at,o)=>{const v=C,B=T("i18n-t"),V=I,S=E,d=D,A=M;return r(),p("div",null,[a(v,{mode:"sign-up","with-locale":"",absolute:"",transparent:""}),a(A,null,{default:i(()=>[s("div",F,[s("div",G,[s("div",J,[s("h1",K,n(t(e)("labels.forgot_password")),1),t(c)?(r(),b(B,{key:1,tag:"p",keypath:"pages.auth_password.forgot_password_success_text",class:"mt-4 text-xm text-secondary"},{email:i(()=>[s("span",Q,n(t(l).email),1)]),_:1})):(r(),p("p",O,n(t(e)("pages.auth_password.forgot_password_help_text")),1))]),t(x)?(r(),b(V,{key:0,type:"danger",class:"mt-6",text:t(x)},null,8,["text"])):U("",!0),t(c)?(r(),p("form",{key:2,class:"flex flex-col",onSubmit:o[3]||(o[3]=g(()=>{},["prevent"]))},[a(d,{class:"mt-16 font-bold text-center",name:"back-login","full-width":"",tag:"nuxt-link",to:{path:"/auth/login/",query:{email:t(l).email}},disabled:t(m)},{default:i(()=>[s("span",tt,n(t(e)("pages.auth_password.back_to_sign_in")),1)]),_:1},8,["to","disabled"]),s("div",et,[a(d,{name:"back-login",type:"secondary",disabled:t(m),"full-width":"",link:"",onClick:o[2]||(o[2]=_=>f())},{default:i(()=>[s("span",st,n(t(e)("pages.auth_password.resend_instruction")),1)]),_:1},8,["disabled"])])],32)):(r(),p("form",{key:1,class:"mt-8",onSubmit:o[1]||(o[1]=g(_=>f(),["prevent"]))},[a(S,{modelValue:t(l).email,"onUpdate:modelValue":o[0]||(o[0]=_=>t(l).email=_),disabled:t(m),type:"email",name:"email",label:t(e)("labels.email"),placeholder:t(e)("labels.email_placeholder"),autocomplete:"username",pattern:"[a-zA-Z0-9._%+\\-]+@[a-z0-9.\\-]+\\.[a-z]{2,4}$",size:"30",required:""},null,8,["modelValue","disabled","label","placeholder"]),a(d,{class:"mt-16 font-bold",name:"submit-send-reset-link",disabled:t(m),"full-width":""},{default:i(()=>[Y(n(t(e)("pages.auth_password.send_reset_link")),1)]),_:1},8,["disabled"]),s("div",W,[a(d,{name:"back-login",type:"secondary",tag:"nuxt-link",to:{path:"/auth/login/",query:{email:t(l).email}},disabled:t(m),"full-width":"",link:""},{default:i(()=>[s("span",X,n(t(e)("pages.auth_password.back_to_sign_in")),1)]),_:1},8,["to","disabled"])])],32))])])]),_:1})])}}});export{Pt as default};
