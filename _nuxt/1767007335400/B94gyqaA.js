import{u as G,L as q,_ as J,t as Q,T as ee,o as te,k as ae,a5 as ne,aY as oe,c as re}from"./vfF7RKPo.js";import{_ as se}from"./B5PQPAnG.js";import{d as I,N as b,g as v,o as d,c as A,i as B,f as P,b as j,Y as p,k as W,$ as H,v as C,_ as ie,F as V,al as Z,h as x,s as N,K,x as F,X as z,ad as le,a7 as O,W as ce}from"./DrHYGv5w.js";import{_ as de}from"./1D_q-g1K.js";import{b as ue,_ as ge,a as me}from"./3dggQTw5.js";import{f as k}from"./BW4JKS41.js";import"./IVvJIK5b.js";import"./Dql7-ge0.js";import"./B47pBCHT.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./DAOSz0hJ.js";import"./BqTnpP6a.js";import"./DCPon2b6.js";import"./Cwe8Zc1F.js";import"./C_PxQ261.js";import"./C2KvprTY.js";import"./K0FOolKr.js";import"./BJn8Pmc_.js";import"./Dq-QN952.js";import"./CvhnJ7We.js";import"./w6JHJDJA.js";import"./DowbGgKV.js";import"./B1IlCmgd.js";import"./CBJd-9r4.js";import"./BmvnMvdl.js";import"./mCVtpy1_.js";import"./sn94QsV-.js";import"./nCSe83WX.js";import"./D-X5qCNB.js";import"./DMg35F59.js";import"./YXvYJOkl.js";import"./qTb77THm.js";import"./B4wo3SUq.js";import"./Br14HIQB.js";import"./Brp57tgB.js";import"./7kx0z0FL.js";const pe={class:"flex items-center justify-between w-full px-4",role:"navigation","aria-label":"Day navigation"},ve={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},he={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},fe={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},_e={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},ye={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},xe={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},we=I({__name:"DayNavigation",props:{tabs:{},activeTab:{},canNavigatePrev:{type:Boolean},canNavigateNext:{type:Boolean},showNavigation:{type:Boolean}},emits:["navigatePrev","navigateNext"],setup(i,{emit:h}){const l=i,e=h,{locale:f}=G(),_=b(()=>f.value===q.HE),s=(a,t)=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t==="prev"&&l.canNavigatePrev?e("navigatePrev"):t==="next"&&l.canNavigateNext&&e("navigateNext"))};return(a,t)=>{const o=J,g=se;return d(),v("div",pe,[a.showNavigation?(d(),A(o,{key:0,name:"arrow-left",type:"icon",class:W(["text-main",{"opacity-50 cursor-not-allowed":!a.canNavigatePrev}]),disabled:!a.canNavigatePrev,"aria-label":p(_)?"Next day":"Previous day","aria-disabled":!a.canNavigatePrev,tabindex:"0",onClick:t[0]||(t[0]=r=>a.$emit("navigatePrev")),onKeydown:t[1]||(t[1]=r=>s(r,"prev"))},{default:j(()=>[(d(),v("svg",ve,[p(_)?(d(),v("path",he)):(d(),v("path",fe))]))]),_:1},8,["class","disabled","aria-label","aria-disabled"])):B("",!0),P(g,{tabs:a.tabs,class:"w-full",active:a.activeTab,role:"tablist","aria-label":"Day selection tabs"},null,8,["tabs","active"]),a.showNavigation?(d(),A(o,{key:1,type:"icon",class:W(["text-main",{"opacity-50 cursor-not-allowed":!a.canNavigateNext}]),name:"arrow-right",disabled:!a.canNavigateNext,"aria-label":p(_)?"Previous day":"Next day","aria-disabled":!a.canNavigateNext,tabindex:"0",onClick:t[2]||(t[2]=r=>a.$emit("navigateNext")),onKeydown:t[3]||(t[3]=r=>s(r,"next"))},{default:j(()=>[(d(),v("svg",_e,[p(_)?(d(),v("path",ye)):(d(),v("path",xe))]))]),_:1},8,["class","disabled","aria-label","aria-disabled"])):B("",!0)])}}}),be=Object.assign(we,{__name:"ChannelDayNavigation"}),Le={key:0,width:"178px",height:"156px",viewBox:"0 0 119 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ke={key:1,width:"178px",height:"156px",viewBox:"0 0 119 104",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ce=I({__name:"NoBroadcast",props:{fill:{default:"#A9B7D1"},isDarkTheme:{type:Boolean}},setup(i){const h=i;return(l,e)=>h.isDarkTheme?(d(),v("svg",Le,[...e[0]||(e[0]=[H('<title>Program empty</title><g id="ðŸ“Dark-theme" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Linear-Channel_List-empty" transform="translate(-136, -467)"><g id="score" transform="translate(-28, 396)"><g id="Group-2" transform="translate(88, 71)"><g id="Program-empty" transform="translate(76, 0)"><g id="illustration" transform="translate(0, 72)"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g><g id="illustration" transform="translate(0, 36)"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g><g id="illustration"><g id="live-card"></g><rect id="Rectangle" fill="#232f43" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#2C374B"></path><g id="Group-3" transform="translate(5.25, 7.9169)"><rect id="Rectangle" fill="#2C374B" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" fill="#232f43" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z" fill="#2C374B"></path></g></g></g></g></g></g></g>',2)])])):(d(),v("svg",ke,[...e[1]||(e[1]=[H('<title>Group 5</title><g id="ðŸ“Light-theme" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Linear-Channel_List-empty_Light" transform="translate(-136, -467)"><g id="score" transform="translate(-28, 396)"><g id="Group-2" transform="translate(88.5, 71)"><g id="Group-5" transform="translate(75.5, 0)"><g id="illustration"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g><g id="illustration" transform="translate(0, 36)"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g><g id="illustration" transform="translate(0, 72)"><g id="live-card"></g><rect id="Rectangle" fill="#EEEEEE" x="0" y="0" width="119" height="32" rx="1.76665437"></rect><path id="Rectangle" d="M2,0 L24.5,0 L24.5,0 L24.5,32 L2,32 C0.8954305,32 0,31.1045695 0,30 L-2.22044605e-16,2 C-2.22044605e-16,0.8954305 0.8954305,2.22044605e-16 2,0 Z" fill="#E4E3E3"></path><g id="Group-3" transform="translate(5.25, 7.9169)" fill="#BABBBE"><rect id="Rectangle" x="26.2331443" y="0" width="60.6369427" height="4.46511628" rx="0.883327186"></rect><rect id="Rectangle-Copy-2" x="0" y="1.86090494" width="14" height="12.4444444" rx="0.883327186"></rect><path id="Rectangle-Copy" d="M27.1164715,11.2699013 L60.2160592,11.2699013 C60.7039073,11.2699013 61.0993864,11.6653804 61.0993864,12.1532285 L61.0993864,14.8516904 C61.0993864,15.3395386 60.7039073,15.7350176 60.2160592,15.7350176 L39.287937,15.7350176 L39.287937,15.7350176 L27.1164715,15.7350176 C26.6286234,15.7350176 26.2331443,15.3395386 26.2331443,14.8516904 L26.2331443,12.1532285 C26.2331443,11.6653804 26.6286234,11.2699013 27.1164715,11.2699013 Z"></path></g></g></g></g></g></g></g>',2)])]))}}),De=Object.assign(Ce,{__name:"IconNoBroadcast"}),$e={class:"px-4 py-6 overflow-x-hidden overflow-y-auto max-h-[calc(100vh-350px)] sm:max-h-none sm:overflow-y-hidden"},Ee={key:0,class:"text-gray-400 text-sm font-medium pb-2"},Ne={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 auto-rows-fr"},Pe={class:"w-full flex h-full min-h-[75px]"},Me={class:"flex w-1/4 bg-[var(--base-favorite-club-chip-bgColor)] ltr:rounded-l rtl:rounded-r pt-4 px-4 justify-center text-main font-bold text-lg"},Be={class:"flex w-3/4 bg-[var(--base-countdown-bgColor)] ltr:rounded-r rtl:rounded-l text-main flex-col p-4 gap-2"},Re={class:"text-sm font-medium"},Te={class:"text-secondary text-xs"},Ie={key:1,class:"text-center"},Se={class:"text-secondary pt-4"},je=I({__name:"ProgramList",props:{programs:{},slideDirection:{},dayKey:{},fullDate:{}},setup(i){const{t:h}=G(),l=Q(),e=i,f=b(()=>l.value===ee.DARK);return(_,s)=>{const a=De,t=de;return d(),v("div",$e,[e.fullDate?(d(),v("div",Ee,C(e.fullDate),1)):B("",!0),P(ie,{name:`slide-${e.slideDirection}`,mode:"out-in",appear:""},{default:j(()=>[(d(),v("div",{key:e.dayKey,class:"transition-content"},[e.programs.length>0?(d(),v("div",Ne,[(d(!0),v(V,null,Z(e.programs,o=>(d(),v("div",{key:`${o.time}-${o.title}`,class:"h-full"},[x("div",Pe,[x("div",Me,C(o.time),1),x("div",Be,[x("div",Re,C(o.title),1),x("div",Te,C(o.description),1)])])]))),128))])):(d(),v("div",Ie,[P(t,null,{icon:j(()=>[P(a,{"is-dark-theme":p(f)},null,8,["is-dark-theme"])]),text:j(()=>[x("span",Se,C(p(h)("labels.no_linear_channel_program")),1)]),_:1})]))]))]),_:1},8,["name"])])}}}),Fe=Object.assign(te(je,[["__scopeId","data-v-edfa30f7"]]),{__name:"ChannelProgramList"}),Ae={key:0},We={class:"w-full flex min-h-[75px] pb-2"},Ge={class:"flex w-1/4 bg-[var(--base-favorite-club-chip-bgColor)] ltr:rounded-l rtl:rounded-r pt-4 px-4 justify-center text-main font-bold text-lg"},Oe={class:"flex w-3/4 bg-[var(--base-countdown-bgColor)] ltr:rounded-r rtl:rounded-l text-main flex-col p-4 gap-2"},Ve={class:"text-sm font-medium"},Ze={class:"text-secondary text-xs"},Ke=I({__name:"ChannelProgram",props:{linearProgramItem:{}},setup(i){const h=i,{locale:l}=G(),e=N(),f=N({}),_=()=>k(new Date,"LLLL d, cccc",l.value),s=()=>{const t=_(),o=f.value[t];if(o&&e.value){const g=e.value.getBoundingClientRect(),c=o.getBoundingClientRect().top-g.top+e.value.scrollTop;e.value.scrollTo({top:c,behavior:"smooth"})}},a=t=>o=>{o&&"scrollIntoView"in o&&(f.value[t]=o)};return K(()=>h.linearProgramItem,t=>{t&&Object.keys(t).length>0&&F(()=>{s()})},{immediate:!0}),z(()=>{Object.keys(h.linearProgramItem).length>0&&F(()=>{s()})}),(t,o)=>(d(),v("div",{ref_key:"containerRef",ref:e,class:"background-main rounded px-4 pb-4 w-full overflow-auto"},[(d(!0),v(V,null,Z(h.linearProgramItem,(g,r)=>(d(),v("div",{key:r},[x("p",{ref_for:!0,ref:a(r),class:W(["text-secondary text-base font-medium mb-4 mt-4 sticky top-0 bg-[var(--base-card-bgColor)] py-2 z-10",{"text-primary font-bold":r===_()}])},[le(C(r)+" ",1),r===_()?(d(),v("span",Ae)):B("",!0)],2),(d(!0),v(V,null,Z(g,(c,w)=>(d(),v("div",{key:w},[x("div",We,[x("div",Ge,C(c.dateTime),1),x("div",Oe,[x("div",Ve,C(c.title),1),x("div",Ze,C(c.type),1)])])]))),128))]))),128))],512))}}),He=Object.assign(Ke,{__name:"EventChannelProgram"}),ze=(i,h="en")=>i.reduce((l,e)=>{const f=new Date(e.dateTime),_=k(f,"LLLL d, cccc",h);return l[_]=l[_]||[],l[_].push({dateTime:k(f,"p",h),title:e.title,type:e.type}),l},{}),Ue={class:"flex rounded-b w-full flex-col background-main py-6 px-4"},Ye={class:"flex justify-between items-center"},Xe={class:"text-[var(--base-tab-text-color)] font-medium truncate"},qe=I({__name:"PlayerWithProgram",props:{event:{},programs:{}},setup(i){const h=i,{locale:l}=G(),e=b(()=>!h.programs||!h.programs.length?null:ze(h.programs,l.value));return(f,_)=>{const s=ue,a=ge,t=me,o=He;return d(),v("div",{class:W(["flex flex-col lg:mb-10 lg:flex-row gap-6",{"justify-center":!p(e)}])},[x("div",{class:W(["w-full rounded overflow-hidden",[p(e)?"lg:w-2/3":"lg:w-4/5 xl:w-2/3"]])},[P(s,{event:f.event},null,8,["event"]),x("div",Ue,[x("div",Ye,[x("div",Xe,C(f.event?.title),1),P(a,{event:f.event},null,8,["event"])]),f.event?.eventDescription?(d(),A(t,{key:0,description:f.event.eventDescription},null,8,["description"])):B("",!0)])],2),p(e)?(d(),A(o,{key:0,class:"lg:w-1/3 aspect-[1]","linear-program-item":p(e)},null,8,["linear-program-item"])):B("",!0)],2)}}}),Je=Object.assign(qe,{__name:"EventPlayerWithProgram"}),Qe=()=>{const{locale:i}=G(),h=(s,a,t)=>{const o=[],g=new Date(s),r=new Date(g);switch(t){case"day":r.setHours(0,0,0,0);break;case"week":{const u=r.getDay(),m=u===0?-6:1-u;r.setDate(r.getDate()+m),r.setHours(0,0,0,0);break}case"month":r.setDate(1),r.setHours(0,0,0,0);break}const c=new Date(r),w=a.getTime();for(;c.getTime()<=w;){const u=new Date(c),m=new Date(c);switch(t){case"day":m.setDate(m.getDate()+1);break;case"week":m.setDate(m.getDate()+7);break;case"month":m.setMonth(m.getMonth()+1);break}m.setTime(m.getTime()-1),o.push({start:u,end:m}),c.setTime(m.getTime()+1)}return o},l=(s,a)=>{const t=new Map;return s.forEach(o=>{const g=new Date(o.dateTime);if(Number.isNaN(g.getTime())){console.warn("Invalid date found:",o.dateTime);return}const r=new Date(g);switch(a){case"day":r.setHours(0,0,0,0);break;case"week":{const u=r.getDay(),m=u===0?-6:1-u;r.setDate(r.getDate()+m),r.setHours(0,0,0,0);break}case"month":r.setDate(1),r.setHours(0,0,0,0);break}const c=new Date(r);switch(a){case"day":c.setDate(c.getDate()+1);break;case"week":c.setDate(c.getDate()+7);break;case"month":c.setMonth(c.getMonth()+1);break}c.setTime(c.getTime()-1);const w=k(r,"yyyy-MM-dd",i.value);t.has(w)||t.set(w,{start:r,end:c,programs:[]}),t.get(w).programs.push({dateTime:k(g,"p",i.value),title:o.title,type:o.type,originalDate:g})}),t},e=s=>{switch(s){case"day":return{labelFormat:"EE dd/MM",fullDateFormat:"LLLL d, cccc"};case"week":return{labelFormat:"'Week' w",fullDateFormat:"'Week' w, yyyy"};case"month":return{labelFormat:"MMMM yyyy",fullDateFormat:"LLLL yyyy"};default:return{labelFormat:"EEEE dd/MM",fullDateFormat:"LLLL d, cccc"}}},f=(s,a,t)=>{try{const o=new Date(a);o.setDate(o.getDate()-1);const g=k(s,"MMM",t),r=k(o,"MMM",t),c=k(s,"d",t),w=k(o,"d",t),u=k(s,"yyyy",t);return g===r?{short:`${g} ${c} - ${w}`,full:`${g} ${c} - ${w}, ${u}`}:{short:`${g} ${c} - ${r} ${w}`,full:`${g} ${c} - ${r} ${w}, ${u}`}}catch(o){return console.warn("Error creating week label:",o),{short:"Week",full:"Week"}}};return{transformChannelProgramToIntervals:(s,a="day")=>{if(!s?.length)return console.warn("No EPG data provided to transformChannelProgramToIntervals"),[];try{const t=l(s,a);if(!t.size)return console.warn("No programs were grouped by interval"),[];const o=s.map(u=>new Date(u.dateTime)).filter(u=>!Number.isNaN(u.getTime())).sort((u,m)=>u.getTime()-m.getTime());if(!o.length)return console.warn("No valid dates found in EPG data"),[];const g=o[0],r=o[o.length-1],c=h(g,r,a),w=e(a);return c.map((u,m)=>{const M=k(u.start,"yyyy-MM-dd",i.value),R=t.get(M);try{let D,E;if(a==="week"){const n=f(u.start,u.end,i.value);D=n.short,E=n.full}else D=k(u.start,w.labelFormat,i.value)||`${a} ${m+1}`,E=k(u.start,w.fullDateFormat,i.value)||D;return{id:m+1,label:D,fullDate:E,date:M,startDate:u.start,endDate:u.end,intervalType:a,programs:R?R.programs.sort((n,y)=>n.originalDate.getTime()-y.originalDate.getTime()).map(n=>({time:n.dateTime||"N/A",title:n.title||"Untitled Program",description:n.type||"No description",originalDate:n.originalDate})):[]}}catch(D){return console.warn(`Error formatting ${a} ${m+1}:`,D),{id:m+1,label:`${a} ${m+1}`,fullDate:`${a} ${m+1}`,date:M||`fallback-${m}`,startDate:u.start,endDate:u.end,intervalType:a,programs:[]}}})}catch(t){return console.error("Error transforming channel program data:",t),[]}}}},et=i=>{const h=N(0),l=N(6),e=N(1),f=N(1),_=N("right"),s=b(()=>i.value.findIndex(n=>n.id===e.value)),a=b(()=>{const n=h.value,y=Math.min(n+l.value,i.value.length);return i.value.slice(n,y)}),t=b(()=>s.value>0),o=b(()=>s.value<i.value.length-1),g=()=>{const n=s.value;if(n===-1)return;const y=h.value,$=y+l.value-1;n<y?h.value=n:n>$&&(h.value=Math.max(0,n-l.value+1))},r=()=>{if(t.value){const n=s.value,y=i.value[n-1];y&&(_.value="left",f.value=e.value,e.value=y.id,F(()=>{g()}))}},c=()=>{if(o.value){const n=s.value,y=i.value[n+1];y&&(_.value="right",f.value=e.value,e.value=y.id,F(()=>{g()}))}},w=n=>{const y=s.value,$=i.value.findIndex(T=>T.id===n);$>y?_.value="right":$<y&&(_.value="left"),f.value=e.value,e.value=n},u=()=>{const n=window.innerWidth;n<640?l.value=2:n<768?l.value=3:n<1024?l.value=4:l.value=5,g()},m=b(()=>i.value.length>l.value),M=b(()=>i.value.find(y=>y.id===e.value)?.programs||[]),R=b(()=>a.value.map(n=>({key:n.id.toString(),label:n.label,onClick:()=>w(n.id)}))),D=()=>{const n=new Date,y=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,$=i.value.find(T=>T.date===y);$&&(e.value=$.id,f.value=$.id,F(()=>{g()}))},E=b(()=>i.value.find(n=>n.id===e.value));return{activeDayId:O(e),previousDayId:O(f),slideDirection:O(_),visibleDays:a,canNavigatePrev:t,canNavigateNext:o,showNavigation:m,currentDayPrograms:M,tabsForUTabs:R,currentDay:E,navigatePrev:r,navigateNext:c,selectDay:w,updateMaxVisibleDays:u,setTodayAsActive:D}},tt={class:"main-container"},at={key:0,class:"flex flex-col lg:flex-row mb-10 lg:gap-6"},nt={key:1,class:"max-w-screen-2xl mx-auto"},ot={class:"text-main text-3xl font-bold"},rt={class:"background-main min-h-[calc(100vh-350px)] rounded sm:px-6 py-4"},Vt=I({__name:"[eventId]",setup(i){const h=ae(),l=ne(),e=b(()=>l.data),f=b(()=>l.loading),_=b(()=>l.channelProgram),s=b(()=>!e.value?.source?.hd),a=b(()=>s.value?"TV Program":e.value?.title||"Direto"),{transformChannelProgramToIntervals:t}=Qe(),o=b(()=>{const L=_.value;return L?s.value?L.epg?.length?L.epg:L.epgs?.[0]?.items||[]:L.epg?.length?L.epg:L.epgs?.[1]?.items||[]:[]}),g=b(()=>t(o.value,"day")),{activeDayId:r,slideDirection:c,canNavigatePrev:w,canNavigateNext:u,showNavigation:m,currentDayPrograms:M,tabsForUTabs:R,currentDay:D,navigatePrev:E,navigateNext:n,updateMaxVisibleDays:y,setTodayAsActive:$}=et(g),T=N();return oe(T,{threshold:10,onSwipeEnd:(L,S)=>{S.toLowerCase()==="left"?n():S.toLowerCase()==="right"&&E()}}),z(()=>{y(),window.addEventListener("resize",y)}),ce(()=>{window.removeEventListener("resize",y)}),K(g,L=>{L.length>0&&$()},{immediate:!0}),K(()=>h.params.eventId,L=>{l.reset(),L&&l.load(L)},{immediate:!0}),re({title:b(()=>a.value)}),(L,S)=>{const U=be,Y=Fe,X=Je;return d(),v("div",tt,[p(f)?(d(),v("div",at,[...S[0]||(S[0]=[x("div",{class:"skeletonLoading aspect-video lg:w-2/3"},null,-1),x("div",{class:"skeletonLoading lg:w-1/3"},null,-1)])])):p(s)?(d(),v("div",nt,[x("div",{ref_key:"swipeContainer",ref:T,class:"flex flex-col gap-10"},[x("h1",ot,C(p(a)),1),x("div",rt,[P(U,{tabs:p(R),"active-tab":p(r).toString(),"can-navigate-prev":p(w),"can-navigate-next":p(u),"show-navigation":p(m),onNavigatePrev:p(E),onNavigateNext:p(n)},null,8,["tabs","active-tab","can-navigate-prev","can-navigate-next","show-navigation","onNavigatePrev","onNavigateNext"]),P(Y,{programs:p(M),"slide-direction":p(c),"day-key":p(r),"full-date":p(D)?.fullDate},null,8,["programs","slide-direction","day-key","full-date"])])],512)])):p(e)?(d(),A(X,{key:2,event:p(e),programs:p(o)},null,8,["event","programs"])):B("",!0)])}}});export{Vt as default};
