import{_ as w,a as A}from"./CZgr-xsV.js";import{u as C,k as B,l as j,b as R,A as E,_ as I,ai as N,g as V}from"./vfF7RKPo.js";import{B as M}from"./mCVtpy1_.js";import{d as U,g as p,o as d,f as n,b as c,i as F,Y as e,h as s,v as a,ad as i,F as P}from"./DrHYGv5w.js";import"./YXvYJOkl.js";import"./qTb77THm.js";import"./6tYJEWcP.js";import"./B4wo3SUq.js";import"./DJO5Ko8d.js";import"./d1rVCiWV.js";import"./Dql7-ge0.js";import"./xeMFU3jQ.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./B47pBCHT.js";import"./DsilW_8g.js";import"./CuVeKCNu.js";import"./DowbGgKV.js";import"./B1IlCmgd.js";import"./Dq-QN952.js";import"./DjtFQFjx.js";import"./DdW31oNs.js";import"./CFdcWqxl.js";import"./BmvnMvdl.js";import"./DNaFeO-P.js";import"./IVvJIK5b.js";import"./BW4JKS41.js";import"./C_PxQ261.js";const S={key:0,class:"flex flex-col h-screen justify-center items-center"},T={class:"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-success-color)]"},D={class:"my-6 flex flex-col justify-center items-center"},H={class:"text-main font-bold text-2xl"},L={class:"text-base mt-4 text-secondary"},Y={class:"flex gap-4"},$={key:1,class:"flex flex-col h-screen justify-center items-center"},z={class:"w-[64px] h-[64px] flex justify-center items-center rounded-full bg-[var(--base-error-color)]"},G={class:"my-6 flex flex-col justify-center items-center"},J={class:"text-main font-bold text-2xl"},K={class:"text-base mt-4 text-secondary"},O={class:"flex gap-4"},Ae=U({__name:"index",setup(Q){const{t,te:x}=C(),o=B(),l=j(),f=()=>l.push({path:"/auth/sign-up/subscription/code/",query:{successApplied:"true"}}),h=u=>{const{code:m}=V(u.message,{t,te:x});m==="ERR409CM11"?l.push({path:"/auth/sign-up/subscription/code/",query:{alreadyUsed:"true",code:o.query.code}}):l.push({path:"/auth/sign-up/subscription/code/",query:{errorApplied:"true",code:o.query.code}})},{loading:_,run:y}=R(M.redeemAccessCode,{onSuccess:f,onError:h}),g=()=>y(o.query.code);return(u,m)=>{const b=w,v=E,r=I,k=N,q=A;return d(),p(P,null,[n(b,{transparent:"",fixed:"","with-locale":""}),n(q,{class:"min-h-screen"},{default:c(()=>[e(o).query.successApplied?(d(),p("div",S,[s("div",T,[n(v,{width:24,height:24,fill:"#ffff"})]),s("div",D,[s("span",H,a(e(t)("pages.events.appreciation")),1),s("span",L,a(e(t)("pages.events.success_code_applied",{title:e(o).query.title})),1)]),s("div",Y,[n(r,{type:"secondary",tag:"nuxt-link",to:{path:"/account/general/"},name:"redirect-to-event",class:"font-bold text-white text-xs sm:text-base"},{default:c(()=>[i(a(e(t)("labels.go_to_account")),1)]),_:1}),n(r,{type:"primary",tag:"nuxt-link",to:{path:"/"},name:"redirect-to-event",class:"font-bold text-white text-xs sm:text-base"},{default:c(()=>[i(a(e(t)("labels.go_to_main_page")),1)]),_:1})])])):e(o).query.errorApplied||e(o).query.alreadyUsed?(d(),p("div",$,[s("div",z,[n(k,{width:24,height:24,fill:"#ffff"})]),s("div",G,[s("span",J,a(e(o).query.alreadyUsed?e(t)("pages.events.failed_already_used_code"):e(t)("pages.events.failed_code_applied_title")),1),s("span",K,a(e(t)("pages.events.failed_code_applied_message")),1)]),s("div",O,[n(r,{type:"secondary",name:"enter-another-card",class:"font-bold text-white text-xs sm:text-base",tag:"nuxt-link",to:{path:"/auth/sign-up/subscription/"},disabled:e(_)},{default:c(()=>[i(a(e(t)("button.enter_another_code")),1)]),_:1},8,["disabled"]),n(r,{type:"primary",name:"try-again",class:"font-bold text-white text-xs sm:text-base min-w-[10rem]",disabled:e(_),onClick:g},{default:c(()=>[i(a(e(t)("button.try_again")),1)]),_:1},8,["disabled"])])])):F("",!0)]),_:1})],64)}}});export{Ae as default};
