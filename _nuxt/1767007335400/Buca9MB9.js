import{a2 as p,a3 as P,e as w,O as u,S as d,r as _,i as k,a8 as g,a9 as x,j as A}from"./vfF7RKPo.js";import{N as S}from"./DrHYGv5w.js";const R={"3xl":2560,"4xl":3440,"5xl":3840},a=p({...P,...R}),U=a.smaller("sm"),E=a.between("sm","md"),I=a.between("md","lg"),y=a.between("lg","xl"),O=a.between("xl","2xl"),T=a.between("2xl","3xl"),M=a.between("3xl","4xl"),b=a.between("4xl","5xl"),$=a["5xl"],N={sm:2,md:4,lg:4,xl:8,xl2:8,xl3:10,xl4:12,xl5:16,xl6:20};function B(e=N){return S(()=>U.value&&"sm"in e?e.sm:E.value&&"md"in e?e.md:I.value&&"lg"in e?e.lg:y.value&&"xl"in e?e.xl:O.value&&"xl2"in e?e.xl2:T.value&&"xl3"in e?e.xl3:M.value&&"xl4"in e?e.xl4:b.value&&"xl5"in e?e.xl5:$.value&&"xl6"in e?e.xl6:10)}const j=e=>{const l=k().public.APP_CUSTOMER?.enable_teams_short_name;return{id:e._id,title:e.title,teams:e.teams.map(n=>({...n,title:l&&n.shortTitle?n.shortTitle:n.title}))}},q={load(e){const{request:t}=w(),l={page:0,size:50,order:u.asc,sort:d.order},n=Object.assign({},l,e);return t.get("/api/resources/navigation_menu",{query:n}).then(i=>_(i,j))}},s=k().public,h=B({sm:6,md:6,lg:8,xl:12,xl2:12,xl3:16,xl4:22,xl5:16,xl6:16}),L=s.APP_CUSTOMER.enable_leagues_view,z=e=>`/category/${e}`,H=e=>`/league/${e}`,D=e=>`/team/${e}`,o=e=>{const t=e.href||(L?H(e.id):z(e.id));return{id:e.id,title:e.title,imageUrl:e.imageUrl,href:t}},V=e=>{const t=o({id:e.id,title:e.title,href:e.href});return t.subLinks=e.sublinks.slice(0,h.value).sort((l,n)=>l.title.localeCompare(n.title)).map(l=>o({id:l._id,title:l.title,imageUrl:l.logo,href:D(l._id)})),t.hasMore=e.sublinks.length>h.value,t},f=e=>e.includes("/channels/"),v=e=>e.split("/channels/")[1].replace("/",""),F=async e=>{if(!e.length)return[];const t=e.map(n=>v(n.url));let l=new Set;try{const n=await A.load({eventId:t.join(","),type:"channel"});l=new Set(n.content.entries.filter(i=>i.isEventAvailableInUserRegion).map(i=>i.id))}catch(n){console.error("Error checking channel availability:",n)}return e.filter(n=>l.has(v(n.url))).map(n=>({id:n.title,title:n.title,href:n.url}))},c={async load(){const e=s.APP_CUSTOMER.header_links||[],t=g(`${s.APP_CUSTOMER.name_short}-links`,[]);let l=[];const n={id:"archive",title:"Archive",href:"/archive/",subLinks:[]},i=e.filter(r=>f(r.url)),C=e.filter(r=>!f(r.url)).map(r=>({id:r.title,title:r.title,href:r.url})),m=[...await F(i),...C];return t.value&&t.value.length?l=[...t.value]:(L?(l=await c.loadLeagueLinks(),n.subLinks=await c.loadArchivedLeague()):l=await c.loadCategoryLinks(),m.length>0&&l.unshift(...m),n.subLinks.length>0&&l.push(n),t.value=l),l},loadCategoryLinks(){return x.load({page:0,pageSize:50,order:u.asc,sort:d.order}).then(e=>e.content.entries).then(e=>e.map(t=>o({id:t.id,title:t.title}))).catch(e=>(console.error(e),[]))},loadLeagueLinks(){return q.load().then(e=>e.content.entries).then(e=>e.map(t=>V({id:t.id,title:t.title,sublinks:t.teams}))).catch(e=>(console.error(e),[]))},loadArchivedLeague(){return x.load({archived:!0,page:0,pageSize:h.value,order:u.asc,sort:d.order}).then(e=>e.content.entries).then(e=>e.map(t=>o({id:t.id,title:t.title,imageUrl:t.imageUrl,href:`/league/${t.id}`}))).catch(e=>(console.error(e),[]))},clearCachedLinks(){const e=g(`${s.APP_CUSTOMER.name_short}-links`,[]);e.value=[]}};export{c as H,B as u};
