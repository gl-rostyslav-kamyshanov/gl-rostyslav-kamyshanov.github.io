import{_ as O,a as L}from"./CZgr-xsV.js";import{_ as G}from"./DowbGgKV.js";import{_ as z,a as D,v as c}from"./V8NEB3vv.js";import{_ as j}from"./Br14HIQB.js";import{u as T,i as B,_ as H,l as Y,z as K,b as S,Y as q,g as W,d as X,a2 as J,R as Q,c as Z,a3 as ee}from"./vfF7RKPo.js";import{d as U,B as ae,c as E,o as C,b as m,h as u,f as o,i as se,Y as e,v as h,ad as te,N as oe,X as ne,g as le,F as ie}from"./DrHYGv5w.js";import{_ as re}from"./CfVSTXe_.js";import{_ as me}from"./CUhCmOFv.js";import"./YXvYJOkl.js";import"./qTb77THm.js";import"./6tYJEWcP.js";import"./B4wo3SUq.js";import"./DJO5Ko8d.js";import"./d1rVCiWV.js";import"./Dql7-ge0.js";import"./xeMFU3jQ.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./B47pBCHT.js";import"./DsilW_8g.js";import"./CuVeKCNu.js";import"./DjtFQFjx.js";import"./DdW31oNs.js";import"./CFdcWqxl.js";import"./B1IlCmgd.js";import"./BmvnMvdl.js";import"./DNaFeO-P.js";import"./Dq-QN952.js";import"./IVvJIK5b.js";import"./BP16HqTF.js";const de={class:"flex flex-col gap-2 sm:gap-6"},_e={class:"text-secondary text-xs"},ue=U({__name:"Form",props:{title:{},disabled:{type:Boolean},submitLabel:{}},emits:["submit"],setup(y,{emit:x}){const d=y,{t:s}=T(),w=B().public,k=x,a=ae({email:"",fullName:"",password:"",marketingInformationAgreementConfirmed:!1}),n=w.APP_CUSTOMER.form_fields,f=n.enable_marketing,v=n.is_marketing_required;function b(p){const t=[],l=e(p);return c.required(l.fullName)||t.push({path:"fullName",message:s("errors.field_is_required")}),c.required(l.email)?c.email(l.email)||t.push({path:"email",message:s("errors.invalid_email")}):t.push({path:"email",message:s("errors.field_is_required")}),c.required(l.password)?c.min(l.password,{length:8})||t.push({path:"password",message:s("errors.invalid_password")}):t.push({path:"password",message:s("errors.field_is_required")}),t}function A(){const p={email:a.email,display_name:a.fullName.replace(/\s+/g," ").trim(),password:a.password,...f&&{marketingInformationAgreementConfirmed:a.marketingInformationAgreementConfirmed}};k("submit",p)}return(p,t)=>{const l=G,_=z,g=j,P=H,N=D;return C(),E(N,{state:e(a),validate:b,onSubmit:A},{default:m(()=>[u("div",de,[o(_,{label:e(s)("labels.fullName"),required:"",name:"fullName"},{default:m(()=>[o(l,{modelValue:e(a).fullName,"onUpdate:modelValue":t[0]||(t[0]=i=>e(a).fullName=i),disabled:d.disabled,name:"fullName",placeholder:e(s)("labels.full_name_placeholder"),maxlength:"100"},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),o(_,{label:e(s)("labels.email"),name:"email",required:""},{default:m(()=>[o(l,{modelValue:e(a).email,"onUpdate:modelValue":t[1]||(t[1]=i=>e(a).email=i),disabled:d.disabled,name:"email",placeholder:e(s)("labels.email_placeholder"),autocomplete:"email"},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),o(_,{label:e(s)("labels.password"),required:"",name:"password"},{default:m(()=>[o(l,{modelValue:e(a).password,"onUpdate:modelValue":t[2]||(t[2]=i=>e(a).password=i),disabled:d.disabled,placeholder:e(s)("labels.min_8_characters"),name:"password",autocomplete:"new-password",sensitive:""},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"]),e(f)?(C(),E(_,{key:0,required:e(v),name:"marketing"},{default:m(()=>[o(g,{modelValue:e(a).marketingInformationAgreementConfirmed,"onUpdate:modelValue":t[3]||(t[3]=i=>e(a).marketingInformationAgreementConfirmed=i),disabled:d.disabled,name:"marketing",class:"text-secondary text-xs"},{label:m(()=>[u("span",_e,h(e(s)("labels.marketing_checkbox_label")),1)]),_:1},8,["modelValue","disabled"])]),_:1},8,["required"])):se("",!0),o(P,{disabled:d.disabled,class:"font-bold",name:"signup","full-width":""},{default:m(()=>[te(h(e(s)("labels.sign_up")),1)]),_:1},8,["disabled"])])]),_:1},8,["state"])}}}),pe=Object.assign(ue,{__name:"AuthForm"}),ce={class:"flex flex-col items-center justify-center h-screen sm:pt-0 px-4 sm:px-0"},fe={class:"w-full max-w-[25rem]"},be={class:"flex flex-col text-center sm:text-left gap-3"},ge={class:"text-heading-1-bold"},he={class:"text-xs text-secondary"},We=U({__name:"index",setup(y){const x=X(),d=Y(),{t:s,te:w}=T(),k=K(),a=B().public,n=a.APP_CUSTOMER.form_fields,f=a.APP_CUSTOMER.enable_signup_onboarding_follow,v=n.enable_gender||n.enable_city||n.enable_country||n.enable_date_of_birth||n.enable_phone||n.enable_postal_code||n.enable_gender||n.enable_my_club,{loading:b,run:A}=S(q.signinWithProvider,{onSuccess:_,onError:g}),{loading:p,run:t}=S(q.signup,{onSuccess:_,onError:g}),l=oe(()=>p.value||b.value);function _(){let r="/";v?r="/auth/sign-up/personalization":a.APP_FLAGS.hasPayments&&a.APP_CUSTOMER.enable_signup_onboarding_payment?r="/auth/sign-up/subscription/":f&&(r=a.APP_CUSTOMER.enable_leagues_view?"/auth/sign-up/following/league":"/auth/sign-up/following/category"),d.push({path:r})}function g(r){const{message:V}=W(r.message,{t:s,te:w});return x.error(V)}function P(r){return t(r)}const i=J(ee).greaterOrEqual("sm");return ne(()=>k.track(Q.SIGN_UP_STARTED)),Z({title:s("labels.sign_up")}),(r,V)=>{const F=O,M=pe,R=re,I=me,$=L;return C(),le(ie,null,[o(F,{"with-locale":"",mode:"sign-in",fixed:!e(i),absolute:e(i),transparent:"",class:"my-2 sm:my-0"},null,8,["fixed","absolute"]),o($,null,{default:m(()=>[u("div",ce,[u("div",fe,[u("div",be,[u("h1",ge,h(e(s)("labels.sign_up")),1),u("p",he,h(e(s)("pages.auth_sign_up.enter_your_details_below")),1)]),o(M,{class:"mt-8",disabled:e(l),onSubmit:P},null,8,["disabled"]),o(R,{disabled:e(b),onClickProvider:e(A)},null,8,["disabled","onClickProvider"])]),o(I,{class:"text-center"})])]),_:1})],64)}}});export{We as default};
