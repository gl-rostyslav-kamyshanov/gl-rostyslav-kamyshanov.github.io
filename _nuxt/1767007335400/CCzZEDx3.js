import{_ as v}from"./CBJd-9r4.js";import{a as h}from"./CB2DQzW9.js";import{e as m,a as g,M as I,q as k,N as q,P as S,u as V,Q as B,S as R,O,o as N}from"./vfF7RKPo.js";import{d as P,N as T,c as w,o as _,b,h as n,v as r,g as F,i as L,Y as i,H as D}from"./DrHYGv5w.js";const E={load(o){const{request:a}=m(),e=k(o);return a.post("/api/identity/club_list",{body:e}).then(l=>q(S(l.content.entries)))},save(o){const{request:a}=m(),e=g(),[l,c]=o.split("|");return a.post("/api/user/add_to_club_list",{body:{identity:l,identityItem:c}}).then(s=>{e.user&&!e.user.favoriteClubId&&(e.user.favoriteClubId=I(s.content.clubList))})}},M=["onClick"],U={class:"text-main line-clamp-2"},j={class:"text-xs text-[var(--base-secondary-color)]"},z={class:"flex flex-col max-w-[21rem]"},A={class:"line-clamp-2"},H={class:"text-[11px] text-[var(--base-secondary-color)]"},Q=P({__name:"ClubSelector",props:{required:{type:Boolean,default:!1},disabled:{type:Boolean},modelValue:{}},emits:["update:modelValue"],setup(o,{emit:a}){const e=o,l=a,{t:c}=V(),s=B(e,"modelValue",l),{items:d,loading:f}=h({immediate:!0,loadItemsFn:()=>E.load({pageSize:500,order:O.asc,sort:R.order})}),y=T(()=>d.value.find(u=>u.id===s.value)?.categoryTitle);return(u,p)=>{const x=v;return _(),w(x,{modelValue:i(s),"onUpdate:modelValue":p[0]||(p[0]=t=>D(s)?s.value=t:null),placeholder:i(c)("labels.select_your_club"),"has-option-title":!1,disabled:e.disabled||i(f),options:i(d),readonly:!1,required:e.required,"emitted-key":"id",name:"favorite-club","options-key-title":"label","options-key-value":"title","has-search":""},{innerInput:b(({value:t,toggle:C})=>[t?(_(),F("div",{key:0,class:"w-full cursor-pointer",onClick:C},[n("p",U,r(t),1),n("p",j,r(i(y)),1)],8,M)):L("",!0)]),"option-item-inner-prefix":b(({option:t})=>[n("div",z,[n("p",A,r(t.label),1),n("p",H,r(t.categoryTitle),1)])]),_:1},8,["modelValue","placeholder","disabled","options","required"])}}}),W=Object.assign(N(Q,[["__scopeId","data-v-eddf63ce"]]),{__name:"BaseClubSelector"});export{E as C,W as _};
