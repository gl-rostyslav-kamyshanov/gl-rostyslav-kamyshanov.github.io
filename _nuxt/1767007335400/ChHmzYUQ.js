import{_ as Xt,a as Zt,b as Jt,c as eo,u as tt,d as to,e as oo}from"./3dggQTw5.js";import{u as so,d as ao,b as no,c as lo}from"./BBaXd2ia.js";import{a as kt,b as Tt,c as wt,_ as Ct}from"./d1rVCiWV.js";import{d as V,g as u,o as n,h as o,N as c,F as ee,c as A,i as I,f as d,Y as e,b as k,v,ad as te,aj as ue,al as ke,s as z,X as we,R as Fe,W as io,k as he,n as ce,K as de,ak as je,ab as Me,e as $t,B as Ve,H as Te,x as ot,ag as St,P as Oe}from"./DrHYGv5w.js";import{z as Ce,R as $e,aa as It,l as ro,u as oe,i as be,a as st,a5 as le,a6 as Z,E as He,I as me,b as Ze,_ as se,j as Je,d as Ge,g as ze,a2 as Et,a4 as gt,a3 as co,a7 as _o,W as Pt,o as Bt,k as Se,aK as Re,aL as Ue,aM as Le,X as uo,Q as vt,ai as at,t as nt,T as At,aN as lt,aO as it,aP as rt,aQ as ct,H as Ut,aR as mo,aw as De,c as ht,aG as po}from"./vfF7RKPo.js";import{a as qe,b as We,U as et,_ as go}from"./DjJh1BMY.js";import{_ as Lt}from"./DJO5Ko8d.js";import{_ as dt}from"./w6JHJDJA.js";import{_ as Mt}from"./CvhnJ7We.js";import{u as pe,a as Ke,g as Nt,_ as Ot,b as vo,E as bt}from"./D9Nxq3Hf.js";import{_ as ho}from"./DdW31oNs.js";import{f as Rt}from"./BW4JKS41.js";import{_ as bo,a as yo,b as fo,c as xo}from"./BiY9UmVP.js";import{_ as Dt}from"./B4wo3SUq.js";import{a as ko}from"./Cs3Uu2F9.js";import{g as yt,c as Qe}from"./7kx0z0FL.js";import{_ as To,a as wo}from"./D3_yk42S.js";import{_ as Co}from"./DAOSz0hJ.js";import{_ as $o}from"./DNaFeO-P.js";import{_ as So}from"./BmvnMvdl.js";import{_ as Io}from"./Bliwdhsd.js";import{_ as Vt}from"./YXvYJOkl.js";import{u as Eo}from"./Buca9MB9.js";import{_ as Po}from"./1D_q-g1K.js";import{a as Bo,_ as _t}from"./DowbGgKV.js";import{_ as Ft}from"./Br14HIQB.js";import{_ as Ao}from"./CFdcWqxl.js";import{f as Ne}from"./Brp57tgB.js";import{a as Uo}from"./CGViRROh.js";import{_ as Lo}from"./CBJd-9r4.js";import{_ as Mo}from"./D-TueSfJ.js";import{b as No}from"./qmdzUeZb.js";import"./BqTnpP6a.js";import"./DCPon2b6.js";import"./Cwe8Zc1F.js";import"./C_PxQ261.js";import"./C2KvprTY.js";import"./K0FOolKr.js";import"./BJn8Pmc_.js";import"./Dq-QN952.js";import"./mCVtpy1_.js";import"./sn94QsV-.js";import"./nCSe83WX.js";import"./D-X5qCNB.js";import"./DMg35F59.js";import"./DjtFQFjx.js";import"./qTb77THm.js";import"./Dql7-ge0.js";import"./xeMFU3jQ.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./B47pBCHT.js";import"./DsilW_8g.js";import"./IVvJIK5b.js";import"./B1IlCmgd.js";import"./DbpVxaRD.js";import"./CB2DQzW9.js";import"./DWLNPSlD.js";const Oo=[{title:"other wow",id:"other_wow"}],Ro=[{title:"bad",id:"general_bad"},{title:"good",id:"general_good"},{title:"drill",id:"general_drill"}],Do=[{title:"dunk",id:"basketball_dunk"},{title:"three point",id:"basketball_three_point"},{title:"big play",id:"basketball_big_play"},{title:"alley oop",id:"basketball_alley_oop"},{title:"assist",id:"basketball_assist"},{title:"block",id:"basketball_block"},{title:"momentum",id:"basketball_momentym"},{title:"money time",id:"basketball_money_time"},{title:"substitution",id:"basketball_substitution"}],Vo=[{title:"goal",id:"soccer_goal"},{title:"penalty",id:"soccer_penalty"},{title:"shot on target",id:"soccer_shot_on_target"},{title:"yellow card",id:"soccer_yellowcard"},{title:"red card",id:"soccer_redcard"},{title:"foul",id:"soccer_foul"},{title:"corner kick",id:"soccer_corner_kick"},{title:"shot",id:"soccer_shot"},{title:"free kick",id:"soccer_free_kick"},{title:"header",id:"soccer_header"},{title:"save",id:"soccer_save"},{title:"substitution",id:"soccer_substitution"}],ft=[{title:"touch down",id:"football_touch_down"},{title:"field goal",id:"football_field_goal"},{title:"big catch",id:"football_big_catch"},{title:"big run",id:"football_big_run"},{title:"big hit",id:"football_big_hit"},{title:"kick return",id:"football_kick_return"},{title:"punt return",id:"football_punt_return"},{title:"kickoff",id:"football_kickoff"},{title:"substitution",id:"football_substitution"}],Fo=[{title:"break down",id:"rugby_break_down"},{title:"conversion",id:"rugby_conversion"},{title:"drop goal",id:"rugby_drop_goal"},{title:"garry owen",id:"rugby_garry_owen"},{title:"grubber",id:"rugby_grubber"},{title:"knock on",id:"rugby_knock_on"},{title:"maul",id:"rugby_maul"},{title:"penalty try",id:"rugby_penalty_try"},{title:"substitution",id:"rugby_substitution"}],jo=[{title:"free ball",id:"volleyball_free_ball"},{title:"side out",id:"volleyball_side_out"},{title:"spike",id:"volleyball_spike"},{title:"dig",id:"volleyball_dig"},{title:"double",id:"volleyball_double"},{title:"mishit",id:"volleyball_mishit"},{title:"shank",id:"volleyball_shank"},{title:"serve",id:"volleyball_serve"},{title:"set point",id:"volleyball_set_point"},{title:"match point",id:"volleyball_match_point"},{title:"substitution",id:"volleyball_substitution"}],Ho=[{title:"stolen base",id:"baseball_stolen_base"},{title:"home run",id:"baseball_home_run"},{title:"run",id:"baseball_run"},{title:"single",id:"baseball_single"},{title:"hit",id:"baseball_hit"},{title:"double",id:"baseball_double"},{title:"tripple",id:"baseball_tripple"},{title:"strikeout",id:"baseball_strikeout"},{title:"popout",id:"baseball_popout"},{title:"ground out",id:"baseball_ground_out"},{title:"fly out",id:"baseball_fly_out"},{title:"double play",id:"baseball_double_play"},{title:"triple play",id:"baseball_triple_play"},{title:"walk",id:"baseball_walk"},{title:"top 1st",id:"baseball_top_1st"},{title:"bottom 1st",id:"baseball_bottom_1st"},{title:"top 2nd",id:"baseball_top_2nd"},{title:"bottom 2nd",id:"baseball_bottom_2nd"},{title:"substitution",id:"baseball_substitution"}],Go=[{title:"goal",id:"lacrosse_goal"},{title:"shot",id:"lacrosse_shot"},{title:"save",id:"lacrosse_save"},{title:"clear",id:"lacrosse_clear"},{title:"man up",id:"lacrosse_man_up"},{title:"penalty",id:"lacrosse_penalty"},{title:"face off",id:"lacrosse_face_off"},{title:"ground ball",id:"lacrosse_ground_ball"},{title:"substitution",id:"lacrosse_substitution"}],zo=[{title:"goal",id:"futsal_goal"},{title:"penalty",id:"futsal_penalty"},{title:"shot on target",id:"futsal_shot_on_target"},{title:"yellow card",id:"futsal_yellowcard"},{title:"red card",id:"futsal_redcard"},{title:"foul",id:"futsal_foul"},{title:"corner kick",id:"futsal_corner_kick"},{title:"shot",id:"futsal_shot"},{title:"free kick",id:"futsal_free_kick"},{title:"header",id:"futsal_header"},{title:"save",id:"futsal_save"},{title:"substitution",id:"futsal_substitution"}],qo=[{title:"free ball",id:"beach_volleyball_free_ball"},{title:"side out",id:"beach_volleyball_side_out"},{title:"spike",id:"beach_volleyball_spike"},{title:"dig",id:"beach_volleyball_dig"},{title:"double",id:"beach_volleyball_double"},{title:"mishit",id:"beach_volleyball_mishit"},{title:"shank",id:"beach_volleyball_shank"},{title:"serve",id:"beach_volleyball_serve"},{title:"set point",id:"beach_volleyball_set_point"},{title:"match point",id:"beach_volleyball_match_point"},{title:"substitution",id:"beach_volleyball_substitution"}],Wo=[{title:"goal",id:"field_hockey_goal"},{title:"penalty corner",id:"field_penalty_corner"},{title:"ball possesion",id:"field_ball_possesion"},{title:"ball loss",id:"field_ball_loss"},{title:"turn over",id:"field_turn_over"},{title:"circle penetration",id:"field_circle_penetration"},{title:"press",id:"field_press_fp_hc"},{title:"interception",id:"field_interception"},{title:"time penalty",id:"field_time_penalty"},{title:"fight",id:"field_hockey_fight"},{title:"big hit",id:"field_hockey_big_hit"},{title:"power play",id:"field_hockey_power_play"},{title:"4v4",id:"field_hockey_4v4"},{title:"shot",id:"field_hockey_shot"},{title:"save",id:"field_hockey_save"},{title:"other",id:"field_hockey_other"},{title:"substitution",id:"field_hockey_substitution"}],Ko=[{title:"goal",id:"hockey_goal"},{title:"fight",id:"hockey_fight"},{title:"big hit",id:"hockey_big_hit"},{title:"power play",id:"hockey_power_play"},{title:"4v4",id:"hockey_4v4"},{title:"shot",id:"hockey_shot"},{title:"save",id:"hockey_save"},{title:"substitution",id:"hockey_substitution"}],Yo=[{title:"goal",id:"roller_hockey_goal"},{title:"corner",id:"roller_penalty_corner"},{title:"ball possesion",id:"roller_ball_possesion"},{title:"ball loss",id:"roller_ball_loss"},{title:"turn over",id:"roller_turn_over"},{title:"circle penetration",id:"roller_circle_penetration"},{title:"press",id:"roller_press_fp_hc"},{title:"interception",id:"roller_interception"},{title:"time penalty",id:"roller_time_penalty"},{title:"fight",id:"roller_hockey_fight"},{title:"big hit",id:"roller_hockey_big_hit"},{title:"power play",id:"roller_hockey_power_play"},{title:"4v4",id:"roller_hockey_4v4"},{title:"shot",id:"roller_hockey_shot"},{title:"save",id:"roller_hockey_save"},{title:"other",id:"roller_hockey_other"},{title:"substitution",id:"roller_hockey_substitution"}],Qo=[{title:"goal",id:"handball_goal"},{title:"shot on goal",id:"handball_shot_on_goal"},{title:"save",id:"handball_save"},{title:"foul",id:"handball_foul"},{title:"red card",id:"handball_red_card"},{title:"yellow card",id:"handball_yellow_card"},{title:"suspension",id:"handball_suspension"},{title:"penalty shot",id:"handball_penalty_shot"},{title:"substitution",id:"handball_substitution"}],Xo=[{title:"wow",id:"wrestling_wow"}],Zo=[{title:"wow",id:"gymnastic_wow"}],Xe={other:Oo,general:Ro,basketball:Do,soccer:Vo,americanFootball:ft,rugby:Fo,volleyball:jo,baseball:Ho,lacrosse:Go,futsal:zo,beachvolleyball:qo,fieldhockey:Wo,icehockey:Ko,rollerhockey:Yo,handball:Qo,wrestling:Xo,gymnastics:Zo,flagfootball:ft},Jo=["width","height"],es=["stroke"],ts=["stroke"],os=["stroke"],ss=V({__name:"Download",props:{fill:{default:"#A9B7D1"},width:{default:16},height:{default:16}},setup(m){const t=m;return(s,i)=>(n(),u("svg",{width:t.width,height:t.height,viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i[0]||(i[0]=o("path",{d:"M13.9393 25.0607C14.5251 25.6464 15.4749 25.6464 16.0607 25.0607L25.6066 15.5147C26.1924 14.9289 26.1924 13.9792 25.6066 13.3934C25.0208 12.8076 24.0711 12.8076 23.4853 13.3934L15 21.8787L6.51472 13.3934C5.92893 12.8076 4.97918 12.8076 4.3934 13.3934C3.80761 13.9792 3.80761 14.9289 4.3934 15.5147L13.9393 25.0607ZM13.5 0L13.5 24H16.5V0L13.5 0Z",fill:"#A9B7D1"},null,-1)),o("line",{y1:"30.5",x2:"30",y2:"30.5",stroke:t.fill,"stroke-width":"3"},null,8,es),o("line",{x1:"1.5",y1:"22",x2:"1.5",y2:"29",stroke:t.fill,"stroke-width":"3"},null,8,ts),o("line",{x1:"28.5",y1:"22",x2:"28.5",y2:"29",stroke:t.fill,"stroke-width":"3"},null,8,os)],8,Jo))}}),as=Object.assign(ss,{__name:"IconDownload"}),ns=(m,t)=>{const s=document.createElement("a");s.href=window.URL.createObjectURL(t),s.download=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)},ls={async download(m){const t=Ce();if(m.source.clip)try{const s=await $fetch(m.source.clip,{responseType:"arrayBuffer"}),i=new Blob([s],{type:"octet/stream"}),h=m.title?`${m.title}.mp4`:`${m.team1Name} VS ${m.team2Name}.mp4`;m.eventId&&t.track($e.DOWNLOAD_CLIP_STARTED,{clip_id:m.id,event_id:m.eventId}),ns(h,i)}catch(s){console.error(s)}}},is={class:"flex items-center gap-2 hover:bg-[var(--base-category-chip-bgColor)] px-2 py-1 rounded-[var(--base-border-radius)]"},rs={class:"text-[var(--base-secondary-text-color)]"},cs={class:"flex items-center gap-2 hover:bg-[var(--base-category-chip-bgColor)] px-2 py-1 rounded-[var(--base-border-radius)]"},ds={class:"text-[var(--base-secondary-text-color)]"},_s={class:"flex items-center gap-2 hover:bg-[var(--base-category-chip-bgColor)] px-2 py-1 rounded-[var(--base-border-radius)]"},us={class:"text-[var(--base-secondary-text-color)]"},ms={class:"flex items-center gap-2 hover:bg-[var(--base-category-chip-bgColor)] px-2 py-1 rounded-[var(--base-border-radius)]"},ps={class:"text-[var(--base-secondary-text-color)]"},gs={class:"hover:bg-[var(--base-category-chip-bgColor)] px-2 pt-1 rounded-[var(--base-border-radius)]"},vs={class:"flex items-center !text-red-500 gap-4 truncate"},hs={class:"flex items-center gap-4 truncate text-main"},bs=V({__name:"ActionButtons",props:{item:{}},setup(m){const t=m,s=It(),i=ro(),h=Ge(),{t:r,te:a}=oe(),l=be().public,p=st(),_=le(),{startCreating:b,resetState:g}=pe(),{isOverlayActive:T}=Ke(),N=Ce(),O=l.APP_CUSTOMER.web_sdk.enable_clipping,R=l.APP_CUSTOMER.web_sdk.enabled_downloading_clip,D=l.APP_CUSTOMER.web_sdk.enable_tagging_mode,B=c(()=>p.isAuthenticated),f=c(()=>_.isEventStartingSoon),y=c(()=>t.item.eventType===Z.USER_CLIP),w=c(()=>t.item.eventType===Z.USER_HIGHLIGHT||t.item.eventType===Z.HIGHLIGHT),C=c(()=>t.item.eventStatus!==He.UPCOMING),{playerError:x}=me(),U=c(()=>x.value!==null),q=c(()=>_.data?.isExternal),E=c(()=>y.value&&B.value&&O&&R),P=c(()=>O&&B.value&&C.value&&!y.value&&!w.value&&t.item.isEventAvailableForUser&&t.item.isEventAvailableInUserRegion),M=c(()=>D&&B.value&&C.value&&!y.value&&!w.value&&t.item.isEventAvailableForUser&&t.item.isEventAvailableInUserRegion&&!q.value),G=$=>{const{message:X}=ze($.message,{t:r,te:a});return h.error(X)},S=()=>{_.clips.isCreatingClip=!0,g(),N.track($e.CLIPPING_PROCESS_STARTED,{event_id:t.item.id})},L=()=>{_.clips.isEditingClip=!0},j=()=>{b(),_.clips.isCreatingClip=!1},Y=()=>{s.open(et,{heading:r("labels.modal_labels.delete_clip"),icon:"clip",confirmLabel:r("button.delete"),variant:"delete",confirmFn:()=>Je.userMedia.deleteUserClip(t.item.id).then(()=>h.success(r("pages.events.tabs.event_videos.clip_deleted_successfully_text"))).then(()=>i.push({path:`/events/${t.item.eventId}`})).catch(G)})},{isSelected:Q,loading:J,toggleEventSelect:ie}=so(t.item.id),{loading:re,run:K}=Ze(ls.download);return($,X)=>{const ge=as,ae=se,Ie=qe,_e=We,F=Xt,H=ao,Ee=Lt,Pe=dt,ye=Tt,Be=wt,ne=Mt,ve=kt,Ae=Ct;return n(),u(ee,null,[e(E)?(n(),A(ae,{key:0,disabled:e(U)||e(f)||e(re)||!t.item?.source?.clip,class:"text-link !no-underline",type:"secondary",name:"download-clip",link:"",onClick:X[0]||(X[0]=fe=>e(K)(t.item))},{default:k(()=>[o("div",is,[d(ge,{class:"inline-block",fill:"currentColor",width:16,height:16}),o("span",rs,v(e(r)("button.download")),1)])]),_:1},8,["disabled"])):I("",!0),e(P)?(n(),A(ae,{key:1,disabled:e(U)||e(f)||e(T),class:"text-link !no-underline",type:"secondary",name:"create-clip",link:"",onClick:S},{default:k(()=>[o("div",cs,[d(Ie,{class:"inline-block",fill:"currentColor",active:!0,width:16,height:16}),o("span",ds,v(e(r)("labels.clip",1)),1)])]),_:1},8,["disabled"])):I("",!0),e(M)?(n(),A(ae,{key:2,disabled:e(U)||e(f)||e(T),class:"text-link !no-underline",type:"secondary",name:"create-tag",link:"",onClick:j},{default:k(()=>[o("div",_s,[d(_e,{class:"inline-block",fill:"currentColor",active:e(Q),width:16,height:16},null,8,["active"]),o("span",us,v(e(r)("labels.tag",1)),1)])]),_:1},8,["disabled"])):I("",!0),d(F,{event:t.item,"can-share-on-schedule":e(C)},null,8,["event","can-share-on-schedule"]),e(B)?(n(),A(ae,{key:3,disabled:e(J),class:"text-link !no-underline",type:"secondary",name:"event-add-bookmark",link:"",onClick:e(ie)},{default:k(()=>[o("div",ms,[d(H,{class:"inline-block",fill:"currentColor",active:e(Q),width:16,height:16},null,8,["active"]),o("span",ps,v(e(Q)?e(r)("labels.bookmark_remove"):e(r)("labels.bookmark_add")),1)])]),_:1},8,["disabled","onClick"])):I("",!0),e(y)?(n(),A(Ae,{key:4},{trigger:k(({show:fe})=>[o("div",gs,[d(ae,{name:"menu",title:"Menu",type:"icon",onClick:ue(fe,["stop"])},{default:k(()=>[d(Ee)]),_:2},1032,["onClick"])])]),default:k(()=>[d(ve,{class:"dark:!bg-neutral-dark-600"},{default:k(()=>[d(ye,{size:"md"},{default:k(()=>[d(ae,{class:"w-full text-link row-center",type:"icon",name:"delete clip button",onClick:Y},{default:k(()=>[o("div",vs,[d(Pe,{fill:"currentColor"}),te(" "+v(e(r)("button.delete")),1)])]),_:1})]),_:1}),d(Be,{lighter:""}),d(ye,{size:"md"},{default:k(()=>[d(ae,{class:"w-full text-secondary text-link row-center",type:"icon",name:"rename clip button",onClick:L},{default:k(()=>[o("div",hs,[d(ne),te(" "+v(e(r)("button.rename")),1)])]),_:1})]),_:1})]),_:1})]),_:1})):I("",!0)],64)}}}),ys=Object.assign(bs,{__name:"EventInfoActionButtons"}),fs={key:0,class:"background-main"},xs={class:"flex flex-wrap justify-between px-4 pt-2 xl:pb-6"},ks={class:"flex justify-between w-full"},Ts={key:0,class:"flex-wrap items-start mt-1 xl:flex gap-x-2 gap-y-4"},ws={class:"text-secondary text-caption-medium"},Cs={key:0},$s={key:1,class:"flex flex-wrap mt-4 gap-y-2"},Ss={key:0,class:"flex flex-wrap items-start px-2 pt-4 pb-6 gap-x-2 gap-y-4"},Is=V({__name:"index",props:{event:{}},setup(m){const t=Ce(),{t:s,locale:i}=oe(),h=le(),r=be().public,a=m,p=Et(co).greater("xl"),_=r.APP_CUSTOMER.enable_leagues_view,b=r.APP_FLAGS.hasViews,g=w=>{const C=w.identityIds?w.identityIds[0]:{id:null};return _?{path:`/league/${C.id}`,query:{"round-id":w.id}}:!C.id||C.id===null?`/sub-category/${w.id}`:`/category/${C.id}/sub-category/${w.id}`},T=w=>{_&&t.track($e.CLICK_ON_LEAGUE,{league_id:w.id,league_name:w.title})},{isCreatingTag:N}=pe(),O=c(()=>!h.clips.isCreatingClip&&!N.value),R=c(()=>Rt(a.event.gameStartDate,"PPPp",i.value)),D=c(()=>a.event.eventType===Z.USER_CLIP),B=c(()=>a.event.eventType===Z.USER_HIGHLIGHT||a.event.eventType===Z.HIGHLIGHT),f=c(()=>a.event.gameType===gt.TRAINING||!!(a.event.team1Name&&!a.event.team2Name)),y=c(()=>a.event.gameType===gt.OTHER||!a.event.team1Name&&!a.event.team2Name);return(w,C)=>{const x=no,U=wt,q=lo,E=ys,P=Zt,M=ho,G=se;return e(O)?(n(),u("div",fs,[d(x,{class:"px-4 py-2 !mt-0",title:a.event.title,"team-name":a.event.team1Name,"sport-type":a.event.sportType,"is-clip":e(D),"is-highlight":e(B),"is-practice-game-type":e(f),"is-other-game-type":e(y),gender:a.event.gender},null,8,["title","team-name","sport-type","is-clip","is-highlight","is-practice-game-type","is-other-game-type","gender"]),d(U,{lighter:""}),o("div",xs,[o("div",ks,[d(q,{class:"mt-2 mb-4","team1-name":a.event.team1Name,"team2-name":a.event.team2Name,"team1-color":a.event.team1Color,"team2-color":a.event.team2Color,"team1-logo-url":a.event.team1LogoUrl,"team2-logo-url":a.event.team2LogoUrl,title:a.event.title,"game-type":a.event.gameType},null,8,["team1-name","team2-name","team1-color","team2-color","team1-logo-url","team2-logo-url","title","game-type"]),e(p)?(n(),u("div",Ts,[d(E,{item:a.event},null,8,["item"])])):I("",!0)]),o("div",null,[o("p",ws,[te(v(e(R))+" ",1),e(b)?(n(),u("span",Cs," - "+v(e(s)("labels.views",0)),1)):I("",!0)]),a.event.eventDescription?(n(),A(P,{key:0,description:a.event.eventDescription},null,8,["description"])):I("",!0),a.event.categories.length?(n(),u("div",$s,[(n(!0),u(ee,null,ke(a.event.categories,S=>(n(),A(G,{key:S.id,to:g(S),name:S.title,tag:"nuxt-link",class:"mr-4",link:"",onClickCapture:()=>T(S)},{default:k(()=>[d(M,{class:"bg-[var(--base-category-chip-bgColor)]"},{default:k(()=>[te(v(S.title),1)]),_:2},1024)]),_:2},1032,["to","name","onClickCapture"]))),128))])):I("",!0)])]),e(p)?I("",!0):(n(),u("div",Ss,[d(E,{item:a.event},null,8,["item"])]))])):I("",!0)}}}),Es=Object.assign(Is,{__name:"EventInfo"}),Ps={class:"overflow-hidden rounded-main"},Bs=V({__name:"index",props:{event:{}},setup(m){const t=m;return(s,i)=>{const h=Jt,r=Es;return n(),u("div",Ps,[t.event?(n(),u(ee,{key:0},[d(h,{event:t.event},null,8,["event"]),d(r,{event:t.event},null,8,["event"])],64)):I("",!0)])}}}),As=Object.assign(Bs,{__name:"EventBlock"}),Us={class:"BaseCountdown"},Ls={class:"BaseCountdown__list"},Ms={class:"BaseCountdown__listOption"},Ns={class:"BaseCountdown__listTime text-main"},Os={class:"text-caption-medium text-secondary"},Rs={class:"BaseCountdown__listOption"},Ds={class:"BaseCountdown__listTime text-main"},Vs={class:"text-caption-medium text-secondary"},Fs={class:"BaseCountdown__listOption"},js={class:"BaseCountdown__listTime text-main"},Hs={class:"text-caption-medium text-secondary"},Gs={class:"BaseCountdown__listOption"},zs={class:"BaseCountdown__listTime text-main"},qs={class:"text-caption-medium text-secondary"},xt=1e3,Ws=V({__name:"CountDown",props:{date:{}},emits:["timeupdate","finish"],setup(m,{emit:t}){const{t:s}=oe(),i=m,h=t,r=z(0),a=z(0),l=z(0),p=z(0);let _=null;const b=xt*60,g=b*60,T=g*24,N=()=>h("timeupdate"),O=()=>h("finish"),R=()=>{i.date===null||Number.isNaN(new Date(i.date).getDate())||(_=_o(()=>{const D=new Date,f=new Date(i.date).getTime()-D.getTime();if(N(),f<0){clearInterval(_),O();return}const y=Math.floor(f/T),w=Math.floor(f%T/g),C=Math.floor(f%g/b),x=Math.floor(f%b/xt);r.value=y<10?`0${y}`:y,a.value=w<10?`0${w}`:w,l.value=C<10?`0${C}`:C,p.value=x<10?`0${x}`:x},100))};return we(()=>R()),Fe(()=>clearInterval(_)),(D,B)=>(n(),u("div",Us,[o("ul",Ls,[o("li",Ms,[o("span",Ns,v(e(r)),1),o("span",Os,v(e(s)("labels.days",0)),1)]),B[0]||(B[0]=o("li",{class:"BaseCountdown__verticalLine",role:"separator"},null,-1)),o("li",Rs,[o("span",Ds,v(e(a)),1),o("span",Vs,v(e(s)("labels.hours",0)),1)]),B[1]||(B[1]=o("li",{class:"BaseCountdown__verticalLine",role:"separator"},null,-1)),o("li",Fs,[o("span",js,v(e(l)),1),o("span",Hs,v(e(s)("labels.minutes",0)),1)]),B[2]||(B[2]=o("li",{class:"BaseCountdown__verticalLine",role:"separator"},null,-1)),o("li",Gs,[o("span",zs,v(e(p)),1),o("span",qs,v(e(s)("labels.seconds",0)),1)])])]))}}),Ks=Object.assign(Ws,{__name:"EventCountDown"}),Ys={class:"grid grid-cols-3 gap-4 px-4 py-6"},Qs={class:"flex flex-col items-center justify-center gap-2"},Xs={class:"flex items-center justify-center w-full text-main"},Zs={class:"flex items-center justify-center gap-4 font-bold text-lg"},Js={class:"text-3xl font-bold text-main"},ea={key:0,class:"px-2 py-1 bg-neutral-dark-500 text-white text-xs font-bold rounded"},ta={key:0,class:"border-solid border-y-transparent border-y-[4px] ltr:border-r-[#E8332B] ltr:border-r-[6px] ltr:border-l-0 rtl:border-l-[#E8332B] rtl:border-l-[6px] rtl:border-r-0"},oa={key:1,class:"border-solid border-y-transparent border-y-[4px] ltr:border-l-[#E8332B] ltr:border-l-[6px] ltr:border-r-0 rtl:border-r-[#E8332B] rtl:border-r-[6px] rtl:border-l-0"},sa={key:2,class:"px-1"},aa={class:"text-3xl font-bold text-main"},na={class:"flex flex-col items-center justify-center gap-2"},la={class:"col-span-3 mt-2"},ia={class:"grid grid-cols-3 gap-4"},ra={class:"flex justify-center"},ca={class:"flex justify-center"},da=V({__name:"Basic",props:{team1Name:{},team2Name:{},team1Score:{},team2Score:{},team1Color:{},team2Color:{},team1LogoUrl:{},team2LogoUrl:{},isLive:{type:Boolean},gameTime:{},eventId:{}},setup(m){const t=m,i=be().public.APP_CUSTOMER.enable_event_scoring,h=c(()=>t.isLive&&i&&!!t.eventId),{data:r,refetch:a}=ko(()=>({id:t.eventId,extendWithScoreStats:!0,staleTime:3e4,autoRefetch:h.value,enabled:!1}));let l=null;we(()=>{h.value&&(l=setTimeout(()=>{a()},3e4))}),io(()=>{l&&(clearTimeout(l),l=null)});const p=c(()=>r.value?.team1Name??t.team1Name),_=c(()=>r.value?.team2Name??t.team2Name),b=c(()=>r.value?.team1Score??t.team1Score),g=c(()=>r.value?.team2Score??t.team2Score),T=c(()=>r.value?.team1Color??t.team1Color),N=c(()=>r.value?.team2Color??t.team2Color),O=c(()=>r.value?.team1LogoUrl??t.team1LogoUrl),R=c(()=>r.value?.team2LogoUrl??t.team2LogoUrl),D=c(()=>r.value?.matchTime?.displayTime??t.gameTime),B=c(()=>r.value?.eventStatus===He.LIVE||t.isLive),f=c(()=>yt(p.value)),y=c(()=>yt(_.value)),w=c(()=>b.value!==void 0&&g.value!==void 0),C=c(()=>w.value&&b.value>g.value),x=c(()=>w.value&&g.value>b.value),U=c(()=>B.value&&!!D.value),q=c(()=>!U.value&&w.value);return(E,P)=>{const M=Dt;return n(),u("div",Ys,[o("div",Qs,[o("div",null,[d(M,{title:e(p),src:e(O),"icon-background":e(T),width:48,height:48,"no-background":"","with-initials":"",fit:"contain"},null,8,["title","src","icon-background"])])]),o("div",Xs,[o("div",Zs,[o("div",Js,v(e(b)||0),1),e(U)?(n(),u("div",ea,v(e(D)),1)):e(q)?(n(),u(ee,{key:1},[e(C)?(n(),u("div",ta)):I("",!0),P[0]||(P[0]=o("div",{class:"w-4 h-0.5 bg-white rounded-full"},null,-1)),e(x)?(n(),u("div",oa)):I("",!0)],64)):(n(),u("div",sa,[...P[1]||(P[1]=[o("div",{class:"w-4 h-0.5 bg-white rounded-full"},null,-1)])])),o("div",aa,v(e(g)||0),1)])]),o("div",na,[o("div",null,[d(M,{src:e(R),"icon-background":e(N),title:e(_),width:48,height:48,"no-background":"","with-initials":"",fit:"contain"},null,8,["src","icon-background","title"])])]),o("div",la,[o("div",ia,[o("div",ra,[o("div",{class:he(["font-medium text-center text-main max-w-full",e(f)])},v(e(p)),3)]),P[2]||(P[2]=o("div",null,null,-1)),o("div",ca,[o("div",{class:he(["font-medium text-center text-main max-w-full",e(y)])},v(e(_)),3)])])])])}}}),_a=Object.assign(da,{__name:"EventStatsBasic"}),ua={key:1,class:"max-lg:max-h-[49vh]"},ma={key:0},pa={key:1},ga=V({__name:"index",props:{event:{},scoreStats:{},gameStats:{}},setup(m){const t=m,s=c(()=>!!(t.scoreStats||t.gameStats)),i=c(()=>t.event?.team1Score!=null&&t.event?.team2Score!=null);return(h,r)=>{const a=bo,l=yo,p=fo,_=xo,b=_a;return t.event?.geniusId?(n(),A(a,{key:0,id:t.event.geniusId},null,8,["id"])):e(s)?(n(),u("div",ua,[t.scoreStats?(n(),u("div",ma,[d(l,{"team1-name":t.event?.team1Name,"team2-name":t.event?.team2Name,"team1-logo-url":t.event?.team1LogoUrl,"team2-logo-url":t.event?.team2LogoUrl,"team1-color":t.event?.team1Color,"team2-color":t.event?.team2Color,"team1-score":t.scoreStats?.team_home.total||t.gameStats?.team_home.total,"team2-score":t.scoreStats?.team_away.total||t.gameStats?.team_away.total},null,8,["team1-name","team2-name","team1-logo-url","team2-logo-url","team1-color","team2-color","team1-score","team2-score"]),r[0]||(r[0]=o("div",{role:"separator",class:"hr",style:{background:"var(--base-background-color)"}},null,-1)),d(p,{"team1-logo-url":t.event?.team1LogoUrl,"team2-logo-url":t.event?.team2LogoUrl,"team1-color":t.event?.team1Color,"team2-color":t.event?.team2Color,"stats-data":t.scoreStats},null,8,["team1-logo-url","team2-logo-url","team1-color","team2-color","stats-data"])])):I("",!0),t.gameStats?(n(),u("div",pa,[r[1]||(r[1]=o("div",{role:"separator",class:"hr",style:{background:"var(--base-background-color)"}},null,-1)),d(_,{"team1-name":t.event?.team1Name,"team2-name":t.event?.team2Name,"team1-logo-url":t.event?.team1LogoUrl,"team2-logo-url":t.event?.team2LogoUrl,"team1-color":t.event?.team1Color,"team2-color":t.event?.team2Color,"stats-data":t.gameStats},null,8,["team1-name","team2-name","team1-logo-url","team2-logo-url","team1-color","team2-color","stats-data"])])):I("",!0)])):e(i)?(n(),u(ee,{key:2},[d(b,{"team1-name":t.event?.team1Name,"team2-name":t.event?.team2Name,"team1-logo-url":t.event?.team1LogoUrl,"team2-logo-url":t.event?.team2LogoUrl,"team1-color":t.event?.team1Color,"team2-color":t.event?.team2Color,"team1-score":t.event?.team1Score,"team2-score":t.event?.team2Score,"is-live":t.event?.eventStatus===e(He).LIVE,"game-time":t.event?.matchTime?.displayTime,"event-id":t.event?.id},null,8,["team1-name","team2-name","team1-logo-url","team2-logo-url","team1-color","team2-color","team1-score","team2-score","is-live","game-time","event-id"]),r[2]||(r[2]=o("div",{role:"separator",class:"hr",style:{background:"var(--base-background-color)"}},null,-1))],64)):I("",!0)}}}),va=Object.assign(ga,{__name:"EventStats"}),ha=["width","height"],ba=["fill"],ya=V({__name:"Tshirt",props:{fill:{default:"#A9B7D1"},width:{default:18},height:{default:18}},setup(m){const t=m;return(s,i)=>(n(),u("svg",{width:t.width,height:t.height,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M15.94 7.17 18 5.136s-1.99-2.37-3.715-3.253C13.382 1.42 11.838 1 11.838 1a2.81 2.81 0 0 1-.996 1.642 2.923 2.923 0 0 1-1.836.645c-.67 0-1.32-.228-1.836-.645A2.81 2.81 0 0 1 6.175 1s-1.548.408-2.452.866C1.988 2.746 0 5.136 0 5.136l1.674 1.66 1.505 1.541v7.012c0 .912.755 1.651 1.687 1.651h8.268c.932 0 1.687-.739 1.687-1.65V8.32l1.119-1.15z",fill:t.fill,"fill-rule":"nonzero"},null,8,ba)],8,ha))}}),ut=Object.assign(ya,{__name:"IconTshirt"}),fa={class:"equalizer"},xa=V({__name:"Equalizer",props:{bgColor:{default:"var(--base-secondary-color)"}},setup(m){const t=m;return(s,i)=>(n(),u("div",fa,[o("div",{class:"column-1",style:ce({backgroundColor:t.bgColor})},null,4),o("div",{class:"column-2",style:ce({backgroundColor:t.bgColor})},null,4),o("div",{class:"column-3",style:ce({backgroundColor:t.bgColor})},null,4)]))}}),mt=Object.assign(xa,{__name:"IconEqualizer"});function ka(m){const s=m.replace(/^#/,"").match(/.{2}/g).map(r=>Number.parseInt(r,16)),i=.2126*s[0]/255+.7152*s[1]/255+.0722*s[2]/255;return Math.round(i*100)}const Ta={class:"flex relative"},wa={class:"absolute flex items-center justify-center w-full h-full z-20 bg-black/40"},Ca={class:"absolute text-xs font-bold"},$a={class:"w-full bg-[var(--base-category-chip-bgColor)] h-[29px] px-2 flex items-center"},Sa={class:"flex items-center w-full justify-between"},Ia={class:"font-medium text-base"},Ea=V({__name:"index",props:{imageUrl:{},playerNumber:{},playerColor:{},teamLogo:{},teamTitle:{},isPlaying:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},setup(m){const t=m,s=c(()=>ka(t.playerColor)>50?"#1A1C1E":"#FFFFFF");return(i,h)=>{const r=ut,a=Pt,l=mt;return n(),u("div",{class:he(["flex overflow-hidden w-full relative rounded flex-col",{"border border-[var(--base-error-color)]":i.isActive}])},[o("div",Ta,[o("div",wa,[d(r,{fill:t.playerColor,width:40,height:40},null,8,["fill"]),o("div",Ca,[o("span",{style:ce({color:e(s)})},v(t.playerNumber),5)])]),d(a,{src:t.imageUrl,alt:t.imageUrl,class:"aspect-video blur-[0.7px]",width:"full",height:"auto"},null,8,["src","alt"])]),o("div",$a,[o("div",Sa,[o("div",Ia," #"+v(t.playerNumber),1),t.isPlaying?(n(),A(l,{key:0})):I("",!0)])])],2)}}}),Pa=Object.assign(Ea,{__name:"CardPlayerHighlight"}),Ba={class:"flex items-center"},Aa={class:"baseVideoCard__imageWrap max-w-[10rem]"},Ua={key:0,class:"baseVideoCard__badge text-caption-medium flex items-center"},La={key:2,class:"px-1"},Ma={key:1,class:"baseVideoCard__loading text-caption-medium text-main flex h-full w-full"},Na={class:"flex items-center min-w-0"},Oa=["title"],Ra=V({__name:"index",props:{title:{},badgeTitle:{},imageUrl:{},isPlaying:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},loading:{type:Boolean},badgeIcon:{}},setup(m){const t=m;return(s,i)=>{const h=Pt,r=qe,a=go,l=eo,p=mt;return n(),u("div",{class:he(["baseVideoCard__content flex justify-between",{active:s.isActive}])},[o("div",Ba,[o("div",Aa,[d(h,{src:t.imageUrl,alt:t.imageUrl,class:"baseVideoCard__image aspect-video",width:"full",height:"auto"},null,8,["src","alt"]),t.badgeIcon&&t.badgeTitle?(n(),u("div",Ua,[t.badgeIcon===e(Z).CLIP?(n(),A(r,{key:0,width:8,height:8,fill:"var(--base-icon-color)"})):t.badgeIcon===e(Z).HIGHLIGHT?(n(),A(a,{key:1,width:8,height:8,fill:"var(--base-icon-color)"})):I("",!0),t.badgeTitle?(n(),u("span",La,v(t.badgeTitle),1)):I("",!0)])):I("",!0),t.loading?(n(),u("div",Ma,[d(l,{size:30,class:"left-3 rtl:right-3"})])):I("",!0)]),o("div",Na,[t.title?(n(),u("div",{key:0,title:t.title,class:he([{"text-secondary":t.loading,"text-main":!t.loading},"text-body-medium max-h-12 line-clamp-2 mx-4 overflow-hidden [overflow-wrap:anywhere]"])},[o("p",null,v(t.title),1)],10,Oa)):I("",!0)])]),t.isPlaying?(n(),A(p,{key:0})):I("",!0)],2)}}}),Da=Object.assign(Ra,{__name:"CardVideo"}),Va={},Fa={class:"skeletonLoading rounded w-full h-[6rem]"};function ja(m,t){return n(),u("div",Fa)}const Ha=Object.assign(Bt(Va,[["render",ja]]),{__name:"CardPlayerHighlightSkeleton"}),Ga={},za={class:"cardVideoSkeleton"};function qa(m,t){return n(),u("div",za,[...t[0]||(t[0]=[o("div",{class:"cardVideoSkeleton__image skeletonLoading"},null,-1),o("div",{class:"cardVideoSkeleton__content skeletonLoading"},null,-1)])])}const Wa=Object.assign(Bt(Ga,[["render",qa]]),{__name:"CardVideoSkeleton"}),Ka={key:0,class:"flex items-center justify-between p-4"},Ya={class:"text-heading-4 text-secondary"},Qa={key:0,class:"mt-4 flex justify-center"},Xa=V({__name:"Videos",props:{items:{},title:{},type:{},loading:{type:Boolean},hasShowMoreButton:{type:Boolean},limit:{},hideOnNoContent:{type:Boolean},isPlaying:{type:Boolean},eventImageUrl:{}},setup(m){const t=m,{t:s}=oe(),i=Se(),h=z(!1),r=c(()=>h.value?t.items:t.items.slice(0,t.limit)),a=_=>_.mediaType===Ue.USER&&_.mediaSubType===Le.CLIP?s("labels.clip",1):_.mediaType===Ue.USER&&_.mediaSubType===Le.HIGHLIGHT||_.mediaType===Ue.GAME&&_.mediaSubType===Le.AUTO?s("labels.highlights",0):_.mediaType===Ue.GAME&&_.mediaSubType===Le.RECAP?s("labels.game_recap"):_.mediaType===Ue.GAME&&_.mediaSubType===Le.CONDENSED?s("labels.play_by_play"):"",l=_=>_===Z.USER_CLIP?"clip":"highlight",p=c(()=>t.type==="player"?"grid gap-4 grid-cols-3 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-3 px-4":"form-column !px-0");return(_,b)=>{const g=Pa,T=se,N=Da,O=Ha,R=Wa,D=$o,B=So,f=Io;return n(),A(f,{"grid-class":e(p),items:e(r),loading:t.loading,limit:t.limit,"hide-on-no-content":t.hideOnNoContent},{start:k(()=>[t.title?(n(),u("div",Ka,[o("h3",Ya,v(t.title),1)])):I("",!0)]),item:k(({item:y})=>[t.type==="player"?(n(),A(T,{key:0,type:"icon",tag:"nuxt-link",to:{path:e(i).path,query:{type:y.eventType,mediaId:y.id}},name:`item-${y.id}`},{default:k(()=>[d(g,{"image-url":y.imageUrl,"player-number":y.playerNumber,"player-color":y.playerColor,"team-logo":y.teamLogo,"team-title":y.teamTitle,"is-active":y.id===e(i).query.mediaId,"is-playing":!!(y.id===e(i).query.mediaId&&t.isPlaying)},null,8,["image-url","player-number","player-color","team-logo","team-title","is-active","is-playing"])]),_:2},1032,["to","name"])):(n(),A(T,{key:1,type:"icon",tag:y.publishStatus===e(Re).NONE?"div":"nuxt-link",to:{path:e(i).path,query:{type:y.eventType,mediaId:y.id}},disabled:y.publishStatus===e(Re).NONE,name:`item-${y.id}`,class:"w-full"},{default:k(()=>[d(N,{title:y.title,"badge-title":a(y),"badge-icon":l(y.eventType),"image-url":y.publishStatus===e(Re).NONE?t.eventImageUrl:y.imageUrl,"is-active":y.id===e(i).query.mediaId,"is-playing":!!(y.id===e(i).query.mediaId&&t.isPlaying),loading:y.publishStatus===e(Re).NONE},null,8,["title","badge-title","badge-icon","image-url","is-active","is-playing","loading"])]),_:2},1032,["tag","to","disabled","name"]))]),skeleton:k(()=>[t.type==="player"?(n(),A(O,{key:0})):(n(),A(R,{key:1}))]),end:k(()=>[t.hasShowMoreButton&&t.items.length>(t.limit||t.items.length)?(n(),u("div",Qa,[d(T,{disabled:t.loading,name:"load-more",link:"",type:"primary",class:"text-heading-4 mx-8 truncate font-medium",onClick:b[0]||(b[0]=y=>h.value=!e(h))},{default:k(()=>[te(v(e(h)?"Show less":"Show more")+" ",1),e(h)?(n(),A(D,{key:0,class:"inline",height:8,width:8})):(n(),A(B,{key:1,class:"inline",height:8,width:8}))]),_:1},8,["disabled"])])):I("",!0),b[1]||(b[1]=o("div",{role:"separator",class:"hr mx-4 mt-4",style:{background:"var(--base-background-color)"}},null,-1))]),_:1},8,["grid-class","items","loading","limit","hide-on-no-content"])}}}),Za=Object.assign(Xa,{__name:"ListVideos"}),Ja={key:0,class:"h-full max-h-[49vh]"},en={key:1,class:"flex flex-col items-center w-full px-4 py-10 text-center"},tn={key:0,class:"py-6 text-body-medium text-secondary"},on={class:"py-6 text-body-medium text-secondary"},sn={class:"flex items-center gap-2"},an={class:"text-button-bold"},nn={class:"py-6 text-body-medium text-secondary"},ln=V({__name:"index",setup(m){const{t}=oe(),s=Se(),i=Ce(),h=st(),r=le(),{playerState:a,playerError:l}=me(),{isOverlayActive:p}=Ke(),_=be().public,b=s.params.eventId,g=c(()=>h.isAuthenticated),T=c(()=>r.userClips.concat(r.userHighlights)),N=c(()=>r.gameHighlights),O=c(()=>r.playerHighlights),R=c(()=>T.value.length||r.gameHighlights.length||r.playerHighlights.length),D=_.APP_CUSTOMER.enable_game_highlights,B=_.APP_CUSTOMER.enable_player_highlights,f=c(()=>l.value!==null),y=c(()=>r.isEventStartingSoon),w=c(()=>a.value?.playing),C=_.APP_CUSTOMER.web_sdk.enable_clipping,x=Eo({sm:3,md:3,lg:5,xl:4,xl2:6,xl3:6,xl4:6,xl5:6,xl6:6}),U=pe(),q=()=>{r.clips.isCreatingClip=!0,U.resetState(),i.track($e.CLIPPING_PROCESS_STARTED,{event_id:b})};return(E,P)=>{const M=Za,G=qe,S=se,L=Vt;return e(R)?(n(),u("div",Ja,[e(D)?(n(),A(M,{key:0,title:e(t)("labels.game_highlights"),items:e(N),type:"highlight",limit:2,"has-show-more-button":"",loading:e(r).loading,"is-playing":e(w),"hide-on-no-content":""},null,8,["title","items","loading","is-playing"])):I("",!0),e(B)?(n(),A(M,{key:1,title:e(t)("labels.player_highlights"),items:e(O),type:"player","has-show-more-button":"",limit:e(x),loading:e(r).loading,"is-playing":e(w),"hide-on-no-content":""},null,8,["title","items","limit","loading","is-playing"])):I("",!0),d(M,{title:e(t)("labels.your_clips"),items:e(T),type:"clip",loading:e(r).loading,"is-playing":e(w),"event-image-url":e(r).data?.imageUrl,"hide-on-no-content":""},null,8,["title","items","loading","is-playing","event-image-url"])])):(n(),u("div",en,[d(G,{fill:"var(--base-icon-color)",width:32,height:32}),e(C)?e(g)?(n(),u(ee,{key:1},[o("p",on,v(e(t)("pages.events.tabs.event_videos.title_no_clips")),1),d(S,{name:"createTag",class:"mb-5",disabled:e(f)||e(y)||e(p),type:"primary",onClick:q},{default:k(()=>[o("div",sn,[d(G,{width:16,height:16,fill:"#ffffff"}),o("span",an,v(e(t)("pages.events.tabs.event_videos.create_clip")),1)])]),_:1},8,["disabled"])],64)):(n(),u(ee,{key:2},[o("p",nn,v(e(t)("pages.events.tabs.event_videos.title_no_clips_not_logged_in")),1),d(L,{mode:"sign-in",title:e(t)("labels.sign_in"),class:"font-bold text-white","redirect-url":e(s).fullPath},null,8,["title","redirect-url"])],64)):(n(),u("p",tn,v(e(t)("pages.events.tabs.event_videos.title_enabled_clipping")),1))]))}}}),rn=Object.assign(ln,{__name:"EventVideos"}),cn=["width","height"],dn=["fill"],_n=V({__name:"PauseAll",props:{fill:{default:"#A9B7D1"},width:{default:20},height:{default:20}},setup(m){const t=m;return(s,i)=>(n(),u("svg",{width:t.width,height:t.height,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M10 0C4.475 0 0 4.475 0 10s4.475 10 10 10 10-4.475 10-10S15.525 0 10 0zM9 14H7V6h2v8zm4 0h-2V6h2v8z",fill:t.fill,"fill-rule":"nonzero"},null,8,dn)],8,cn))}}),un=Object.assign(_n,{__name:"IconPauseAll"}),mn=["width","height"],pn=["fill"],gn=V({__name:"PlayAll",props:{fill:{default:"#A9B7D1"},width:{default:20},height:{default:20}},setup(m){const t=m;return(s,i)=>(n(),u("svg",{width:t.width,height:t.height,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zM8 14.5v-9l6 4.5-6 4.5z",fill:t.fill,"fill-rule":"evenodd"},null,8,pn)],8,mn))}}),vn=Object.assign(gn,{__name:"IconPlayAll"}),hn=V({__name:"PlayAll",setup(m){const{t}=oe(),s=le(),{player:i,playerState:h}=me(),r=z(!0),a=z(null),l=z(!1),p=z(-1),_=z(0),{tags:b}=tt({id:s.data?.referenceId||""}),g=c(()=>b.value.sort((B,f)=>B.startTime-f.startTime)),T=c(()=>h.value?.currentTime||0),N=c(()=>h.value?.playing),O=()=>{if(!l.value){l.value=!0,p.value=0,_.value=g.value[p.value].endTime,i.value?.currentTime(g.value[p.value].startTime);return}l.value=!1};function R(){if(!l.value)return;const B=g.value[p.value];if(r.value&&(i.value?.currentTime(B.startTime),r.value=!1),T.value>=_.value)if(r.value=!0,p.value++,p.value<g.value.length){const f=g.value[p.value];_.value=f.endTime}else l.value=!1;N.value||i.value?.play()}const D=c(()=>l.value?t("pages.events.tabs.event_tags.pause_all_btn"):t("pages.events.tabs.event_tags.play_all_btn"));return de(T,R),uo(a,()=>l.value=!1),(B,f)=>{const y=un,w=vn,C=se,x=je("tooltip");return n(),u("div",{ref_key:"playAllRef",ref:a},[Me((n(),A(C,{name:"play-all",type:"icon",onClick:O},{default:k(()=>[e(l)?(n(),A(y,{key:0,class:"cursor-pointer",fill:"var(--base-icon-color)"})):(n(),A(w,{key:1,fill:"var(--base-icon-color)",class:"cursor-pointer"}))]),_:1})),[[x,e(D),void 0,{bottom:!0}]])],512)}}}),bn=Object.assign(hn,{__name:"EventTagsPlayAll"}),yn=["width","height"],fn=["fill"],xn=V({__name:"Filter",props:{fill:{default:"#A9B7D1"},width:{default:20},height:{default:20}},setup(m){const t=m;return(s,i)=>(n(),u("svg",{width:t.width,height:t.height,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M18.585.728A1.384 1.384 0 0 0 17.355 0H1.407C.9 0 .418.27.178.728c-.241.458-.241.997.026 1.428.027.027.027.054.054.081l6.394 8.49v6.12c0 .377.187.727.508.916l3.291 2.075c.16.108.375.162.562.162a1.1 1.1 0 0 0 .509-.135c.347-.189.562-.539.562-.943v-8.194l6.394-8.49c.027-.027.027-.054.053-.081.268-.432.295-.97.054-1.429z",fill:t.fill,"fill-rule":"evenodd"},null,8,fn)],8,yn))}}),kn=Object.assign(xn,{__name:"IconFilter"}),Tn={class:"badge relative"},wn=V({__name:"Badge",props:{text:{},color:{default:"var(--base-error-color)"}},setup(m){const t=m;return(s,i)=>(n(),u("div",Tn,[t.text?(n(),u("div",{key:0,class:"absolute w-4 h-4 left-4 -top-2 rounded-full text-center text-xs ring-2 ring-[var(--base-tab-background-color)] text-white",style:ce({background:t.color})},v(t.text),5)):I("",!0),$t(s.$slots,"default")]))}}),Cn=Object.assign(wn,{__name:"BaseBadge"}),$n=["title"],Sn=V({__name:"Select",props:{tagType:{},tagTitle:{},isActive:{type:Boolean}},setup(m){const t=m,s=Nt(t.tagType),i=c(()=>t.tagType&&t.tagType.split("_")[1]||"Other");return(h,r)=>{const a=Ot;return n(),u("div",{class:"tagSelect",style:ce({borderColor:h.isActive?"var(--base-primary-color)":"var(--base-card-bgSecondaryColor)"})},[d(a,{"is-active":h.isActive,src:e(s),"tag-type":t.tagType,class:"mx-2","background-height":"24px","background-width":"24px",width:12,height:12},null,8,["is-active","src","tag-type"]),o("span",{class:"text-main truncate w-1/2 text-body-medium capitalize",title:t.tagTitle},v(t.tagTitle||e(i)),9,$n)],4)}}}),jt=Object.assign(Sn,{__name:"EventTagsSelect"}),In={class:"h-[60px]"},En={class:"flex justify-between items-center p-4 eventTagsHead"},Pn={key:0,class:"flex w-full justify-start items-center"},Bn={key:1},An={class:"flex gap-8"},Un={class:"p-4 w-[416px] max-md:w-[316px]"},Ln={class:"mb-6 flex justify-between items-center"},Mn={class:"font-bold"},Nn={class:"grid gap-6"},On={key:0,class:"grid gap-4"},Rn={class:"text-secondary"},Dn={class:"flex flex-wrap gap-1"},Vn={key:1,class:"grid gap-2 w-full"},Fn={class:"text-secondary"},jn={class:"flex gap-2 flex-col"},Hn=["onClick"],Gn={class:"flex w-[350px] items-center gap-2"},zn={class:"truncate"},qn={key:2,class:"grid gap-4"},Wn={class:"text-secondary"},Kn={class:"flex flex-wrap gap-4"},Yn=["onClick"],Qn={class:"w-full flex justify-between mt-6 gap-2"},Xn={key:0,class:"hr",role:"separator",style:{background:"var(--base-background-color)"}},Zn=V({__name:"Head",props:{searchValue:{},filters:{},activeFilters:{},isAllTagsSelected:{type:Boolean},checkedTagsTotal:{}},emits:["update:searchValue","update:activeFilters","update:isAllTagsSelected","clear-all"],setup(m,{emit:t}){const{t:s}=oe(),i=le(),h=t,r=m,a=vt(r,"searchValue",h),l=vt(r,"isAllTagsSelected",h),p=Ve(new Map),_=c(()=>p.size),b=z(),g=z(!1),T=c(()=>r.filters.filter(x=>x.type==="tagType")),N=c(()=>r.filters.filter(x=>x.type==="teamColor-playerNumber")),O=c(()=>r.filters.filter(x=>x.type==="tagTeam")),R=x=>p.has(x.id),D=x=>{R(x)?p.delete(x.id):p.set(x.id,x)},B=x=>{h("update:activeFilters",new Map(p)),x()},f=()=>{p.clear()},y=()=>{g.value=!0,ot(()=>b.value?.focus())},w=()=>{g.value=!1,a.value=""},{tagsMap:C}=tt({id:i.data?.referenceId||""});return de(C,()=>{f(),B(close)}),(x,U)=>{const q=Bo,E=_t,P=Ft,M=at,G=bn,S=kn,L=Cn,j=se,Y=jt,Q=Dt,J=ut,ie=Ao,re=je("tooltip");return n(),u("div",In,[o("div",En,[e(g)?(n(),u("div",Pn,[d(q,{class:"text-secondary mr-2"}),d(E,{ref_key:"searchInput",ref:b,modelValue:e(a),"onUpdate:modelValue":U[0]||(U[0]=K=>Te(a)?a.value=K:null),name:"search",placeholder:e(s)("pages.events.tabs.event_tags.filters.search_input_placeholder")},null,8,["modelValue","placeholder"])])):(n(),u("div",Bn,[d(P,{modelValue:e(l),"onUpdate:modelValue":U[1]||(U[1]=K=>Te(l)?l.value=K:null),class:"text-secondary !gap-4",name:"tags-filters-select-all",label:e(s)("pages.events.tabs.event_tags.filters.select_all",{count:r.checkedTagsTotal})},null,8,["modelValue","label"])])),o("div",An,[e(g)?(n(),A(M,{key:1,fill:"var(--base-icon-color)",class:"cursor-pointer",onClick:w})):Me((n(),A(q,{key:0,class:"text-secondary cursor-pointer",width:20,height:20,onClick:U[2]||(U[2]=K=>y())},null,512)),[[re,e(s)("labels.search"),void 0,{bottom:!0}]]),d(G),d(ie,{"content-class":"bg-[var(--base-tab-filter-tag-popup-bgColor)] shadow-main right-4 rounded-main rtl:left-0 rtl:right-auto",placement:"bottom"},{default:k(({toggle:K})=>[Me((n(),A(j,{name:"Filter",type:"icon",onClick:K},{default:k(()=>[d(L,{text:e(_)},{default:k(()=>[d(S,{class:"cursor-pointer",fill:"var(--base-icon-color)"})]),_:1},8,["text"])]),_:2},1032,["onClick"])),[[re,e(s)("pages.events.tabs.event_tags.filters.popup_title"),void 0,{bottom:!0}]])]),content:k(({close:K})=>[o("div",Un,[o("div",Ln,[o("h3",Mn,v(e(s)("pages.events.tabs.event_tags.filters.popup_title")),1),d(M,{fill:"var(--base-icon-color)",class:"cursor-pointer",onClick:K},null,8,["onClick"])]),o("div",Nn,[e(T).length?(n(),u("div",On,[o("h3",Rn,v(e(s)("pages.events.tabs.event_tags.filters.by_type")),1),o("div",Dn,[(n(!0),u(ee,null,ke(e(T),$=>(n(),A(Y,{key:$.id,"tag-type":$.metadata.tagType,"tag-title":e(s)(`tags.${$.metadata.tagType}`),"is-active":R($),onClick:X=>D($)},null,8,["tag-type","tag-title","is-active","onClick"]))),128))])])):I("",!0),e(O).length?(n(),u("div",Vn,[o("h3",Fn,v(e(s)("pages.events.tabs.event_tags.filters.by_team")),1),o("div",jn,[(n(!0),u(ee,null,ke(e(O),$=>(n(),u("div",{key:$.id,class:"rounded p-2 border items-center cursor-pointer",style:ce({borderColor:R($)?"var(--base-primary-color)":"var(--base-card-bgSecondaryColor)"}),onClick:X=>D($)},[o("div",Gn,[o("div",null,[d(Q,{width:24,height:24,src:$.metadata.tagTeam?.logo,"icon-background":$.metadata.tagTeam?.color,title:$.metadata.tagTeam?.title,"with-initials":"","with-hover":""},null,8,["src","icon-background","title"])]),o("p",zn,v($.metadata.tagTeam?.title),1)])],12,Hn))),128))])])):I("",!0),e(N).length?(n(),u("div",qn,[o("h3",Wn,v(e(s)("pages.events.tabs.event_tags.filters.by_player_number")),1),o("div",Kn,[(n(!0),u(ee,null,ke(e(N),($,X)=>(n(),u("div",{key:X,class:"flex gap-2 items-center rounded p-2 border cursor-pointer",style:ce({borderColor:R($)?"var(--base-primary-color)":"var(--base-card-bgSecondaryColor)"}),onClick:ge=>D($)},[d(J,{fill:$.metadata.tagTeam?.color},null,8,["fill"]),o("span",null," # "+v($.metadata.tagPlayerNumber),1)],12,Yn))),128))])])):I("",!0)]),o("div",Qn,[d(j,{type:"secondary",name:"modal-close",disabled:!e(_),title:e(s)("button.clear_all"),class:"text-button-bold text-main w-1/2 !px-0",onClick:f},{default:k(()=>[te(v(e(s)("pages.events.tabs.event_tags.filters.clear_all_btn",{count:e(_)})),1)]),_:1},8,["disabled","title"]),d(j,{type:"danger",name:"create-clip",title:e(s)("pages.events.tabs.event_tags.filters.show_results_btn"),class:"text-button-bold text-main w-1/2 !px-0",onClick:$=>B(K)},{default:k(()=>[te(v(e(s)("pages.events.tabs.event_tags.filters.show_results_btn")),1)]),_:2},1032,["title","onClick"])])])]),_:1})])]),e(g)?(n(),u("div",Xn)):I("",!0)])}}}),Jn=Object.assign(Zn,{__name:"EventTagsHead"}),el={width:"36",height:"36",viewBox:"0 0 101 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tl=["fill","stroke"],ol=["stroke-dasharray"],sl=["fill"],al=["fill"],nl=V({__name:"PlayingTag",props:{fill:{default:"#fff"},percentage:{default:0},isDarkTheme:{type:Boolean,default:!0}},setup(m){const t=m,s=c(()=>`${t.percentage/104*100*Math.PI},9999`);return(i,h)=>(n(),u("svg",el,[o("circle",{cx:"50",cy:"50",r:"49",fill:t.isDarkTheme?"#2C374B":"none",stroke:t.isDarkTheme?"none":"rgb(217, 217, 217)","stroke-width":"3"},null,8,tl),o("circle",{class:"icon-pause",transform:"rotate(-91 50 50)",cx:"50",cy:"50",r:"48",stroke:"red","stroke-width":"3","stroke-dasharray":e(s)},null,8,ol),o("rect",{x:"35",y:"31",width:"10",height:"39",fill:t.isDarkTheme?"#FFF":"#8F959F"},null,8,sl),o("rect",{x:"56",y:"31",width:"10",height:"39",fill:t.isDarkTheme?"#FFF":"#8F959F"},null,8,al)]))}}),ll=Object.assign(nl,{__name:"IconPlayingTag"}),il={class:"BaseTag__left"},rl={class:"sm:pr-3 flex gap-2 sm:gap-4"},cl={class:"text-main text-xs sm:text-base lg:max-xl:text-sm truncate mx-2"},dl={class:"BaseTag__right"},_l={key:0,class:"flex items-center justify-end w-full cursor-default"},ul={key:0,class:"flex items-center w-[3rem] sm:w-[4rem] lg:max-xl:w-[3.5rem] justify-start gap-[2px] sm:gap-2 font-medium text-xs sm:text-base lg:max-xl:text-xs"},ml={key:1,class:"border h-4 mx-1 sm:mx-2 lg:max-xl:mx-1 border-[var(--base-card-bgSecondaryColor)]"},pl={class:"BaseTag__time text-main"},gl={class:"flex items-center truncate gap-2 text-main"},vl={class:"flex items-center truncate gap-2"},hl=V({__name:"ListItem",props:{id:{},title:{},type:{default:"general_drill"},hasMenu:{type:Boolean,default:!1},hasMenuDisabled:{type:Boolean},startTime:{},endTime:{},playingTime:{},playerNumber:{},teamColor:{},teamName:{},isPlaying:{type:Boolean,default:!1}},emits:["edit","delete","stop","play"],setup(m,{emit:t}){const s=m,{t:i}=oe(),h=nt(),r=Ne(s.startTime),a=c(()=>s.endTime&&(s.startTime||s.startTime===0)&&s.playingTime?s.isPlaying&&s.playingTime>=s.startTime&&s.playingTime<=s.endTime:!1),l=c(()=>s.endTime&&s.startTime&&s.playingTime?(s.playingTime-s.startTime)*100/(s.endTime-s.startTime):0),p=z(!1),_=Nt(s.type),b=t,g=()=>b("edit",s.id),T=()=>b("stop"),N=()=>b("play",s.startTime),O=()=>b("delete",s.id),R=()=>p.value=!0,D=()=>p.value=!1;return(B,f)=>{const y=ll,w=se,C=Ot,x=ut,U=mt,q=Lt,E=Mt,P=Tt,M=dt,G=kt,S=Ct,L=je("tooltip");return n(),u("div",{class:he(["BaseTag",{BaseTag__playing:e(a)}])},[o("div",il,[o("div",rl,[$t(B.$slots,"start"),o("div",{class:"flex gap-4 items-center",onMouseenter:R,onMouseleave:D},[e(a)?(n(),A(w,{key:0,name:"play-button",type:"icon",onClick:f[0]||(f[0]=j=>T())},{default:k(()=>[d(y,{"is-dark-theme":e(h).value===e(At).DARK,percentage:e(l)},null,8,["is-dark-theme","percentage"])]),_:1})):s.type&&!e(a)?(n(),A(C,{key:1,src:e(_),"show-play":e(p),onClick:f[1]||(f[1]=j=>N())},null,8,["src","show-play"])):I("",!0)],32)]),o("div",cl,v(s.title),1)]),o("div",dl,[e(a)?I("",!0):(n(),u("div",_l,[s.playerNumber&&s.teamColor?Me((n(),u("div",ul,[d(x,{fill:s.teamColor},null,8,["fill"]),o("span",null," # "+v(s.playerNumber),1)])),[[L,s.teamName]]):I("",!0),s.playerNumber&&s.teamColor?(n(),u("div",ml)):I("",!0),o("div",pl,v(e(r)),1)])),e(a)?(n(),A(U,{key:1,class:"mx-4"})):I("",!0),d(S,null,{trigger:k(({show:j})=>[d(w,{name:"menu",title:"Menu",type:"icon",class:"dropdown__icon",disabled:s.hasMenuDisabled,onClick:ue(j,["stop"])},{default:k(()=>[d(q)]),_:2},1032,["disabled","onClick"])]),default:k(()=>[d(G,null,{default:k(()=>[d(P,{size:"md"},{default:k(()=>[d(w,{class:"w-full text-secondary text-link row-center",type:"icon",name:"edit tag button",onClick:ue(g,["prevent"])},{default:k(()=>[o("div",gl,[d(E),te(" "+v(e(i)("button.edit")),1)])]),_:1})]),_:1}),d(P,{size:"md",class:"!text-[var(--base-error-color)]"},{default:k(()=>[d(w,{class:"w-full text-link row-center",type:"icon",name:"delete tag button",onClick:ue(O,["prevent"])},{default:k(()=>[o("div",vl,[d(M,{fill:"var(--base-error-color)"}),te(" "+v(e(i)("button.delete")),1)])]),_:1})]),_:1})]),_:1})]),_:1})])],2)}}}),bl=Object.assign(hl,{__name:"EventTagsListItem"}),yl={key:0,class:"absolute bottom-0 flex w-full justify-center gap-2 dark:bg-[var(--base-popup-bgColor)] py-6 px-4"},fl={class:"flex items-center justify-center gap-2 truncate"},xl={key:1,class:"absolute bottom-0 flex w-full justify-center gap-2 py-6 px-4 dark:bg-gradient-to-t from-[#000000]/40"},kl={class:"flex items-center justify-center truncate"},Tl=V({__name:"Footer",props:{tagsIds:{},canShowActionButton:{type:Boolean}},emits:["delete"],setup(m,{emit:t}){const{t:s}=oe(),i=t,h=le(),{playerError:r}=me(),{isOverlayActive:a}=Ke(),l=m,p=c(()=>r.value!==null),{startCreating:_}=pe(),b=()=>{_(),h.clips.isCreatingClip=!1};return(g,T)=>{const N=dt,O=se,R=We;return l.canShowActionButton?(n(),u("div",yl,[d(O,{title:e(s)("button.delete"),name:"delete-button",type:"secondary",class:"w-1/2 text-button-bold text-main",onClick:T[0]||(T[0]=D=>i("delete",l.tagsIds))},{default:k(()=>[o("div",fl,[d(N,{fill:"var(--base-error-color)"}),te(" "+v(e(s)("button.delete")),1)])]),_:1},8,["title"])])):(n(),u("div",xl,[d(O,{type:"primary",name:"create-tag",disabled:e(p)||e(a),title:e(s)("pages.events.tabs.event_tags.create_tag"),class:"w-1/2 text-button-bold text-main",onClick:b},{default:k(()=>[o("div",kl,[d(R,{width:16,height:16,fill:"#ffffff",class:"flex-shrink-0 mx-2"}),te(" "+v(e(s)("pages.events.tabs.event_tags.create_tag")),1)])]),_:1},8,["disabled","title"])]))}}}),wl=Object.assign(Tl,{__name:"EventTagsFooter"});function Cl(m,t){const s=z(new Map),i=c(()=>{const r=new Map;return m.value.forEach(a=>{const l={id:`tag.type=${a.type}`,type:"tagType",metadata:{tagType:a.type,tagPlayerNumber:a.playerNumber,tagTeam:a.tagTeam},filterFn:p=>p.type===a.type};if(r.set(l.id,l),a.tagTeam&&a.tagTeam.title){const p={id:`tag.team=${a.tagTeam?.title}`,type:"tagTeam",metadata:{tagType:a.type,tagPlayerNumber:a.playerNumber,tagTeam:a.tagTeam},strict:!0,filterFn:_=>_.tagTeam?.title===a.tagTeam?.title};r.set(p.id,p)}if(a.playerNumber&&a.tagTeam?.color){const p={id:`tag.teamColor=${a.tagTeam?.color};tag.playerNumber${a.playerNumber}`,type:"teamColor-playerNumber",metadata:{tagType:a.type,tagPlayerNumber:a.playerNumber,tagTeam:a.tagTeam},filterFn:_=>_.tagTeam?.color===a.tagTeam?.color&&_.playerNumber===a.playerNumber};r.set(p.id,p)}}),Object.values(Object.fromEntries(r.entries()))}),h=c(()=>{const a=Uo(m,{searchProperty:"title",searchValue:t?.searchValue}).value.sort((b,g)=>b.startTime-g.startTime);if(!s||s.value.size===0)return a;const l=[...s.value].filter(([b,g])=>g.type==="tagType"),p=[...s.value].filter(([b,g])=>g.type==="tagTeam"),_=[...s.value].filter(([b,g])=>g.type==="teamColor-playerNumber");return a.filter(b=>l.length?l.some(([g,T])=>T.filterFn(b)):!0).filter(b=>p.length?p.some(([g,T])=>T.filterFn(b)):!0).filter(b=>_.length?_.some(([g,T])=>T.filterFn(b)):!0)});return{filters:i,activeFilters:s,data:h}}function $l(m={}){const t=lt();return it({mutation:async s=>ct.bulkDelete(s),onSuccess:()=>{t.invalidateQueries({key:rt.root}),m.onSuccess?.()},onError:s=>{m.onError?.(s)}})}const Sl={key:1,class:"h-full max-lg:max-h-[49vh] flex flex-col"},Il={key:0,class:"py-8 text-center text-secondary"},El={class:"max-lg:max-h-[calc(49vh-60px)] h-[calc(100%-60px)] overflow-auto pb-24"},Pl={key:2,class:"flex flex-col items-center w-full px-4 py-10 text-center"},Bl={key:0,class:"py-6 text-body-medium text-secondary"},Al={class:"py-6 text-body-medium text-secondary"},Ul={class:"flex items-center gap-2"},Ll={class:"text-button-bold"},Ml={class:"py-6 text-body-medium text-secondary"},Nl=V({__name:"List",setup(m){const{t,te:s}=oe(),i=It(),h=Se(),r=Ge(),a=st(),l=le(),p=be().public,_=pe(),b=z(""),g=z([]),T=z(!1),{tags:N,tagsMap:O,error:R}=tt({id:l.data?.referenceId||""}),{player:D,playerState:B,playerError:f}=me(),{isOverlayActive:y}=Ke(),w=c(()=>a.isAuthenticated),C=c(()=>p.APP_CUSTOMER.web_sdk.enable_tagging_mode),x=c(()=>f.value!==null),U=c(()=>l.isEventStartingSoon),q=c(()=>B.value?.currentTime||0),E=c(()=>B.value?.playing),P=c(()=>!!a.user?.canCreateGlobalTag),M=F=>{const{message:H}=ze(F.message,{t,te:s});return r.error(H)},{mutate:G}=vo({onSuccess:()=>r.success(t("pages.events.tabs.event_tags.tag_deleting_successfully_text")),onError:M}),{mutate:S}=$l({onSuccess:()=>r.success(t("pages.events.tabs.event_tags.tag_deleting_successfully_text")),onError:M}),L=()=>{_.startCreating(),l.clips.isCreatingClip=!1},j=F=>{i.open(et,{heading:t("labels.modal_labels.delete_tag",1),icon:"tag",confirmLabel:t("button.delete"),variant:"delete",confirmFn:()=>{S(F)}})},Y=F=>{i.open(et,{heading:t("labels.modal_labels.delete_tag",0),icon:"tag",confirmLabel:t("button.delete"),variant:"delete",confirmFn:()=>{G(F)}})},Q=F=>{const H=O.value.get(F);H&&_.startEditing(H)},J=F=>D.value?.userActive(F),ie=()=>D.value?.pause(),re=F=>(D.value?.currentTime(F),D.value?.play()),{data:K,filters:$,activeFilters:X}=Cl(N,{searchValue:b}),ge=F=>g.value.includes(F.id),ae=F=>{const H=g.value.indexOf(F.id);H!==-1?g.value.splice(H,1):g.value.push(F.id)},Ie=()=>{K.value.forEach(F=>{const H=g.value.indexOf(F.id);!T.value&&H!==-1?g.value.splice(H,1):T.value&&!g.value.includes(F.id)&&g.value.push(F.id)})},_e=()=>{g.value=[],T.value=!1};return de(T,Ie),de(O,_e),(F,H)=>{const Ee=Po,Pe=Jn,ye=Ft,Be=bl,ne=wl,ve=We,Ae=se,fe=Vt,Ye=je("auto-animate");return e(R)?(n(),A(Ee,{key:0,text:e(R)?.message||"An error occurred"},null,8,["text"])):e(N).length?(n(),u("div",Sl,[d(Pe,{"search-value":e(b),"onUpdate:searchValue":H[0]||(H[0]=W=>Te(b)?b.value=W:null),"active-filters":e(X),"onUpdate:activeFilters":H[1]||(H[1]=W=>Te(X)?X.value=W:null),"is-all-tags-selected":e(T),"onUpdate:isAllTagsSelected":H[2]||(H[2]=W=>Te(T)?T.value=W:null),filters:e($),"checked-tags-total":e(g).length},null,8,["search-value","active-filters","is-all-tags-selected","filters","checked-tags-total"]),e(K).length?I("",!0):(n(),u("div",Il,v(e(t)("pages.events.tabs.event_tags.filters.no_tags")),1)),Me((n(),u("ul",El,[(n(!0),u(ee,null,ke(e(K),W=>(n(),u("li",{key:W.id,class:"py-1"},[d(Be,{id:W.id,title:W.title,"is-playing":e(E),"playing-time":e(q),type:W.type,"team-name":W.tagTeam?.title,"has-menu":!0,"has-menu-disabled":W.global&&!e(P),"player-number":W.playerNumber,"team-color":W.tagTeam?.color,"start-time":W.startTime,"end-time":W.endTime,onStop:H[3]||(H[3]=xe=>ie()),onPlay:re,onEdit:Q,onDelete:Y,onMouseover:H[4]||(H[4]=xe=>J(!0))},{start:k(()=>[d(ye,{name:"check-tag",class:"text-secondary","model-value":ge(W),onInput:xe=>ae(W)},null,8,["model-value","onInput"])]),_:2},1032,["id","title","is-playing","playing-time","type","team-name","has-menu-disabled","player-number","team-color","start-time","end-time"])]))),128))])),[[Ye]]),d(ne,{"tags-ids":e(g),"can-show-action-button":!!e(g).length,onDelete:j},null,8,["tags-ids","can-show-action-button"])])):(n(),u("div",Pl,[d(ve,{fill:"var(--base-icon-color)",width:32,height:32}),e(C)?e(w)?(n(),u(ee,{key:1},[o("p",Al,v(e(t)("pages.events.tabs.event_tags.title_no_tags")),1),d(Ae,{name:"createTag",class:"mb-5",type:"primary",disabled:e(x)||e(U)||e(y),onClick:L},{default:k(()=>[o("div",Ul,[d(ve,{width:16,height:16,fill:"#ffff"}),o("span",Ll,v(e(t)("pages.events.tabs.event_tags.create_tag")),1)])]),_:1},8,["disabled"])],64)):(n(),u(ee,{key:2},[o("p",Ml,v(e(t)("pages.events.tabs.event_tags.title_no_tags_not_logged_in")),1),d(fe,{mode:"sign-in",title:e(t)("labels.sign_in"),class:"font-bold text-white","redirect-url":e(h).fullPath},null,8,["title","redirect-url"])],64)):(n(),u("p",Bl,v(e(t)("pages.events.tabs.event_tags.title_enabled_tagging")),1))]))}}}),Ol=Object.assign(Nl,{__name:"EventTagsList"}),Ht=V({__name:"VideoClipper",props:{player:{},playerState:{},sliderLimit:{}},setup(m,{expose:t}){const s=m,i=z(null),h=z(null),r=z(),a=z(null);function l(){const f=i.value?.getSlider();if(!f)return;const[y,w]=f.getPositions(),C=document.querySelector(".pxl-video-clipping .noUi-connects");C&&(C?.style.setProperty("--mask-offset-left",y+"%"),C?.style.setProperty("--mask-offset-right",w+"%"))}function p(f){return h.value&&a.value?_(h.value)/(f-1):130}function _(f){var y=window.getComputedStyle(f);return f.clientWidth-parseFloat(y.paddingLeft)-parseFloat(y.paddingRight)}function b(){const f=s.player.spriteThumbnails().state.options,y=f.rows,w=f.cells,C=document.querySelectorAll(".pxl-video-clipping .noUi-value"),x=p(C.length);C.forEach((U,q,E)=>{if(q===E.length-1)return;const P=Number(U.getAttribute("data-value")),M=f.width,G=f.height,S=Math.round(P/f.interval),L=Math.floor(S/w),j=S%w,Y=`${M*w}px ${G*y}px`,Q=L*G,J=j*M;U.style.setProperty("--pip-width",getComputedStyle(U).width),U.style.setProperty("--frame-width",`${x}px`),U.style.setProperty("--frame-content","''"),U.style.setProperty("--frame-background-image",`url(${f.url})`),U.style.setProperty("--frame-background-size",Y),U.style.setProperty("--frame-background-position",`-${J}px -${Q}px`)})}function g(){i.value&&(r.value=i.value.getRange(),l())}function T(){i.value&&N()}function N(){if(!h.value)return;i.value&&(i.value.destroy(),i.value=null);const[f,y]=s.player.trimAPI.getRange();i.value=s.player.createAPI({sliderRange:{min:f,max:y},rootElement:h.value,sliderLimit:s.sliderLimit,showPips:!0,onChanged:g}),i.value.show(),b(),g()}function O(f,y){i.value?.setRange(f,y)}function R(){let f;s.player.duration()<=120&&(f=[0,s.player.duration()]),s.player.trimAPI.updateOptions({sliderStart:f,sliderBehaviour:"drag-fixed"})}function D(f){B(),window.ResizeObserver&&(a.value=new ResizeObserver(()=>{b()}),a.value.observe(f))}function B(){a.value&&(a.value.disconnect(),a.value=null)}return we(()=>{R(),N(),s.player.one("loadedmetadata",()=>{R(),N()}),s.player.trimAPI.updateOptions({createRangeIndicators:!1}),s.player.on("trim:changed",T),h.value&&D(h.value)}),Fe(()=>{s.player.off("trim:changed",T),i.value?.destroy(),B()}),t({selectedRange:r,setRange:O}),(f,y)=>(n(),u("div",{ref_key:"root",ref:h,class:"pxl-video-clipping"},null,512))}});function Rl(m={}){const t=lt();return it({mutation:async({tag:s})=>ct.save(s),onSuccess:()=>{t.invalidateQueries({key:rt.root}),m.onSuccess?.()},onError:s=>{m.onError?.(s)}})}function Dl(m={}){const t=lt();return it({mutation:async({tag:s})=>ct.update(s),onSuccess:()=>{t.invalidateQueries({key:rt.root}),m.onSuccess?.()},onError:s=>{m.onError?.(s)}})}const Vl={class:"createTagModal"},Fl={key:0,class:"flex flex-col background-main"},jl={class:"flex items-center justify-center gap-4 my-4 text-secondary"},Hl={class:"border min-w-[5rem] px-4 py-1 rounded border-[var(--base-card-bgSecondaryColor)]"},Gl={class:"border min-w-[5rem] px-4 py-1 rounded border-[var(--base-card-bgSecondaryColor)]"},zl={class:"my-4 text-sm font-medium text-center text-secondary"},ql={class:"createTagModal__container px-4"},Wl={class:"flex items-center justify-between pt-4"},Kl={class:"text-[var(--base-tab-text-color)] text-heading-3 text-center"},Yl={class:"h-[calc(100%-220px)] w-full mt-5"},Ql={class:"text-heading-4 text-secondary mb-2"},Xl={class:"baseTagSelect"},Zl={class:"tagModalInput"},Jl={class:"mt-6"},ei={id:"input-label-teamColor",class:"inline-block text-heading-4 text-secondary transition"},ti={class:"baseInputGroup"},oi=["onClick"],si={class:"font-medium truncate w-full lg:max-xl:w-32"},ai={class:"flex w-full justify-between gap-2"},ni={class:"flex items-center justify-center gap-2"},li={class:"truncate"},ii=V({__name:"Form",props:{mediaItem:{}},emits:["close"],setup(m,{emit:t}){const s=m,{t:i,te:h}=oe(),r=nt(),a=Ge(),l=le(),p=t,{activeEditTag:_,resetState:b,isCreatingTag:g}=pe(),T=()=>{p("close"),b()},N=c(()=>{const S=s.mediaItem?.sportType;return(S&&Xe[S]?Xe[S]:Xe.general).map(j=>({id:j.id,title:i(`tags.${j.id}`)}))}),O=S=>{const{message:L}=ze(S.message,{t:i,te:h});return a.error(L)&&T()},R=()=>{a.success(_.value?i("pages.events.tabs.event_tags.tag_updating_successfully_text"):i("pages.events.tabs.event_tags.tag_creating_successfully_text")),T()},{mutate:D,isLoading:B}=Rl({onSuccess:R,onError:O}),{mutate:f,isLoading:y}=Dl({onSuccess:R,onError:O}),w=c(()=>B.value||y.value),C=Ve([{teamId:s.mediaItem?.team1Id,title:s.mediaItem?.team1Name,color:s.mediaItem?.team1Color},{teamId:s.mediaItem?.team2Id,title:s.mediaItem?.team2Name,color:s.mediaItem?.team2Color}]),x=Ve({id:_.value?.id||"",title:_.value?.title||Qe(N.value[0].title),type:_.value?.type||N.value[0].id,startTime:_.value?.startTime||0,endTime:_.value?.endTime||0,playerNumber:_.value?.playerNumber||"",global:_.value?.global||!1,tagTeam:_.value?.tagTeam}),U=S=>{x.type=S.id,(!x.title||x.title!==Qe(S.title))&&!_.value&&(x.title=Qe(S.title))},q=()=>{if(_.value)return f({tag:x});D({tag:x})},{player:E,playerState:P}=me(),M=z(null),G=c(()=>{if(!M.value||!M.value.selectedRange||!E.value)return 0;const[S,L]=M.value.selectedRange,j=L-S;return Math.ceil(j)});return de(()=>M.value?.selectedRange,S=>{S&&(x.startTime=Math.floor(S[0]),x.endTime=Math.floor(S[1]))}),we(()=>{const S=E.value?.currentTime()||0,L=60,j=S-L,Y=S+L,Q=x.startTime,J=x.endTime;ot(()=>{if(_.value){E.value?.trimAPI.setRange(Q,J),M.value?.setRange(Q,J);return}E.value&&(E.value?.trimAPI.setRange(j,Y),M.value?.setRange(S,Y))})}),Fe(()=>E.value?.trimAPI?.hide()),(S,L)=>{const j=Ut,Y=at,Q=se,J=jt,ie=_t,re=Lo,K=We;return n(),u("div",Vl,[d(j,null,{default:k(()=>[(n(),A(St,{to:"#player-bottom"},[e(g)||e(l).clips.isCreatingClip?(n(),u("div",Fl,[o("div",jl,[o("div",Hl,v(e(Ne)(e(x).startTime)),1),L[5]||(L[5]=o("span",null,"-",-1)),o("div",Gl,v(e(Ne)(e(x).endTime)),1)]),e(E)&&e(P)?(n(),A(e(Ht),{key:0,ref_key:"videoClipperRef",ref:M,player:e(E),"player-state":e(P)},null,8,["player","player-state"])):I("",!0),o("div",zl,v(e(G))+" "+v(e(i)("labels.seconds",0)),1)])):I("",!0)]))]),_:1}),o("div",ql,[o("div",Wl,[o("h2",Kl,v(e(_)?e(i)("pages.events.tabs.event_tags.update_tag"):e(i)("pages.events.tabs.event_tags.create_tag")),1),d(Q,{type:"icon",name:"modal-close",title:e(i)("button.cancel"),onClick:L[0]||(L[0]=ue($=>T(),["prevent"]))},{default:k(()=>[d(Y)]),_:1},8,["title"])]),o("form",{class:"h-[calc(100%-220px)]",onSubmit:ue(q,["prevent"])},[o("div",Yl,[o("div",Ql,v(e(i)("pages.events.tabs.event_tags.choose_tag")),1),o("div",Xl,[(n(!0),u(ee,null,ke(e(N),$=>(n(),A(J,{key:$.id,"tag-type":$.id,"tag-title":$.title,"is-active":e(x).type===$.id,onClick:X=>U($)},null,8,["tag-type","tag-title","is-active","onClick"]))),128))]),d(ie,{modelValue:e(x).title,"onUpdate:modelValue":L[1]||(L[1]=$=>e(x).title=$),label:e(i)("pages.events.tabs.event_tags.name_the_tag"),"label-class":"text-heading-4",placeholder:e(i)("labels.tag_name_placeholder"),type:"text",name:"tag-modal","root-class":"mt-6",required:"",outline:""},null,8,["modelValue","label","placeholder"]),o("div",Zl,[o("div",Jl,[o("label",ei,v(e(i)("pages.events.tabs.event_tags.choose_player_color")),1)]),o("div",ti,[d(ie,{modelValue:e(x).playerNumber,"onUpdate:modelValue":L[2]||(L[2]=$=>e(x).playerNumber=$),"label-class":"text-heading-4",type:"text",pattern:"[0-9]{0,2}","aria-labelledby":"input-label-teamColor",name:"tag-modal",outline:"","root-class":"w-40"},{prefix:k(()=>[...L[6]||(L[6]=[o("span",{class:"text-secondary"}," # ",-1)])]),_:1},8,["modelValue"]),d(re,{modelValue:e(x).tagTeam,"onUpdate:modelValue":L[3]||(L[3]=$=>e(x).tagTeam=$),options:e(C),name:"teamInfo",placeholder:e(i)("pages.events.tabs.event_tags.choose_team"),"options-key-value":"title","root-class":"w-full flex-grow"},{innerInputPrefix:k(()=>[o("div",null,[o("div",{class:"rounded-full h-4 w-4 flex",style:ce({"background-color":e(x).tagTeam?.color})},null,4)])]),"option-item-inner":k(({option:$,select:X})=>[o("li",{class:"baseSelect__listOption flex !justify-start gap-2",onClick:ge=>X($)},[o("div",null,[o("div",{class:he(["rounded-full h-4 w-4 flex",{border:e(r).value===e(At).LIGHT}]),style:ce({"background-color":$?.color})},null,6)]),o("div",si,v($?.title),1)],8,oi)]),_:1},8,["modelValue","options","placeholder"])])]),o("div",ai,[d(Q,{type:"secondary",name:"modal-close",title:e(i)("button.cancel"),class:"w-1/2 text-button-bold text-main my-6",onClick:L[4]||(L[4]=$=>T())},{default:k(()=>[te(v(e(i)("button.cancel")),1)]),_:1},8,["title"]),d(Q,{type:"primary",name:"create-tag",disabled:e(w),title:e(_)?e(i)("pages.events.tabs.event_tags.update_tag"):e(i)("pages.events.tabs.event_tags.create_tag"),class:"w-1/2 text-button-bold text-main my-6"},{default:k(()=>[o("div",ni,[d(K,{width:16,height:16,fill:"#ffffff"}),o("span",li,v(e(_)?e(i)("pages.events.tabs.event_tags.update_tag"):e(i)("pages.events.tabs.event_tags.create_tag")),1)])]),_:1},8,["disabled","title"])])])],32)])])}}}),ri=Object.assign(ii,{__name:"EventTagsForm"});function ci(){const m=nt(),t=Et(mo);return c(()=>{let i="large",h=120,r=1;const a=64;return t.between("md","xl").value?(i="medium",h=100):t.between("xl","2xl").value?h=120:t.between("2xl","3xl").value?(h=130,r=1):t.greater("4xl").value&&(h=80,r=2),{url:`/sprite_${m.value}_${i}.png`,width:h,height:a,rows:1,cells:r}})}const di={class:"createClipModal"},_i={key:0,class:"flex flex-col background-main"},ui={class:"flex items-center justify-center gap-4 my-4 text-secondary"},mi={class:"border min-w-[5rem] px-4 py-1 rounded border-[var(--base-card-bgSecondaryColor)]"},pi={class:"border min-w-[5rem] px-4 py-1 rounded border-[var(--base-card-bgSecondaryColor)]"},gi={class:"my-4 text-sm font-medium text-center text-secondary"},vi={class:"p-4 createClipModal__container"},hi={class:"flex items-center justify-between"},bi={class:"text-[var(--base-tab-text-color)] text-heading-3 text-center"},yi={class:"flex justify-between w-full gap-2 mt-6"},fi={class:"flex items-center justify-center truncate"},xi=V({__name:"Form",props:{mediaItem:{}},setup(m){const t=m,s=Ge(),{t:i,te:h}=oe(),r=Ce(),a=le(),{isCreatingTag:l}=pe(),p=ci(),_=c(()=>a.clips.isEditingClip),b=c(()=>l.value||a.clips.isCreatingClip),g=Ve({name:_.value?t.mediaItem?.title:"",targetId:t.mediaItem?.referenceId,url:t.mediaItem?.source.hd||"",startTime:0,endTime:0,streamName:"hd"}),T=()=>{a.clips.isCreatingClip=!1,a.clips.isEditingClip=!1},N=E=>{const{message:P}=ze(E.message,{t:i,te:h});return s.error(P)&&T()},O=async()=>{const E=!_.value;s.success(_.value?i("pages.events.tabs.event_videos.clip_updating_successfully_text"):i("pages.events.tabs.event_videos.clip_creating_successfully_text"))&&T(),E&&t.mediaItem&&(a.userClips=await a.loadUserMedia(t.mediaItem.id,Z.USER_CLIP))},{loading:R,run:D}=Ze(Je.userMedia.createUserClip,{onSuccess:O,onError:N}),{loading:B,run:f}=Ze(Je.userMedia.updateUserClip,{onSuccess:O,onError:N}),y=c(()=>R.value||B.value),w=()=>{_.value?f(t.mediaItem?.id,g.name).then(()=>{a.data&&(a.data.title=g.name);const E=a.userClips.find(P=>P.id===t.mediaItem?.id);E&&(E.title=g.name)}):(D(g),t.mediaItem?.id&&r.track($e.CLIP_CREATED,{event_id:t.mediaItem.id}))},{player:C,playerState:x}=me(),U=z(null),q=c(()=>{if(!U.value||!U.value.selectedRange||!C.value)return 0;const[E,P]=U.value.selectedRange,M=P-E;return Math.ceil(M)});return de(()=>U.value?.selectedRange,E=>{E&&(g.startTime=Math.floor(E[0]),g.endTime=Math.floor(E[1]))}),we(()=>{const E=C.value?.currentTime()||0,P=60,M=E-P,G=E+P;ot(()=>{C.value&&(C.value?.trimAPI.setRange(M,G),U.value?.setRange(E,G),C.value.spriteThumbnails().updateOptions(p.value))})}),Fe(()=>C.value?.trimAPI?.hide()),(E,P)=>{const M=Ut,G=at,S=se,L=_t,j=qe;return n(),u("div",di,[d(M,null,{default:k(()=>[(n(),A(St,{to:"#player-bottom"},[e(l)||e(b)?(n(),u("div",_i,[o("div",ui,[o("div",mi,v(e(Ne)(e(g).startTime)),1),P[3]||(P[3]=o("span",null,"-",-1)),o("div",pi,v(e(Ne)(e(g).endTime)),1)]),e(C)&&e(x)?(n(),A(e(Ht),{key:0,ref_key:"videoClipperRef",ref:U,player:e(C),"player-state":e(x)},null,8,["player","player-state"])):I("",!0),o("div",gi,v(e(q))+" "+v(e(i)("labels.seconds",0)),1)])):I("",!0)]))]),_:1}),o("div",vi,[o("div",hi,[o("h2",bi,v(e(_)?e(i)("pages.events.tabs.event_videos.rename_clip"):e(i)("pages.events.tabs.event_videos.create_clip")),1),d(S,{type:"icon",name:"modal-close",title:e(i)("button.cancel"),onClick:P[0]||(P[0]=ue(Y=>T(),["prevent"]))},{default:k(()=>[d(G)]),_:1},8,["title"])]),o("form",{onSubmit:ue(w,["prevent"])},[d(L,{modelValue:e(g).name,"onUpdate:modelValue":P[1]||(P[1]=Y=>e(g).name=Y),label:e(i)("pages.events.tabs.event_videos.name_the_clip"),"label-class":"text-heading-4",placeholder:e(i)("labels.clip_name_placeholder"),type:"text",name:"clip-modal","root-class":"mt-6",required:"",outline:""},null,8,["modelValue","label","placeholder"]),o("div",yi,[d(S,{type:"secondary",name:"modal-close",title:e(i)("button.cancel"),class:"w-1/2 text-button-bold text-main",onClick:P[2]||(P[2]=Y=>T())},{default:k(()=>[te(v(e(i)("button.cancel")),1)]),_:1},8,["title"]),d(S,{type:"primary",name:"submit form",title:e(i)("pages.events.tabs.event_videos.create_clip"),disabled:e(y),class:"w-1/2 text-button-bold text-main"},{default:k(()=>[o("div",fi,[d(j,{width:16,height:16,fill:"#ffffff",class:"flex-shrink-0 mx-2"}),te(" "+v(e(_)?e(i)("pages.events.tabs.event_videos.rename_clip"):e(i)("pages.events.tabs.event_videos.create_clip")),1)])]),_:1},8,["title","disabled"])])],32)])])}}}),ki=Object.assign(xi,{__name:"EventVideosForm"}),Ti={class:"relative mt-6 lg:mt-0"},wi={key:0,class:"h-full px-4 py-8 overflow-auto background-main rounded-main text-main xl:px-9"},Ci={class:"flex items-center justify-center mb-8"},$i={class:"mx-1 text-body-medium"},Si={class:"background-main rounded-main text-main overflow-auto h-[calc(100%-76px)] w-full lg:aspect-[1]"},Ii={class:"background-main rounded-main text-main overflow-auto h-[calc(100%-76px)] w-full lg:aspect-[1]"},Ei={key:0,class:"flex flex-col items-center justify-center px-6 py-12 text-main"},Pi={key:0,class:"my-6 text-center text-heading-3 text-secondary"},Bi={key:1,class:"my-6 text-center text-heading-3 text-secondary"},Ai={class:"background-main rounded-main text-main overflow-auto h-[calc(100%-76px)] w-full lg:aspect-[1]"},Ui={key:0,class:"flex flex-col items-center justify-center px-6 py-12 text-main"},Li={key:0,class:"my-6 text-center text-heading-3 text-secondary"},Mi={key:1,class:"my-6 text-center text-heading-3 text-secondary"},Ni={key:1,class:"flex flex-col items-center justify-center px-6 py-12 text-main"},Oi={class:"py-6 text-center text-body-medium text-secondary"},Ri={key:4,class:"h-full"},Di={class:"px-4 py-3 mb-6",style:{background:"var(--base-card-bgColor)","border-radius":"var(--base-border-radius)"}},Vi={class:"text-lg font-medium text-main"},Fi={class:"background-main rounded-main text-main overflow-auto h-[calc(100%-76px)]"},ji=V({__name:"Tabs",props:{event:{}},setup(m){const t=Se(),s=Ce(),{t:i,locale:h}=oe(),r=be().public,a=m,l=le(),{playerError:p}=me(),{isCreatingTag:_,isEditingTag:b}=pe(),g=r.APP_CUSTOMER.enable_real_kickoff_time,T=r.APP_CUSTOMER.web_sdk.enable_tagging_mode,N=r.APP_CUSTOMER.enable_match_stats,O=r.APP_CUSTOMER.enable_event_scoring,R=c(()=>l.data?.isEventAvailableForUser),D=c(()=>l.data?.isEventAvailableInUserRegion),{lockMessage:B,isLocked:f,isGeoBlocked:y,isAuthLock:w}=to({commerceCoverage:a.event?.commerceCoverage||["commerce_free_media"],isEventAvailableForUser:R,isEventAvailableInUserRegion:D}),C=z(0),x=c(()=>t.params.eventId||void 0),U=c(()=>l.clips.isCreatingClip),q=c(()=>l.clips.isEditingClip),E=c(()=>!!t.query.mediaId),P=c(()=>U.value||q.value||_.value||b.value),M=c(()=>T&&!E.value&&!P.value),G=c(()=>l.gameStats),S=c(()=>l.scoreStats),L=c(()=>!!a.event?.geniusId),j=c(()=>(S.value||G.value)&&N),Y=c(()=>O&&a.event?.team1Score!=null&&a.event?.team2Score!=null),Q=c(()=>L.value||j.value||Y.value),J=c(()=>L.value||j.value),ie=c(()=>J.value?`/events/stats/${a.event?.id}`:void 0),re=c(()=>J.value?{name:"stats",path:ie.value}:void 0),K=c(()=>l.data?.isExternal),$=c(()=>a.event?.gameStartDate),X=c(()=>a.event?.eventStatus===He.UPCOMING),ge=c(()=>Rt($.value,"PPPp",h.value)),ae=c(()=>r.APP_CUSTOMER.live_stream_error_delay*1e3),Ie=c(()=>g?i("pages.events.time_till_kick_off"):i("pages.events.event_start_date",{date:ge.value})),_e=z(g&&Date.now()<Number($.value));let F=null;const H=()=>{F||(F=setTimeout(()=>{l.data?.source?.hd||(p.value=bt.STREAM_ERR,De.set(`streamError_${l.data?.id}`,"true",{expires:1}))},ae.value))},Ee=()=>{if(g){_e.value=!1;return}l.isEventStartingSoon=!0,H()},Pe=()=>{g&&X.value&&Date.now()>Number(a.event?.date)&&(l.isEventStartingSoon=!0,H())},ye=()=>{const ne=De.get(`streamError_${l.data?.id}`);if(l.data?.source?.hd){De.remove(`streamError_${l.data?.id}`);return}ne==="true"&&(p.value=bt.STREAM_ERR)},Be=()=>{if(a.event?.eventType!==Z.USER_CLIP&&a.event?.eventType!==Z.HIGHLIGHT||!a.event?.eventId)return;const ne={type:a.event?.eventType===Z.USER_CLIP?Z.CLIP:Z.HIGHLIGHT,event_id:a.event.eventId,clip_id:a.event?.eventType===Z.USER_CLIP?a.event?.id:void 0,highlight_id:a.event?.eventType===Z.HIGHLIGHT?a.event?.id:void 0};return s.track($e.BACK_TO_FULL_EVENT_CLICKED,ne)};return de(P,()=>{Date.now()<Number($.value)&&(_e.value=!_e.value)}),de(()=>l.data?.source?.hd,()=>{l.data?.source?.hd&&(F&&clearTimeout(F),p.value=null,De.remove(`streamError_${l.data?.id}`))}),we(()=>{ye()}),(ne,ve)=>{const Ae=oo,fe=Ks,Ye=va,W=To,xe=Co,pt=rn,Gt=Ol,zt=wo,qt=ri,Wt=ki,Kt=Mo,Yt=se;return n(),u("div",Ti,[e(X)||e(_e)?(n(),u("div",wi,[o("div",Ci,[d(Ae,{fill:"var(--base-icon-color)",class:"mx-1",height:16,width:16}),o("span",$i,v(e(Ie)),1)]),d(fe,{date:e($),onTimeupdate:Pe,onFinish:Ee},null,8,["date"])])):e(M)?(n(),A(zt,{key:1,"active-index":e(C),"onUpdate:activeIndex":ve[0]||(ve[0]=Qt=>Te(C)?C.value=Qt:null)},{default:k(()=>[e(Q)?(n(),A(W,{key:0,heading:e(i)("labels.stats"),icon:e(re)},{default:k(()=>[o("div",Si,[d(Ye,{event:ne.event,"score-stats":e(S),"game-stats":e(G)},null,8,["event","score-stats","game-stats"])])]),_:1},8,["heading","icon"])):I("",!0),d(W,{heading:e(i)("labels.highlights",0)},{default:k(()=>[o("div",Ii,[e(f)?(n(),u("div",Ei,[d(xe,{fill:"var(--base-icon-color)",width:"24",height:"32"}),!e(w)&&e(y)?(n(),u("p",Pi,v(e(i)("labels.lock_event_message.event_restricted")),1)):(n(),u("p",Bi,v(e(B)),1))])):(n(),A(pt,{key:1}))])]),_:1},8,["heading"]),d(W,{heading:e(i)("labels.tag",2)},{default:k(()=>[o("div",Ai,[e(f)?(n(),u("div",Ui,[d(xe,{fill:"var(--base-icon-color)",width:"24",height:"32"}),!e(w)&&e(y)?(n(),u("p",Li,v(e(i)("labels.lock_event_message.event_restricted")),1)):(n(),u("p",Mi,v(e(B)),1))])):e(K)?(n(),u("div",Ni,[d(xe,{fill:"var(--base-icon-color)",width:"24",height:"32"}),o("p",Oi,v(e(i)("pages.events.tabs.event_tags.is_external_content")),1)])):(n(),A(Gt,{key:2}))])]),_:1},8,["heading"])]),_:1},8,["active-index"])):e(_)||e(b)?(n(),A(qt,{key:2,"media-item":ne.event},null,8,["media-item"])):e(U)||e(q)?(n(),A(Wt,{key:3,"media-item":ne.event},null,8,["media-item"])):e(E)?(n(),u("div",Ri,[o("div",Di,[d(Yt,{class:"flex items-center",tag:"nuxt-link",type:"icon",name:e(i)("labels.watch_full_game"),to:{path:`/events/${e(x)}/`},onClickCapture:Be},{default:k(()=>[d(Kt,{width:12,height:12,class:"mr-2 text-main"}),o("div",Vi,v(e(i)("labels.watch_full_game")),1)]),_:1},8,["name","to"])]),o("div",Fi,[d(pt)])])):I("",!0)])}}}),Hi=Object.assign(ji,{__name:"EventTabs"});function Gi(m){const t=be().public,s=Se(),i=c(()=>`${t.APP_CUSTOMER.app_config.deploy_to_custom_url&&t.APP_CUSTOMER.custom_domain_url?t.APP_CUSTOMER.custom_domain_url:t.APP_CUSTOMER.portal_url}${s.fullPath}`),h=c(()=>{const l=Oe(m);if(!l)return t.APP_CUSTOMER.name;const p=l.team1Name&&l.team2Name?`${l.team1Name} vs ${l.team2Name}`:l.title,_=l.date?new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",b=l.metaTitle||l.title;return _?`${p} - ${_} | ${b}`:`${p} | ${b}`}),r=c(()=>{const l=Oe(m);if(!l)return t.APP_CUSTOMER.seo.meta_description||"";if(l.eventDescription)return l.eventDescription.substring(0,160);const p=l.team1Name&&l.team2Name?`${l.team1Name} vs ${l.team2Name}`:l.title;return`${l.eventStatus==="live"?"Watch live":l.eventStatus==="upcoming"?"Coming soon":"Watch"}: ${p}`}),a=c(()=>{const l=Oe(m);return l?.source?.poster||l?.imageUrl||t.APP_CUSTOMER.seo.meta_image_url});return ht({title:h}),po({title:h,description:r,ogTitle:h,ogDescription:r,ogImage:a,ogUrl:i,ogType:"video.other",ogSiteName:()=>t.APP_CUSTOMER.name,twitterCard:"summary_large_image",twitterTitle:h,twitterDescription:r,twitterImage:a}),ht({script:[{type:"application/ld+json",innerHTML:c(()=>{const l=Oe(m);if(!l)return"{}";const p={"@context":"https://schema.org","@type":"SportsEvent",name:l.title,url:i.value};if(l.eventDescription&&(p.description=l.eventDescription),l.date&&(p.startDate=new Date(l.date).toISOString()),(l.source?.poster||l.imageUrl)&&(p.image=l.source?.poster||l.imageUrl),l.team1Name||l.team2Name){const _=[];if(l.team1Name){const b={"@type":"SportsTeam",name:l.team1Name};l.team1LogoUrl&&(b.logo=l.team1LogoUrl),_.push(b)}if(l.team2Name){const b={"@type":"SportsTeam",name:l.team2Name};l.team2LogoUrl&&(b.logo=l.team2LogoUrl),_.push(b)}_.length>0&&(p.competitor=_)}return l.sportType&&(p.sport=l.sportType),l.categories&&l.categories.length>0&&(p.location={"@type":"Place",name:l.categories[0].title}),JSON.stringify(p)})}]}),{pageTitle:h,pageDescription:r,pageImage:a,pageUrl:i}}const zi={class:"main-container"},qi={key:0,class:"flex flex-col lg:flex-row mb-10 lg:gap-6"},Wi={key:1,class:"flex flex-col lg:flex-row mb-10 lg:gap-6"},Zr=V({__name:"[eventId]",setup(m){const{t}=oe(),s=Se(),i=le(),h=c(()=>i.data),r=c(()=>i.loading),a=c(()=>s.params.eventId||void 0);return de(()=>[s.params.eventId,s.query.mediaId,s.query.type],([l,p,_])=>{if(p)return i.load(p,_);i.reset(),l&&i.load(l,_)},{immediate:!0}),Gi(h),(l,p)=>{const _=As,b=Hi,g=No;return n(),u("div",zi,[e(r)||!e(h)?(n(),u("div",qi,[...p[0]||(p[0]=[o("div",{class:"skeletonLoading aspect-video lg:w-2/3"},null,-1),o("div",{class:"skeletonLoading lg:w-1/3"},null,-1)])])):(n(),u("div",Wi,[d(_,{class:"lg:w-2/3",event:e(h)},null,8,["event"]),d(b,{class:"lg:w-1/3",event:e(h)},null,8,["event"])])),d(g,{title:e(t)("pages.videos.user_interesting"),"event-id":e(a),class:"text-2xl text-main","hide-on-no-content":"","has-see-all-link":"",suggested:"","exclude-with-event-id":""},null,8,["title","event-id"])])}}});export{Zr as default};
