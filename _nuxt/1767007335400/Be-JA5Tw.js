import{_ as D}from"./BfVxZRFz.js";import{_ as M}from"./DjtFQFjx.js";import{_ as H}from"./B5PQPAnG.js";import{_ as K}from"./DNaFeO-P.js";import{_ as Q}from"./BmvnMvdl.js";import{u as X,k as Y,l as q,aV as J,i as Z,aW as tt,b as et,j as st,c as ot,_ as nt,n as at,m as lt,o as it}from"./vfF7RKPo.js";import{a as ct,b as rt,_ as pt}from"./d1rVCiWV.js";import{d as ut,N as x,s as I,X as dt,W as _t,K as mt,Q as ht,g,o as a,f as p,h as n,i as U,Y as o,v as _,c as u,b as d,F as ft,al as vt,ad as yt}from"./DrHYGv5w.js";import"./CnTqYZKX.js";import"./B47pBCHT.js";import"./B-DBQphj.js";import"./CeLpXuE_.js";import"./IVvJIK5b.js";import"./Dql7-ge0.js";import"./xeMFU3jQ.js";import"./DsilW_8g.js";const bt={class:"main-container mb-12"},xt={class:"text-heading-1-bold text-main mb-6"},gt={key:0,class:"skeletonLoading w-full h-12"},wt={key:1,class:"flex items-center"},kt={class:"flex items-center flex-1"},Tt={class:"flex gap-2 items-center text-secondary tab-active"},Ct={class:"flex items-center justify-center px-1 h-5 rounded-sm text-xs bg-[#f8f8f8] dark:bg-[#0f1624] tab-count-active"},St={class:"bg-neutral-light-200 ml-[-3px] rtl:ml-0 rtl:mr-[-5px] dark:bg-neutral-dark-700 p-2 rounded-r rtl:rounded-l"},Wt={class:"flex gap-2 items-center"},Pt={class:"truncate"},Lt={class:"flex gap-2 items-center"},Bt={class:"flex items-center justify-center px-1 h-5 rounded-sm text-xs bg-[#f8f8f8] dark:bg-[#0f1624] tab-active"},It=ut({__name:"[sportType]",setup(Ut){const{t:l}=X(),f=Y(),z=q(),S=J(),W=Z().public,v=f.params.sportType==="all"?void 0:f.params.sportType,E=x(()=>{const t=f.params.sportType;return t!=="all"&&t?{to:`/live/${t}`,title:l(`sport_types.${t}`),active:!0}:{to:"/live/all",title:l("labels.all"),active:!0}}),V=x(()=>[{to:"/",title:l("labels.main")},{to:"/live",title:l("labels.live"),active:!0},E.value]),y=tt("tabs-data",()=>null),w=I([]),h=I([]),j=x(()=>h.value.some(t=>t.key===v)),{run:A,loading:N}=et(st.loadGroupedSportCount,{onSuccess:t=>{y.value=t}}),m=x(()=>y.value?Object.entries(y.value).map(([t,s])=>W.APP_FLAGS?.isDev&&W.APP_FLAGS?.isPxa&&s.archived?{key:t,label:l(`sport_types.${t}`),count:s.archived,to:S({params:{sportType:t}})}:s.live||s.live===0?{key:t,label:l(`sport_types.${t}`),count:s.live,to:S({params:{sportType:t}})}:null).filter(Boolean):[]),P=(t,s)=>{const e=document.createElement("span");e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="nowrap",Object.assign(e.style,s),e.textContent=t,document.body.appendChild(e);const i=e.offsetWidth;return document.body.removeChild(e),i},$=t=>{const s={fontWeight:"500",fontSize:"14px",padding:"0 16px"},e=P(t?.label,s),i=P(String(t?.count),s);return e+i+16+32+8},b=()=>{let t=0;const s=window.innerWidth-100;w.value=[],h.value=[],m.value.forEach(e=>{const i=$(e);t+i<=s?(w.value.push(e),t+=i):h.value.push(e)})};function L(){const t=new URL(f.fullPath,window.location.origin).pathname;!m.value?.some(e=>new URL(e?.to??"",window.location.origin).pathname===t)&&m.value?.[0]?.to&&z.replace(m.value[0].to)}return dt(async()=>{y.value||await A(),b(),L(),window.addEventListener("resize",b)}),_t(()=>{window.removeEventListener("resize",b)}),mt(m,L),ht(b),ot({title:l("labels.live")}),(t,s)=>{const e=D,i=M,B=H,k=K,T=Q,C=nt,F=rt,R=ct,G=pt,O=lt;return a(),g("div",bt,[p(e,{items:o(V),class:"mb-10"},null,8,["items"]),n("h1",xt,_(o(l)("labels.live")),1),o(N)?(a(),g("div",gt)):o(m).length>1?(a(),g("div",wt,[n("div",kt,[p(B,{tabs:o(w),filled:"",class:"flex-1"},{default:d(({tab:r})=>[n("div",Tt,[p(i,{"sport-type":r.key,class:"w-4 h-4"},null,8,["sport-type"]),n("span",null,_(r.label),1),n("p",Ct,_(r?.count),1)])]),_:1},8,["tabs"]),o(h).length?(a(),u(G,{key:0},{trigger:d(({toggle:r,shown:c})=>[n("div",St,[o(j)?(a(),u(C,{key:0,name:"selected sport type",title:"Other",size:"small",class:"text-secondary w-24 !bg-[var(--base-primary-color)]",onClick:r},{default:d(()=>[n("div",Wt,[n("div",null,[p(i,{"sport-type":o(v),class:"w-4 h-4"},null,8,["sport-type"])]),n("span",Pt,_(o(l)(`sport_types.${o(v)}`)),1),n("div",null,[c?(a(),u(k,{key:0,class:"inline",height:8,width:8})):(a(),u(T,{key:1,class:"inline",height:8,width:8}))])])]),_:2},1032,["onClick"])):(a(),u(C,{key:1,name:"other tabs",title:"Other",size:"small",type:"icon",class:"flex items-center justify-center gap-2 !p-1 text-secondary",onClick:r},{default:d(()=>[yt(_(o(l)("labels.gameType_labels.other"))+" ",1),c?(a(),u(k,{key:0,class:"inline",height:8,width:8})):(a(),u(T,{key:1,class:"inline",height:8,width:8}))]),_:2},1032,["onClick"]))])]),default:d(({hide:r})=>[p(R,{class:"grid grid-cols-2 px-2"},{default:d(()=>[(a(!0),g(ft,null,vt(o(h),c=>(a(),u(F,{key:c.key,size:"md","has-hover":!1},{default:d(()=>[p(C,{link:"","full-width":"",type:"secondary",name:c.label,title:c.label,class:"w-full",onClickCapture:()=>{o(at)(c.to),r()}},{default:d(()=>[n("div",Lt,[p(i,{"sport-type":c.key,class:"w-4 h-4"},null,8,["sport-type"]),n("span",null,_(c.label),1),n("p",Bt,_(c?.count),1)])]),_:2},1032,["name","title","onClickCapture"])]),_:2},1024))),128))]),_:2},1024)]),_:1})):U("",!0)])])):U("",!0),p(O,{keepalive:"","sport-type":o(v),class:"mt-6"},null,8,["sport-type"])])}}}),Xt=it(It,[["__scopeId","data-v-e3c648fb"]]);export{Xt as default};
