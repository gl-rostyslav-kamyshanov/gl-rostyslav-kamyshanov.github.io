import{_ as F}from"./B47pBCHT.js";import{a as j}from"./B-DBQphj.js";import{d as N,E as q,N as y,Z as S,g as c,o as f,k as _,i as b,h as g,f as x,v as p,Y as d,e as E,l as z,q as C,ad as D,s as I,aj as Y}from"./DrHYGv5w.js";import{aA as P}from"./vfF7RKPo.js";const U={key:0,class:"flex content-center items-center justify-between"},M=["for"],G={key:1,class:"flex content-center items-center justify-between"},Z=["for"],J={key:0,class:"u-label-text"},R={key:2,class:"u-label-text"},T={key:3,class:"u-error-text"},H={key:4,class:"u-help-text mt-2"},K=N({__name:"FormGroup",props:{name:{},label:{},description:{},help:{},hint:{},error:{type:[String,Boolean],default:void 0},required:{type:Boolean},disabled:{type:Boolean},inline:{type:Boolean},containerClass:{},size:{},icon:{}},setup(e){const t=e,i=q("form-errors",null),o=y(()=>t.name),l=y(()=>t.error&&typeof t.error=="string"||typeof t.error=="boolean"?t.error:i?.value?.find(r=>r.path===t.name)?.message);return S("form-group",{error:l,name:y(()=>t.name),size:y(()=>t.size),disabled:y(()=>t.disabled)}),(r,u)=>{const n=F;return f(),c("div",{class:_(["u-form-group",r.inline&&"u-form-group-inline"])},[r.label&&t.icon?(f(),c("div",U,[g("label",{for:d(o),class:"flex w-full justify-between"},[g("p",{class:_(["u-label-text",[t.required?"u-label-text--required":"",t.disabled?"u-label-text--disabled":""]])},p(r.label),3)],8,M),x(n,{name:t.icon},null,8,["name"])])):r.label?(f(),c("div",G,[g("label",{for:d(o)},[g("p",{class:_(["u-label-text",[t.required?"u-label-text--required":"",t.disabled?"u-label-text--disabled":""]])},p(r.label),3)],8,Z),r.hint?(f(),c("span",J,p(r.hint),1)):b("",!0)])):b("",!0),r.description?(f(),c("p",R,p(r.description),1)):b("",!0),g("div",{class:_(d(j)([r.label?r.inline?"relative":"mt-2 relative":"",r.containerClass]))},[E(r.$slots,"default",z(C({error:d(l)})))],2),d(l)&&typeof d(l)!="boolean"?(f(),c("p",T,p(d(l)),1)):b("",!0),r.help||r.$slots.help?(f(),c("p",H,[E(r.$slots,"help"),D(" "+p(r.help),1)])):b("",!0)],2)}}}),ue=Object.assign(K,{__name:"UFormGroup"}),L=N({__name:"Form",props:{state:{},validate:{type:Function,default:()=>[]},validateOn:{default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:t,emit:i}){class o extends Error{constructor(a){super(a),this.message=a,Object.setPrototypeOf(this,o.prototype)}}const l=i,r=e,u=P("form-bus");u.on(async s=>{s.type!=="submit"&&r.validateOn?.includes(s.type)&&await v(s.path,{silent:!0})});const n=I([]);S("form-errors",n),S("form-events",u);async function m(){return await r.validate(r.state)}async function v(s,a={silent:!1}){if(s){const w=n.value.filter(A=>A.path!==s),k=(await m()).filter(A=>A.path===s);n.value=w.concat(k)}else n.value=await m();if(!a.silent&&n.value.length>0)throw new o(`Form validation failed: ${JSON.stringify(n.value,null,2)}`);return r.state}async function $(){try{r.validateOn?.includes("submit")&&await v(),l("submit",r.state)}catch(s){if(!(s instanceof o))throw s;l("error",n.value)}}return t({validate:v,errors:n,setErrors(s,a){n.value=s,a?n.value=n.value.filter(w=>w.path!==a).concat(s):n.value=s},getErrors(s){return s?n.value.filter(a=>a.path===s):n.value},clear(s){s?n.value=n.value.filter(a=>a.path===s):n.value=[]}}),(s,a)=>(f(),c("form",{onSubmit:Y($,["prevent"])},[E(s.$slots,"default")],32))}}),ce=Object.assign(L,{__name:"UForm"});function O(e,t){return Array.isArray(e)?e[0]:e[t]}function Q(e){return e==null}function W(e){return Array.isArray(e)&&e.length===0}function h(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}function X(e){return Q(e)||W(e)||e===!1?!1:!!String(e).trim().length}function ee(e){if(h(e))return!0;const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-z\-0-9]+\.)+[a-z]{2,}))$/i;return Array.isArray(e)?e.every(i=>t.test(String(i))):t.test(String(e))}function te(e){if(h(e))return!0;const t=/^https?:\/\/(?:www\.)?[-\w@:%.+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*$/;return Array.isArray(e)?e.every(i=>t.test(String(i))):t.test(String(e))}function re(e){return h(e)?!0:/^#[a-f0-9]{6}$/i.test(String(e))}function V(e,t){if(h(e))return!0;const i=O(t,"length");return Array.isArray(e)?e.every(o=>V(o,{length:i})):[...String(e)].length>=Number(i)}function B(e,t){if(h(e))return!0;const i=O(t,"length");return Array.isArray(e)?e.every(o=>B(o,{length:i})):[...String(e)].length<=Number(i)}function ne(e){if(h(e))return!0;const t=String(e).replace(/\D/g,"");return/^\d+$/.test(t)&&t.length>=4&&t.length<=15}function se(e,t,i){if(!e||!t||!i)return!1;const o=new Date().getFullYear(),l=o-120,r=Number.parseInt(e),u=Number.parseInt(t),n=Number.parseInt(i);if(u<1||u>12||r<1||r>31||n<l||n>o)return!1;const m=new Date(n,u-1,r);return m.getFullYear()===n&&m.getMonth()===u-1&&m.getDate()===r}const fe={email:ee,required:X,min:V,max:B,hex:re,url:te,phone:ne,dateOfBirth:se};export{ue as _,ce as a,fe as v};
