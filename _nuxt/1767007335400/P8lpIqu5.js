import{_ as h}from"./BL19-1aU.js";import{u as a,l as k,a as x,b as A,y as c,v as B}from"./vfF7RKPo.js";import{f as C}from"./BW4JKS41.js";import{d as P,g as l,o,c as u,i as b,F as E,al as F,Y as t}from"./DrHYGv5w.js";import"./w6JHJDJA.js";import"./IVvJIK5b.js";import"./Dql7-ge0.js";const V=P({__name:"devices",setup(I){const{locale:i}=a(),{t:m}=a(),d=k(),r=x(),p=()=>{r.isAuthenticated&&c.checkCurrent().catch(()=>y())},_=s=>C(s,"PPPP",i.value),{loading:f,error:n,run:v}=A(c.delete,{onSuccess:p});function y(){r.logout(),d.push({path:"/auth/login/",query:{deviceNoLongerAllowedError:"true"}})}return(s,L)=>{const g=h,D=B;return o(),l("div",null,[(o(!0),l(E,null,F(t(r).devices,e=>(o(),u(g,{key:e.id,class:"mb-4",title:e.deviceName,type:e.deviceType,active:e.isCurrent,date:_(e.addedAt),disabled:t(f),onDelete:N=>t(v)(e.id)},null,8,["title","type","active","date","disabled","onDelete"]))),128)),t(n)?(o(),u(D,{key:0,type:"danger",class:"mt-6",text:t(m)(`errors.${t(n)}`)},null,8,["text"])):b("",!0)])}}});export{V as default};
