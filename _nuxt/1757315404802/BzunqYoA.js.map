{"version":3,"file":"BzunqYoA.js","sources":["../../../../app/components/Base/Banner.vue","../../../../app/components/Base/Slider/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { BaseLogoPropsSize } from \"./Image.vue\";\nimport { type FALLBACK, SEGMENT_TRACK_EVENTS } from \"~/constants\";\n\nexport interface BaseBannerProps {\n  banner: IModelPoster;\n  slideImageClass?: string;\n  slideWidth?: BaseLogoPropsSize;\n  slideHeight?: BaseLogoPropsSize;\n  fallbackVariant?: (typeof FALLBACK)[keyof typeof FALLBACK];\n}\nconst props = withDefaults(defineProps<BaseBannerProps>(), {\n  slideImageClass: \"object-cover\",\n  slideWidth: \"full\",\n  slideHeight: \"full\",\n});\n\nconst segment = useSegment();\nconst sourceLocation = useSourceLocation();\n\nconst handleBannerClick = () => {\n  if (!props.banner.linkUrl)\n    return;\n\n  return segment.track(SEGMENT_TRACK_EVENTS.CLICK_ON_BANNERS, {\n    url: props.banner.linkUrl,\n    source_location: sourceLocation.value,\n  });\n};\n</script>\n\n<template>\n  <a v-if=\"banner.linkUrl && banner.linkTarget\" :href=\"banner.linkUrl\" :target=\"banner.linkTarget || '_blank'\" class=\"w-full h-full\">\n    <div class=\"h-full\">\n      <BaseImage\n        :width=\"slideWidth\"\n        :height=\"slideHeight\"\n        :src=\"banner?.imageUrl\"\n        :alt=\"banner.imageUrl\"\n        :class=\"slideImageClass\"\n        :fallback-variant=\"props.fallbackVariant\"\n        @click=\"handleBannerClick\"\n      />\n    </div>\n  </a>\n  <BaseImage\n    v-else\n    :width=\"slideWidth\"\n    :height=\"slideHeight\"\n    :src=\"banner.imageUrl\"\n    :alt=\"banner.imageUrl\"\n    :class=\"props.slideImageClass\"\n    :fallback-variant=\"props.fallbackVariant\"\n  />\n  <div class=\"absolute left-1/2 bottom-16 w-full max-w-[80%] text-center z-30 text-white translate-x-[-50%]\">\n    <h3 v-if=\"banner.title\" class=\"text-heading-2\" v-html=\"banner.title\" />\n    <div v-if=\"banner.description\" class=\"text-body-medium mt-4\" v-html=\"banner.description\" />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { BaseLogoPropsSize } from \"../Image.vue\";\nimport type { FALLBACK } from \"~/constants\";\n\nexport interface BaseSliderProps {\n  slides: IModelPoster[];\n  playInterval?: number;\n  inactivityInterval?: number;\n  slideImageClass?: string;\n  slideWidth?: BaseLogoPropsSize;\n  slideHeight?: BaseLogoPropsSize;\n  /**\n   * If set to true - will run slides to autoplay with the interval specified by `playInterval`\n   */\n  hasAutoplay?: boolean;\n  hasIndicator?: boolean;\n  hasControls?: boolean;\n  hasImageMask?: boolean;\n  fallbackVariant?: (typeof FALLBACK)[keyof typeof FALLBACK];\n}\nconst activeSlideIndex = ref(0);\nconst autoplayTimerId = ref<number>();\nconst inactivityTimerId = ref<number>();\n\nconst props = withDefaults(defineProps<BaseSliderProps>(), {\n  playInterval: 5000,\n  inactivityInterval: 3000,\n  slideImageClass: \"object-cover\",\n  slideWidth: \"full\",\n  slideHeight: \"full\",\n});\nconst hasControls = computed(() => props.hasControls && props.slides?.length > 1);\nconst hasIndicator = computed(() => props.hasIndicator && props.slides?.length > 1);\n\nfunction moveSlides(slidesToMove: number, autoplay?: boolean) {\n  const slidesNum = props.slides?.length - 1;\n  const nextSlide = activeSlideIndex.value + slidesToMove;\n\n  if (nextSlide > slidesNum)\n    activeSlideIndex.value = 0;\n  else if (nextSlide < 0)\n    activeSlideIndex.value = slidesNum;\n  else\n    activeSlideIndex.value = nextSlide;\n\n  if (props.hasAutoplay && !autoplay) {\n    clearInterval(autoplayTimerId.value);\n    clearTimeout(inactivityTimerId.value);\n\n    inactivityTimerId.value = setTimeout(() => runAutoPlay(), props.inactivityInterval) as unknown as number;\n  }\n}\n\nfunction runAutoPlay() {\n  if (!props.hasAutoplay)\n    return;\n\n  autoplayTimerId.value = setInterval(() => moveSlides(1, true), props.playInterval) as unknown as number;\n}\n\nfunction hasImageMask(slide: IModelPoster) {\n  return props.hasImageMask && (Boolean(slide.title?.trim()) || Boolean(slide.description?.trim()));\n}\n\nonMounted(() => runAutoPlay());\nonUnmounted(() => clearInterval(autoplayTimerId.value));\n</script>\n\n<template>\n  <div class=\"baseSlider\">\n    <div class=\"baseSlides\">\n      <div\n        v-for=\"(slide, slideIndex) in slides\"\n        :key=\"slideIndex\"\n        class=\"baseSlide\"\n        :class=\"{ baseSlide__active: activeSlideIndex === slideIndex, baseSlide__image_mask: hasImageMask(slide) }\"\n        :style=\"`--tw-translate-x: ${(slideIndex - activeSlideIndex) * 100}%;`\"\n      >\n        <BaseBanner\n          :banner=\"slide\"\n          :slide-image-class=\"props.slideImageClass\"\n          :slide-width=\"props.slideWidth\"\n          :slide-height=\"props.slideHeight\"\n          :fallback-variant=\"props.fallbackVariant\"\n        />\n      </div>\n    </div>\n\n    <div v-if=\"hasIndicator\" class=\"baseSliderIndicator\">\n      <div\n        v-for=\"(_slide, index) in slides\"\n        :key=\"index\"\n        class=\"baseSliderIndicator__item\"\n        :class=\"{ baseSliderIndicator__item_active: activeSlideIndex === index }\"\n        @click=\"moveSlides(index - activeSlideIndex)\"\n      />\n    </div>\n\n    <template v-if=\"hasControls\">\n      <BaseButton\n        class=\"baseSlider__button baseSlider__buttonBack\"\n        tag=\"div\"\n        type=\"icon\"\n        name=\"baseSlider-slide-back\"\n        @click=\"moveSlides(-1)\"\n      >\n        <IconChevronLeft class=\"relative z-10\" />\n      </BaseButton>\n      <BaseButton\n        class=\"baseSlider__button baseSlider__buttonNext\"\n        tag=\"div\"\n        type=\"icon\"\n        name=\"baseSlider-slide-back\"\n        @click=\"moveSlides(1)\"\n      >\n        <IconChevronRight class=\"relative z-10\" />\n      </BaseButton>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.baseSlider {\n  @apply relative w-full h-full overflow-hidden\n  flex flex-1;\n\n  .baseSlider__buttonBack {\n    @apply left-6;\n  }\n\n  .baseSlider__buttonNext {\n    @apply right-6;\n  }\n\n  .baseSlider__button {\n    @apply w-10 h-10 sm:w-14 sm:h-14\n    absolute z-30 top-1/2\n    mx-auto rounded-full overflow-hidden\n    flex items-center justify-center\n    transition duration-100\n    hover:shadow-lg;\n\n    color: #fff;\n    transform: translateY(-50%);\n\n    &::before {\n      @apply absolute w-full h-full z-0 opacity-75 rounded-full;\n\n      content: '';\n      background-color: #0f1624;\n    }\n  }\n\n  .baseSliderIndicator {\n    @apply absolute z-30 left-1/2 bottom-6 w-full max-w-[2/3] text-center flex justify-center items-center;\n\n    color: var(--base-text-color);\n    transform: translateX(-50%);\n  }\n\n  .baseSliderIndicator__item {\n    @apply w-1.5 h-1.5 bg-white mx-2 transition rounded-full flex-shrink-0 hover:cursor-pointer;\n  }\n\n  .baseSliderIndicator__item_active {\n    background-color: var(--base-primary-color);\n  }\n}\n\n.baseSlides {\n  @apply relative w-full overflow-hidden flex justify-center items-center;\n}\n\n.baseSlide {\n  @apply w-full\n  flex justify-center items-center\n  duration-700 ease-in-out absolute inset-0 transition-all transform z-10;\n\n  &.baseSlide__active {\n    @apply translate-x-0 z-10;\n  }\n}\n\n.baseSlide__image_mask::before {\n      @apply w-full h-full z-20 absolute top-0 left-0 right-0;\n      content: '';\n      background-image: linear-gradient(to bottom, rgba(15, 22, 36, 0.5), rgba(15, 22, 36, 0.5) 63%, #0f1624);\n}\n</style>\n"],"names":["props","__props","segment","useSegment","sourceLocation","useSourceLocation","handleBannerClick","SEGMENT_TRACK_EVENTS","banner","_createElementBlock","_createElementVNode","_hoisted_2","_createVNode","_component_BaseImage","slideWidth","slideHeight","slideImageClass","_createBlock","_normalizeClass","_hoisted_3","activeSlideIndex","ref","autoplayTimerId","inactivityTimerId","hasControls","computed","hasIndicator","moveSlides","slidesToMove","autoplay","slidesNum","nextSlide","runAutoPlay","setInterval","hasImageMask","slide","onMounted","onUnmounted","_openBlock","_hoisted_1","_Fragment","_renderList","slides","slideIndex","_unref","_normalizeStyle","_component_BaseBanner","_slide","index","$event","_component_BaseButton","_component_IconChevronLeft","_component_IconChevronRight"],"mappings":"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"}