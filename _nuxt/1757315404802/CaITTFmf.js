import{r as u,o as d}from"./ByLxOsXe.js";function I(a){const t=u(0),e=u([]),s=u([]),c=u(null),l=u(!1),v=a.pageSize||10,i=u(!1);function f(){if(t.value+=1,a.paginateExistItems){m();return}r()}function m(){l.value=!0,e.value=e.value.concat(s.value.slice(t.value*v,v*(t.value+1))),s.value.length<=e.value.length&&(i.value=!1),l.value=!1}function r(){return l.value=!0,c.value=null,a.loadItemsFn(t.value,v).then(n=>{s.value=n.content.entries,e.value=a.paginateExistItems?s.value.slice(0,v):e.value.concat(n.content.entries),i.value=n.content.nextExists||(a.paginateExistItems?e.value.length<n.content.entryCount:!1),l.value=!1,a.onItemsLoadedFn&&a.onItemsLoadedFn(e.value)}).catch(n=>{c.value=n.message,l.value=!1})}function o(){t.value=0,e.value=[],Array.isArray(a.preloadedItems)&&(e.value=e.value.concat(a.preloadedItems)),r()}return d(()=>a.immediate&&o()),{page:t,reset:o,loadMore:f,items:e,loading:l,error:c,canLoadMore:i}}export{I as u};
//# sourceMappingURL=CaITTFmf.js.map
