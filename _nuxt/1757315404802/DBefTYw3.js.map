{"version":3,"file":"DBefTYw3.js","sources":["../../../../app/components/Auth/Button.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { BaseButtonSize, BaseButtonTag, BaseButtonType } from \"~/components/Base/Button.vue\";\nimport useSSOLogin from \"~/composables/use-sso-login\";\n\nexport type TAuthMode = \"sign-in\" | \"sign-up\";\n\ninterface AuthButtonProps {\n  mode: TAuthMode;\n  title?: string;\n  disabled?: boolean;\n  link?: boolean;\n  fullWidth?: boolean;\n  fullRounded?: boolean;\n  tag?: BaseButtonTag;\n  type?: BaseButtonType;\n  attrType?: string;\n  size?: BaseButtonSize;\n  outline?: boolean;\n  redirectUrl?: string;\n  onSuccess?: () => void;\n  onError?: () => void;\n}\n\nconst props = withDefaults(defineProps<AuthButtonProps>(), {\n  tag: \"button\",\n  type: \"primary\",\n  fullWidth: false,\n  size: \"medium\",\n});\n\nconst router = useRouter();\nconst appConfig = useRuntimeConfig().public;\nconst { executeSocialLogin, socialLoginLoading } = useSSOLogin({ onSuccess: props.onSuccess, onError: props.onError });\n\nconst loginWithProvider = computed(() => {\n  if (appConfig.APP_FLAGS.hasIfaAuth && appConfig.APP_CUSTOMER.app_config.enable_skip_login_page_for_ifa_sso)\n    return \"ifa\";\n\n  return undefined;\n});\nconst loginPath = computed(() => props.mode === \"sign-in\" ? \"/auth/login/\" : \"/auth/sign-up/\");\n\nconst onClick = () => {\n  if (loginWithProvider.value)\n    return executeSocialLogin(loginWithProvider.value);\n\n  router.push({ path: loginPath.value, query: { redirectUrl: props.redirectUrl } });\n};\n</script>\n\n<template>\n  <BaseButton\n    :name=\"props.mode\"\n    :title=\"props.title\"\n    :disabled=\"props.disabled || socialLoginLoading\"\n    :link=\"props.link\"\n    :full-width=\"props.fullWidth\"\n    :full-rounded=\"props.fullRounded\"\n    :type=\"props.type\"\n    :attr-type=\"props.attrType\"\n    :size=\"props.size\"\n    :outline=\"props.outline\"\n    @click=\"onClick\"\n  >\n    {{ props.title }}\n  </BaseButton>\n</template>\n"],"names":["props","__props","router","useRouter","appConfig","useRuntimeConfig","executeSocialLogin","socialLoginLoading","useSSOLogin","loginWithProvider","computed","loginPath","onClick","_createBlock","_component_BaseButton","_unref","_createTextVNode","_toDisplayString"],"mappings":"ocAuBA,MAAMA,EAAQC,EAORC,EAASC,EAAA,EACTC,EAAYC,IAAmB,OAC/B,CAAE,mBAAAC,EAAoB,mBAAAC,CAAA,EAAuBC,EAAY,CAAE,UAAWR,EAAM,UAAW,QAASA,EAAM,OAAA,CAAS,EAE/GS,EAAoBC,EAAS,IAAM,CACvC,GAAIN,EAAU,UAAU,YAAcA,EAAU,aAAa,WAAW,mCACtE,MAAO,KAGX,CAAC,EACKO,EAAYD,EAAS,IAAMV,EAAM,OAAS,UAAY,eAAiB,gBAAgB,EAEvFY,EAAU,IAAM,CACpB,GAAIH,EAAkB,MACpB,OAAOH,EAAmBG,EAAkB,KAAK,EAEnDP,EAAO,KAAK,CAAE,KAAMS,EAAU,MAAO,MAAO,CAAE,YAAaX,EAAM,WAAA,CAAY,CAAG,CAClF,qCAIEa,EAcaC,EAAA,CAbV,KAAMd,EAAM,KACZ,MAAOA,EAAM,MACb,SAAUA,EAAM,UAAYe,EAAAR,CAAA,EAC5B,KAAMP,EAAM,KACZ,aAAYA,EAAM,UAClB,eAAcA,EAAM,YACpB,KAAMA,EAAM,KACZ,YAAWA,EAAM,SACjB,KAAMA,EAAM,KACZ,QAASA,EAAM,QACf,QAAAY,CAAA,aAED,IAAiB,CAAdI,EAAAC,EAAAjB,EAAM,KAAK,EAAA,CAAA,CAAA"}